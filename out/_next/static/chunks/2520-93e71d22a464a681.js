"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2520],{79545:(e,t,l)=>{l.d(t,{A:()=>n});var r=l(12983),a=l(95155);let n=(0,r.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},6748:(e,t,l)=>{l.d(t,{A:()=>n});var r=l(12983),a=l(95155);let n=(0,r.A)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},21831:(e,t,l)=>{l.d(t,{Z:()=>h});var r=l(85407),a=l(60160),n=l(12115),s=l(91888),o=l(2091),i=l(59175),c=l(95155);let d=["label","icon","showInMenu","onClick"],u=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],h=n.forwardRef((e,t)=>{let l=(0,i.A)();if(!e.showInMenu){let{label:s,icon:o,onClick:i}=e,u=(0,a.A)(e,d);return(0,c.jsx)(l.slots.baseIconButton,(0,r.A)({ref:t,size:"small",role:"menuitem","aria-label":s},u,{onClick:e=>{i?.(e)}},l.slotProps?.baseIconButton,{children:n.cloneElement(o,{fontSize:"small"})}))}let{label:h,icon:f,onClick:p,closeMenuOnClick:x=!0,closeMenu:m}=e,C=(0,a.A)(e,u);return(0,c.jsxs)(s.A,(0,r.A)({ref:t},C,{onClick:e=>{p?.(e),x&&m?.()},children:[f&&(0,c.jsx)(o.A,{children:f}),h]}))})},65068:(e,t,l)=>{l.d(t,{A:()=>D});var r=l(95155),a=l(48173),n=l.n(a),s=l(75436),o=l(4918),i=l(41983),c=l(36017),d=l(2091),u=l(60391);let h=e=>{let{page:t}=e;return(0,r.jsx)(s.default,{children:(0,r.jsx)(o.A,{children:t.map(e=>(0,r.jsx)(i.Ay,{disablePadding:!0,children:(0,r.jsxs)(c.A,{LinkComponent:n(),href:e.url,onClick:e.onClick,children:[(0,r.jsx)(d.A,{children:e.icon}),(0,r.jsx)(u.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var f=l(78897),p=l.n(f),x=l(12115),m=l(79046),C=l.n(m),A=l(2138),g=l(70689),j=l(96212),S=l(85067),N=l(85244),E=l(74676),w=l(92080),k=l(6069),b=l(9581),I=l(43677),O=l(20457),L=l(11451),v=l(46805),T=l(894),M=l(2295),R=l(9561),y=l(81894),z=l(91888);let D=()=>{let{auth:e,logout:t}=(0,g.A)(),[l,a]=(0,x.useState)(null),[o,i]=(0,x.useState)(!1),c=()=>{i(!1),a(null)},d=[{title:"USUARIOS ",url:"/start/usuarios/",icon:(0,r.jsx)(E.A,{})},{title:"PEDIDOS",url:"/start/pedidos/",icon:(0,r.jsx)(w.A,{})},{title:"CLIENTES",url:"/start/clients/",icon:(0,r.jsx)(j.A,{})},{title:"PRODUCTOS",icon:(0,r.jsx)(k.A,{}),onClick:e=>{i(!0),a(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas/",icon:(0,r.jsx)(b.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja/",icon:(0,r.jsx)(I.A,{})}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.default,{}),(0,r.jsxs)(s.default,{sx:{flexGrow:1},children:[(0,r.jsx)(L.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,r.jsxs)(v.A,{children:[(0,r.jsx)(T.A,{color:"inherit",onClick:e=>{a(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,r.jsx)(N.A,{})}),(0,r.jsx)(s.default,{sx:{display:{xs:"none",md:"flex"}},children:d.map(e=>(0,r.jsx)(M.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:n(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,r.jsx)(R.default,{variant:"h6",sx:{flexGrow:1}}),(0,r.jsx)(M.default,{component:n(),href:"/start",color:"inherit",children:(0,r.jsx)(A.A,{})}),(0,r.jsxs)(M.default,{className:C().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,r.jsx)(j.A,{}),e&&e.PER_Nom]}),(0,r.jsx)(M.default,{color:"inherit",onClick:()=>{p().fire({title:"\xbfQuieres terminar la Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#09ff00",cancelButtonColor:"#fa0000",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,r.jsx)(S.A,{})})]})}),(0,r.jsxs)(y.A,{id:"basic-menu",anchorEl:l,open:o,onClose:c,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,r.jsx)(z.A,{onClick:c,component:n(),href:"/start/buscarProd/",children:"Buscar Por Referencias"}),(0,r.jsx)(z.A,{onClick:c,component:n(),href:"/start/productosMG/",children:"Lista de Todos Los Productos"})]}),(0,r.jsx)(y.A,{id:"basic-menu",anchorEl:l,MenuListProps:{"aria-labelledby":"basic-button"},open:!!l,onClose:()=>{a(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,r.jsx)(h,{page:d})})]})]})}},58896:(e,t,l)=>{l.r(t),l.d(t,{default:()=>f});var r=l(95155),a=l(75436),n=l(8889),s=l(39241),o=l(70152),i=l(71014),c=l(70689),d=l(12115);let u=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],h=async()=>{try{let e=await fetch(n.c.url+"/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");return await e.json()}catch(e){return console.error("Error fetching clients:",e),[]}},f=e=>{let{setOpen:t,seleccionarCliente:l}=e,{setCliente:n}=(0,c.A)(),[f,p]=(0,d.useState)(""),[x,m]=(0,d.useState)([]),[C,A]=(0,d.useState)([]),[g,j]=(0,d.useState)([]);(0,d.useEffect)(()=>{(async()=>{let e=await h();e&&e.length>0?(j(e),A(e)):console.log("No se encontraron clientes")})()},[]);let S=e=>{j(C.filter(t=>{let l=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),r=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),a=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==l?void 0:l.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))||(null==a?void 0:a.includes(e.toLowerCase()))}))},N=(0,d.useCallback)(e=>{if(m(e),e.length>0){let r=C.filter(t=>{let l=t.CLIENTE;return l&&l.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(r)),n(r[0]),t(!1),l(r[0])}},[C]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.A,{container:!0,direction:"column",sx:{minHeight:"80vh",backgroundColor:"#ffffff",padding:2},children:[(0,r.jsxs)(a.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(s.A,{size:6,children:(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"CLIENTES"})})}),(0,r.jsx)(s.A,{size:6,children:(0,r.jsx)(o.A,{id:"outlined-basic",variant:"outlined",label:"Buscador...",value:f,onChange:e=>{e.preventDefault(),p(e.target.value),S(e.target.value)},sx:{width:"100%"}})})]}),(0,r.jsx)(s.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,r.jsx)(a.default,{sx:{height:650,width:"100%","& .super-app-theme--header":{backgroundColor:"#80f5e7",color:"#000000"}},children:(0,r.jsx)(i.z,{rows:g,columns:u,pageSizeOptions:[5,10,20,30],onRowSelectionModelChange:N,rowSelectionModel:x,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"},initialState:{pagination:{paginationModel:{page:0,pageSize:10}}}})})})]})})}},8889:(e,t,l)=>{l.d(t,{c:()=>r,m:()=>a});let r={url:"http://172.20.20.3:8001"},a={url:"http://192.168.1.3:3010/api"}},70689:(e,t,l)=>{l.d(t,{A:()=>c,AuthProvider:()=>i});var r=l(95155),a=l(12115),n=l(76046),s=l(89208);let o=(0,a.createContext)({login:e=>{},logout:()=>{}}),i=e=>{let{children:t}=e,l=(0,n.useRouter)(),[i]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)({}),[f,p]=(0,a.useState)({}),[x,m]=(0,a.useState)({}),C=(0,a.useCallback)(function(e){s.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),d(e)},[]),A=(0,a.useCallback)(function(){l.push("/"),s.A.remove("authTokens"),localStorage.removeItem("auth"),d(null)},[]);(0,a.useEffect)(()=>{let e=localStorage.getItem("auth")||s.A.get("authTokens"),t=localStorage.getItem("pedido"),l=localStorage.getItem("caja"),r=localStorage.getItem("cliente");r&&h(JSON.parse(r)),t&&p(JSON.parse(t)),l&&m(JSON.parse(l)),e&&d(JSON.parse(e))},[]);let g=(0,a.useMemo)(()=>({auth:c,cliente:u,setCliente:h,pedido:f,setPedido:p,caja:x,setCaja:m,loading:i,login:C,logout:A}),[c,u,f,x,C,A]);return(0,r.jsx)(o.Provider,{value:g,children:t})},c=()=>(0,a.useContext)(o)}}]);
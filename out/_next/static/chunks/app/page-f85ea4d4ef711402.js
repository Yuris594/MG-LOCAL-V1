(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{74475:function(e,t,n){Promise.resolve().then(n.bind(n,9960)),Promise.resolve().then(n.bind(n,67601))},9960:function(e,t,n){"use strict";n.r(t),n.d(t,{Copyright:function(){return _},default:function(){return O}});var o=n(57437),r=n(24732),a=n(83719),s=n(31193),i=n(13100),l=n(71733),d=n(79806),u=n(60091),c=n(20124),x=n(14446),f=n(48801),h=n(23983),p=n(25774),m=n(24563),g=n(11810),j=n(19490),v=n(85800),b=n(16463),y=n(27270),w=n(2265),C=n(66648),S=n(87138);let Z=(0,r.Z)({components:{MuiTextField:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px, 3px, 5px rgba(0,0,0,0.2)"}}},MuiButton:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px 3px 5px rgba(0,0,0,0.2)",transition:"0.3s","&:hover":{boxShadow:"0px 5px 10px rgba(0,0,0,0.4)",backgroundColor:"#388e3c"}}}}}}),E=w.forwardRef(function(e,t){return(0,o.jsx)(y.Z,{elevation:6,ref:t,variant:"filled",...e})});function _(e){return(0,o.jsxs)(a.default,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Departamento de Sistemas \xa9 Version 0.1 - ",new Date().getFullYear(),"."]})}let D=async(e,t)=>{let n=await fetch("/api/usuarios/listar/".concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});return await n.json()};function O(){let e=(0,b.useRouter)(),{login:t,auth:n}=(0,v.a)(),[r,y]=(0,w.useState)(),[O,R]=(0,w.useState)(""),[T,k]=(0,w.useState)(!1),[I,W]=(0,w.useState)(!1),[N,P]=(0,w.useState)(!1),[F,G]=(0,w.useState)(""),[U,z]=(0,w.useState)(!1);!1===U&&setTimeout(()=>{z(!0)},500);let H=async n=>{n.preventDefault();let o=await D(F,O);o.error?(P(!0),W(!0),console.log("Error",o.error)):(localStorage.setItem("usuarios",JSON.stringify(o)),k(!0),y(!0),t(o),e.push("../start"))},L=e=>{"clicaway"!==e&&k(!1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.default,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,o.jsx)(i.Z,{direction:"down",in:U,mountOnEnter:!0,unmountOnExit:!0,children:(0,o.jsx)(l.Z,{position:"static",sx:{bgcolor:"#262626",height:"80px"},children:(0,o.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,o.jsx)(a.default,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,marginLeft:"10px"},children:" "}),(0,o.jsx)(u.default,{component:S.default,href:"/components/ingresos",sx:{color:"white"},title:"Control de entredas y salidas de los empleados",children:(0,o.jsx)(m.Z,{sx:{fontSize:40}})})]})})}),(0,o.jsx)(c.default,{}),(0,o.jsx)(x.default,{theme:Z,children:(0,o.jsxs)(f.default,{component:"main",maxWidth:"xs",sx:{backgroundColor:"#ffffff",padding:4,borderRadius:2,boxShadow:"0px 5px 15px rgba(0,0,0,0.3)",marginTop:8},children:[(0,o.jsxs)(s.default,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(a.default,{variant:"h6",noWrap:!0,component:"div",sx:{margin:2},children:(0,o.jsx)(C.default,{className:"logo",src:"/logo_miguelgomez.png",width:"230",height:"200",alt:"Logo",priority:!0})}),"saved"==r?(0,o.jsx)(j.Z,{sx:{color:"green"}}):"","error"==r?(0,o.jsx)(g.Z,{sx:{color:"red"}}):"",(0,o.jsx)(s.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}}),(0,o.jsxs)(s.default,{component:"form",noValidate:!0,onSubmit:H,sx:{mt:1},children:[(0,o.jsx)(h.Z,{error:N,id:"usuario",label:"Usuario",margin:"normal",fullWidth:!0,name:"PER_Usuario",value:F,onChange:e=>G(e.target.value)}),(0,o.jsx)(a.default,{component:"h1",variant:"h6"}),(0,o.jsx)(h.Z,{error:N,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"PER_Clave",id:"contrase\xf1a",label:"Contrase\xf1a",value:O,onChange:e=>R(e.target.value)}),(0,o.jsx)(u.default,{type:"submit",variant:"contained",color:"success",sx:{marginTop:2,display:"flex",justifyContent:"center",alignItems:"center",minWidth:380},children:"Iniciar sesi\xf3n"})]})]}),T?(0,o.jsx)(p.Z,{open:T,autoHideDuration:6e3,onClose:L,children:(0,o.jsx)(E,{onClose:L,variant:"outlined",severity:"success",sx:{width:"100%"},children:"Usuario identificado."})}):"",I?(0,o.jsx)(p.Z,{open:I,autoHideDuration:6e3,onClose:L,children:(0,o.jsx)(E,{onClose:L,variant:"outlined",severity:"error",sx:{width:"100%"},children:"El usuario o la contrase\xf1a son incorrectos."})}):"",(0,o.jsx)(_,{sx:{mt:5,mb:5}})]})})]})})}}},function(e){e.O(0,[9541,4797,4129,6291,4275,3983,2561,6981,9105,7734,6648,6461,2127,7601,2971,7023,1744],function(){return e(e.s=74475)}),_N_E=e.O()}]);
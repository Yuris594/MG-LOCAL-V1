(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{40874:function(e,t,n){Promise.resolve().then(n.bind(n,9960)),Promise.resolve().then(n.bind(n,41223))},19490:function(e,t,n){"use strict";var r=n(23963);t.Z=void 0;var i=r(n(19118)),o=n(57437);t.Z=(0,i.default)((0,o.jsx)("path",{fillRule:"evenodd",d:"m9 17 3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m4.47 8.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"}),"HowToReg")},24563:function(e,t,n){"use strict";var r=n(23963);t.Z=void 0;var i=r(n(19118)),o=n(57437);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M16.49 15.5v-1.75L14 16.25l2.49 2.5V17H22v-1.5zm3.02 4.25H14v1.5h5.51V23L22 20.5 19.51 18zM9.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2M5.75 8.9 3 23h2.1l1.75-8L9 17v6h2v-7.55L8.95 13.4l.6-3C10.85 12 12.8 13 15 13v-2c-1.85 0-3.45-1-4.35-2.45l-.95-1.6C9.35 6.35 8.7 6 8 6q-.375 0-.75.15L2 8.3V13h2V9.65z"}),"TransferWithinAStation")},13100:function(e,t,n){"use strict";var r=n(2265),i=n(33822),o=n(92384),a=n(70576),s=n(60909),l=n(22960),c=n(95931),u=n(88095),d=n(57437);function f(e,t,n){let r=function(e,t,n){let r;let i=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),a=(0,u.Z)(t);if(t.fakeTransform)r=t.fakeTransform;else{let e=a.getComputedStyle(t);r=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(r&&"none"!==r&&"string"==typeof r){let e=r.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?o?"translateX(".concat(o.right+s-i.left,"px)"):"translateX(".concat(a.innerWidth+s-i.left,"px)"):"right"===e?o?"translateX(-".concat(i.right-o.left-s,"px)"):"translateX(-".concat(i.left+i.width-s,"px)"):"up"===e?o?"translateY(".concat(o.bottom+l-i.top,"px)"):"translateY(".concat(a.innerHeight+l-i.top,"px)"):o?"translateY(-".concat(i.top-o.top+i.height-l,"px)"):"translateY(-".concat(i.top+i.height-l,"px)")}(e,t,"function"==typeof n?n():n);r&&(t.style.webkitTransform=r,t.style.transform=r)}let x=r.forwardRef(function(e,t){let n=(0,l.default)(),x={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},p={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:h,appear:m=!0,children:g,container:v,direction:y="down",easing:b=x,in:j,onEnter:w,onEntered:C,onEntering:E,onExit:Z,onExited:S,onExiting:k,style:T,timeout:R=p,TransitionComponent:L=i.ZP,...z}=e,_=r.useRef(null),D=(0,s.Z)((0,o.Z)(g),_,t),I=e=>t=>{e&&(void 0===t?e(_.current):e(_.current,t))},O=I((e,t)=>{f(y,e,v),(0,c.n)(e),w&&w(e,t)}),V=I((e,t)=>{let r=(0,c.C)({timeout:R,style:T,easing:b},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",{...r}),e.style.transition=n.transitions.create("transform",{...r}),e.style.webkitTransform="none",e.style.transform="none",E&&E(e,t)}),W=I(C),P=I(k),H=I(e=>{let t=(0,c.C)({timeout:R,style:T,easing:b},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),f(y,e,v),Z&&Z(e)}),M=I(e=>{e.style.webkitTransition="",e.style.transition="",S&&S(e)}),N=r.useCallback(()=>{_.current&&f(y,_.current,v)},[y,v]);return r.useEffect(()=>{if(j||"down"===y||"right"===y)return;let e=(0,a.Z)(()=>{_.current&&f(y,_.current,v)}),t=(0,u.Z)(_.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[y,j,v]),r.useEffect(()=>{j||N()},[j,N]),(0,d.jsx)(L,{nodeRef:_,onEnter:O,onEntered:W,onEntering:V,onExit:H,onExited:M,onExiting:P,addEndListener:e=>{h&&h(_.current,e)},appear:m,in:j,timeout:R,...z,children:(e,t)=>r.cloneElement(g,{ref:D,style:{visibility:"exited"!==e||j?void 0:"hidden",...T,...g.props.style},...t})})});t.Z=x},9960:function(e,t,n){"use strict";n.r(t),n.d(t,{Copyright:function(){return k},default:function(){return R}});var r=n(57437),i=n(24732),o=n(83719),a=n(31193),s=n(13100),l=n(71733),c=n(79806),u=n(60091),d=n(20124),f=n(14446),x=n(48801),p=n(23983),h=n(25774),m=n(24563),g=n(11810),v=n(19490),y=n(85800),b=n(16463),j=n(27270),w=n(2265),C=n(66648),E=n(87138);let Z=(0,i.Z)({components:{MuiTextField:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px, 3px, 5px rgba(0,0,0,0.2)"}}},MuiButton:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px 3px 5px rgba(0,0,0,0.2)",transition:"0.3s","&:hover":{boxShadow:"0px 5px 10px rgba(0,0,0,0.4)",backgroundColor:"#388e3c"}}}}}}),S=w.forwardRef(function(e,t){return(0,r.jsx)(j.Z,{elevation:6,ref:t,variant:"filled",...e})});function k(e){return(0,r.jsxs)(o.default,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Departamento de Sistemas \xa9 Version 0.1 - ",new Date().getFullYear(),"."]})}let T=async(e,t)=>{try{let n=await fetch("/api/usuarios/listar/".concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}),r=await n.json();if(!n.ok||!r||(r.length,0))return{error:"Usuario o Clave incorrecta"};return r}catch(e){return console.error("Error en la petici\xf3n: ",e),{error:"Error en la conexi\xf3n"}}};function R(){let e=(0,b.useRouter)(),{login:t,auth:n}=(0,y.a)(),[i,j]=(0,w.useState)(),[R,L]=(0,w.useState)(""),[z,_]=(0,w.useState)(!1),[D,I]=(0,w.useState)(!1),[O,V]=(0,w.useState)(!1),[W,P]=(0,w.useState)(""),[H,M]=(0,w.useState)(!1);!1===H&&setTimeout(()=>{M(!0)},500);let N=async n=>{n.preventDefault();let r=await T(W,R);r.error?(V(!0),I(!0),console.log("Error",r.error)):(localStorage.setItem("usuarios",JSON.stringify(r)),_(!0),j(!0),t(r),e.push("../start"))},Y=e=>{"clicaway"!==e&&_(!1)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.default,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,r.jsx)(s.Z,{direction:"down",in:H,mountOnEnter:!0,unmountOnExit:!0,children:(0,r.jsx)(l.Z,{position:"static",sx:{bgcolor:"#262626",height:"80px"},children:(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,r.jsx)(o.default,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,marginLeft:"10px"},children:" "}),(0,r.jsx)(u.default,{component:E.default,href:"/components/ingresos",sx:{color:"white"},title:"Control de entredas y salidas de los empleados",children:(0,r.jsx)(m.Z,{sx:{fontSize:40}})})]})})}),(0,r.jsx)(d.default,{}),(0,r.jsx)(f.default,{theme:Z,children:(0,r.jsxs)(x.default,{component:"main",maxWidth:"xs",sx:{backgroundColor:"#ffffff",padding:4,borderRadius:2,boxShadow:"0px 5px 15px rgba(0,0,0,0.3)",marginTop:8},children:[(0,r.jsxs)(a.default,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(o.default,{variant:"h6",noWrap:!0,component:"div",sx:{margin:2},children:(0,r.jsx)(C.default,{className:"logo",src:"/logo_miguelgomez.png",width:"230",height:"200",alt:"Logo",priority:!0})}),"saved"==i?(0,r.jsx)(v.Z,{sx:{color:"green"}}):"","error"==i?(0,r.jsx)(g.Z,{sx:{color:"red"}}):"",(0,r.jsx)(a.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}}),(0,r.jsxs)(a.default,{component:"form",noValidate:!0,onSubmit:N,sx:{mt:1},children:[(0,r.jsx)(p.Z,{error:O,id:"usuario",label:"Usuario",margin:"normal",fullWidth:!0,name:"PER_Usuario",value:W,onChange:e=>P(e.target.value)}),(0,r.jsx)(o.default,{component:"h1",variant:"h6"}),(0,r.jsx)(p.Z,{error:O,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"PER_Clave",id:"contrase\xf1a",label:"Contrase\xf1a",value:R,onChange:e=>L(e.target.value)}),(0,r.jsx)(u.default,{type:"submit",variant:"contained",color:"success",sx:{marginTop:2,display:"flex",justifyContent:"center",alignItems:"center",minWidth:380},children:"Iniciar sesi\xf3n"})]})]}),z?(0,r.jsx)(h.Z,{open:z,autoHideDuration:6e3,onClose:Y,children:(0,r.jsx)(S,{onClose:Y,variant:"outlined",severity:"success",sx:{width:"100%"},children:"Usuario identificado."})}):"",D?(0,r.jsx)(h.Z,{open:D,autoHideDuration:6e3,onClose:Y,children:(0,r.jsx)(S,{onClose:Y,variant:"outlined",severity:"error",sx:{width:"100%"},children:"El usuario o la contrase\xf1a son incorrectos."})}):"",(0,r.jsx)(k,{sx:{mt:5,mb:5}})]})})]})})}}},function(e){e.O(0,[4488,9461,4797,4129,6291,4275,3983,2561,6981,8265,9105,7734,8433,4264,6648,6461,1223,2971,7023,1744],function(){return e(e.s=40874)}),_N_E=e.O()}]);
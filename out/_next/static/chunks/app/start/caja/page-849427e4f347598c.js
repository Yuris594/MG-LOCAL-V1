(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1205],{55867:function(e,t,a){Promise.resolve().then(a.bind(a,71194))},13726:function(e,t,a){"use strict";a.d(t,{Z:function(){return P}});var l=a(57437),i=a(33579),n=a.n(i),r=a(20124),o=a(31193),s=a(71733),d=a(79806),c=a(60335),u=a(60091),x=a(83719),h=a(62501),f=a(6291),p=a(11656),g=a(66325),m=a(90922),j=a(26032),C=a(55693),v=a(42188),S=a(66299),b=a(40301),Z=a(78457),k=a(21704),w=a(66246),N=a(16463),y=a(85800),E=a(2265),I=a(32184),O=a(7547),L=a(57300),R=a(86917),T=a(47905),D=a(87138),A=e=>{let{page:t}=e;return(0,l.jsx)(o.default,{children:(0,l.jsx)(I.Z,{children:t.map(e=>(0,l.jsx)(O.ZP,{disablePadding:!0,children:(0,l.jsxs)(L.Z,{LinkComponent:D.default,href:e.url,onClick:e.onClick,children:[(0,l.jsx)(R.Z,{children:e.icon}),(0,l.jsx)(T.Z,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};let B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",alignItems:"center",justifyContext:"center",boxShadow:24,textAlign:"center",pt:2,px:4,pb:3};var P=()=>{let e=(0,N.useRouter)(),{auth:t,logout:a}=(0,y.a)(),[i,I]=(0,E.useState)(!1),[O,L]=(0,E.useState)(null),[R,T]=(0,E.useState)(!1),P=()=>{T(!1),L(null)},z=[{title:"USUARIOS ",url:"../start/usuarios",icon:(0,l.jsx)(g.Z,{})},{title:"PEDIDOS",url:"/start/pedidos",icon:(0,l.jsx)(m.Z,{})},{title:"CLIENTES",url:"/start/clients",icon:(0,l.jsx)(j.Z,{})},{title:"PRODUCTOS",icon:(0,l.jsx)(C.Z,{}),onClick:e=>{T(!0),L(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas",icon:(0,l.jsx)(v.Z,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja",icon:(0,l.jsx)(S.Z,{})}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.default,{}),(0,l.jsxs)(o.default,{sx:{flexGrow:1},children:[(0,l.jsx)(s.Z,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(c.Z,{color:"inherit",onClick:e=>{L(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(b.Z,{fontSize:"large"})}),(0,l.jsx)(o.default,{sx:{display:{xs:"none",md:"flex"}},children:z.map(e=>(0,l.jsx)(u.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:D.default,href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,l.jsx)(x.default,{variant:"h6",sx:{flexGrow:1}}),(0,l.jsx)(u.default,{component:D.default,href:"/start",color:"inherit",children:(0,l.jsx)(w.Z,{fontSize:"large"})}),(0,l.jsxs)(u.default,{className:n().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,l.jsx)(k.Z,{fontSize:"large"}),t&&t.PER_Nom]}),(0,l.jsx)(u.default,{color:"inherit",onClick:()=>I(!0),children:(0,l.jsx)(Z.Z,{fontSize:"large"})})]})}),(0,l.jsx)(h.Z,{open:i,onClose:()=>I(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(o.default,{sx:B,children:[(0,l.jsx)(x.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\xbfEstas seguro que quiere salir?"}),(0,l.jsx)(o.default,{children:(0,l.jsx)(u.default,{sx:{bgcolor:"red"},variant:"contained",onClick:()=>{a(),e.push("/")},children:"SALIR"})})]})}),(0,l.jsxs)(f.Z,{id:"basic-menu",anchorEl:O,open:R,onClose:P,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,l.jsx)(p.Z,{onClick:P,component:D.default,href:"/start/productos",children:"Productos Por Bodega"}),(0,l.jsx)(p.Z,{onClick:P,component:D.default,href:"/start/productosMG",children:"Productos-MG"})]}),(0,l.jsx)(f.Z,{id:"basic-menu",anchorEl:O,MenuListProps:{"aria-labelledby":"basic-button"},open:!!O,onClose:()=>{L(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(A,{page:z})})]})]})}},71194:function(e,t,a){"use strict";a.r(t);var l=a(57437),i=a(69772),n=a.n(i),r=a(31193),o=a(83719),s=a(14595),d=a(60091),c=a(28027),u=a(32184),x=a(57300),h=a(47905),f=a(7547),p=a(60335),g=a(26460),m=a(62501),j=a(67622),C=a(2265),v=a(87138),S=a(61865),b=a(13726),Z=a(85800);let k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};t.default=()=>{let[e]=(0,C.useState)([]),[t,a]=(0,C.useState)(0),[i,w]=(0,C.useState)(0),[N,y]=(0,C.useState)(!1),[E,I]=(0,C.useState)(0),[O,L]=(0,C.useState)(""),{caja:R,setCaja:T,cliente:D}=(0,Z.a)(),[A,B]=(0,C.useState)(0),[P,z]=(0,C.useState)(0);(0,C.useEffect)(()=>{let e=e=>{let t=e.keyCode||e.which;if(t>=48&&t<=57||13===t){let e;0===P?e=I:1===P?e=a:2===P&&B(R.total),e&&e(e=>0===e?String.fromCharCode(t):e+String.fromCharCode(t))}},t=e=>{8===(e.keyCode||e.which)&&J()};return document.addEventListener("keypress",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("keypress",e),document.removeEventListener("keydown",t)}},[E,P]),(0,C.useEffect)(()=>{let a=[...e,{dinero:E},{dinero:t}].reduce((e,t)=>e+parseInt(t.dinero),0),l=R.total,i=parseInt(l.replace(/\./g,""));if(l===A){if(isNaN(A)||isNaN(i))L(0),w(0);else{let e=i-i,t=i-i;L(e>=0?e:0),w(t>=0?t:0)}}else if(isNaN(a)||isNaN(i))L(0),w(0);else{let e=i-a,t=a-i;console.log("Restante"+e),console.log("Restante"+t),L(e>=0?e:0),w(t>=0?t:0)}},[E,t,A,P]);let M=(e,t)=>{2===t&&B(R.total),z(t)},F=e=>{let t;let l=e.currentTarget.value;0===P?t=I:1===P?t=a:2===P&&B(R.total),t&&t(e=>0===e?l:e+l)},J=()=>{let e;0===P?e=I:1===P?e=a:2===P&&B(0),e&&e(e=>e.length>1?e.slice(0,-1):0)},_=e=>{let t;let l=parseInt(e.currentTarget.value);0===l?t=I:1===l?t=a:2===l&&(t=B),t&&t(e=>e.length>10?e.slice(0,-1):0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.default,{marginBottom:"50px",children:["  ",(0,l.jsx)(b.Z,{})," "]}),(0,l.jsxs)(r.default,{sx:{width:"auto",height:"auto",display:"auto",justifyContent:"center",margin:"10%",alignItems:"center",padding:"auto"},children:[(0,l.jsx)(o.default,{className:n().className,sx:{fontSize:50,alignItems:"center",justifyContent:"center"},gutterBottom:!0,children:" PAGO "}),(0,l.jsx)(s.Z,{}),(0,l.jsx)(d.default,{component:v.default,variant:"outlined",href:"../start/pedidos/pedidosCaja",sx:{margin:"2px",bgcolor:"#B0DDFF",color:"black"},onClick:()=>{localStorage.removeItem("pago"),T({})},children:"Atras"}),(0,l.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(c.Z,{sx:{width:"100%",bgcolor:"background"},children:[(0,l.jsx)(c.Z,{sx:{backgroundColor:"#ffffff"},children:(0,l.jsx)(o.default,{sx:{fontSize:17},color:"primary",gutterBottom:!0,children:"Metodo de Pago"})}),(0,l.jsx)(c.Z,{children:(0,l.jsxs)(u.Z,{component:"nav","aria-label":"main mailbox folders",children:[(0,l.jsx)(x.Z,{selected:0===P,onClick:e=>M(e,0),children:(0,l.jsx)(h.Z,{primary:"Efectivo"})}),(0,l.jsx)(x.Z,{selected:1===P,onClick:e=>M(e,1),children:(0,l.jsx)(h.Z,{primary:"Banco"})}),(0,l.jsx)(x.Z,{selected:2===P,onClick:e=>M(e,2),children:(0,l.jsx)(h.Z,{primary:"Cuenta Cliente"})})]})}),(0,l.jsx)(c.Z,{sx:{backgroundColor:"#ffffff"},children:(0,l.jsx)(o.default,{sx:{fontSize:17,marginBottom:1},color:"primary",gutterBottom:!0,children:"Resumen"})}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(f.ZP,{secondaryAction:(0,l.jsx)(p.Z,{value:0,onClick:_,edge:"end: ","aria-label":"delete",children:(0,l.jsx)(j.Z,{})}),children:(0,l.jsx)(h.Z,{primary:"Efectivo:  ".concat(E.toLocaleString("es"))})}),(0,l.jsx)(f.ZP,{secondaryAction:(0,l.jsx)(p.Z,{value:1,onClick:_,edge:"end","aria-label":"delete",children:(0,l.jsx)(j.Z,{})}),children:(0,l.jsx)(h.Z,{primary:"Banco:   "+t.toLocaleString("es")})}),(0,l.jsx)(f.ZP,{secondaryAction:(0,l.jsx)(p.Z,{value:2,onClick:_,edge:"end","aria-label":"delete",children:(0,l.jsx)(j.Z,{})}),children:(0,l.jsx)(h.Z,{primary:"Cuenta Cliente: "+A.toLocaleString("es")})})]}),(0,l.jsx)(g.Z,{orientation:"vertical","aria-label":"vertical outlined button group",variant:"text",sx:{margin:0,width:"100%",height:"100%"},children:(0,l.jsx)(d.default,{component:v.default,href:"../start/pedidos/ReciboCaja",variant:"outlined",onClick:()=>{let a=[...e,{efectivo:E},{banco:t},{cuentaCliente:A}],l=JSON.parse(localStorage.getItem("pago"))||{};l.cliente=D,l.tipoPago=a,l.cambio=i,localStorage.setItem("pago",JSON.stringify(l)),T(l)},sx:{width:"100%",height:250,backgroundColor:0===O?"#00796b":"transparent",color:0===O?"white":"black"},children:"Validar"})})]}),(0,l.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",width:"50%"},children:[(0,l.jsx)(r.default,{sx:{display:"flex",flexDirection:"column",zoom:2,width:"auto"},children:(0,l.jsxs)(g.Z,{variant:"text","aria-label":"text button group",sx:{height:60},children:[(0,l.jsxs)(d.default,{sx:{flexDirection:"row"},children:[(0,l.jsx)(o.default,{variant:"outline",sx:{display:"flex",paddingRight:2,color:"black",fontSize:"1vw"},gutterBottom:!0,children:" Cambio: $ "}),(0,l.jsxs)(o.default,{sx:{fontSize:"1vw"},gutterBottom:!0,children:[" ",i.toLocaleString("es")," "]})]}),(0,l.jsxs)(d.default,{sx:{flexDirection:"row"},children:[(0,l.jsx)(o.default,{variant:"outline",sx:{display:"flex",paddingRight:2,color:"black",fontSize:"1vw"},gutterBottom:!0,children:" Restante: $ "}),(0,l.jsxs)(o.default,{sx:{fontSize:"1vw"},gutterBottom:!0,children:[" ",O.toLocaleString("es")," "]})]}),(0,l.jsxs)(d.default,{sx:{flexDirection:"row"},children:[(0,l.jsx)(o.default,{variant:"outline",sx:{display:"flex",paddingRight:2,color:"black",fontSize:"1vw"},gutterBottom:!0,children:" Total: $ "}),(0,l.jsxs)(o.default,{sx:{fontSize:"1vw"},gutterBottom:!0,children:[" ",R.total," "]})]})]})}),(0,l.jsxs)(r.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",alignContent:"center",width:"100%",height:"100%",zoom:1.5},children:[(0,l.jsxs)(g.Z,{orientation:"vertical","aria-label":"vertical outlined button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:1,onClick:F,children:"1"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:4,onClick:F,children:"4"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:7,onClick:F,children:"7"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:0,onClick:F,children:"+/-"})]}),(0,l.jsxs)(g.Z,{orientation:"vertical","aria-label":"vertical contained button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:2,onClick:F,children:"2"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:5,onClick:F,children:"5"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:8,onClick:F,children:"8"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:0,onClick:F,children:"0"})]}),(0,l.jsxs)(g.Z,{orientation:"vertical","aria-label":"vertical contained button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:3,onClick:F,children:"3"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:6,onClick:F,children:"6"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:9,onClick:F,children:"9"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:",",onClick:F,children:","})]}),(0,l.jsxs)(g.Z,{orientation:"vertical","aria-label":"vertical contained button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:10,onClick:F,children:"+10"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:20,onClick:F,children:"+20"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},value:50,onClick:F,children:"+50"}),(0,l.jsx)(d.default,{variant:"outlined",sx:{height:"100px"},onClick:J,children:"X"})]})]})]}),(0,l.jsxs)(c.Z,{sx:{width:"20%",bgcolor:"background.paper"},children:[(0,l.jsxs)(u.Z,{component:"nav","aria-label":"main mailbox folders",sx:{marginTop:-47},children:[(0,l.jsx)(x.Z,{selected:3===P,onClick:()=>y(!0),children:(0,l.jsx)(h.Z,{primary:"Cliente: ".concat(D.NOMBREALIAS)})}),(0,l.jsx)(x.Z,{selected:4===P,onClick:e=>M(e,4),children:(0,l.jsx)(h.Z,{primary:"Factura"})})]}),(0,l.jsx)(m.Z,{open:N,onClose:()=>y(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(r.default,{sx:k,children:(0,l.jsx)(S.default,{setOpen:y})})})]})]})]})]})}},61865:function(e,t,a){"use strict";a.r(t);var l=a(57437),i=a(2265),n=a(77699),r=a(60335),o=a(83719),s=a(74275),d=a(85800),c=a(68265),u=a(60091),x=a(28027),h=a(15656),f=a(31193);let p=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],g=async()=>(await fetch("http://172.20.20.3:8001/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}})).json();t.default=e=>{let{setOpen:t}=e,{setCliente:a}=(0,d.a)(),[m,j]=(0,i.useState)(),[C,v]=(0,i.useState)(""),[S,b]=(0,i.useState)(!1),[Z,k]=(0,i.useState)([]),[w,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{y()},[]);let y=async()=>{let e=await g();try{e&&(j(e),k(e)),setTimeout(()=>{b(!0)},100)}catch(e){console.log("Error al obtener los datos",e)}},E=(0,i.useMemo)(()=>y,[]);(0,i.useEffect)(()=>{E()},[E]);let I=e=>{j(Z.filter(t=>{let a=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),l=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),i=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==a?void 0:a.includes(e.toLowerCase()))||(null==l?void 0:l.includes(e.toLowerCase()))||(null==i?void 0:i.includes(e.toLowerCase()))?t:null}))},O=(0,i.useCallback)(e=>{if(N(e),e.length>0){let l=Z.filter(t=>{let a=t.CLIENTE;return!!a&&a.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(l)),a(l[0]),t(!1)}},[m]);return setTimeout(()=>{b(!0)},100),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{style:{height:"auto",width:"100%",backgroundColor:"#ffffff"},children:[(0,l.jsx)(o.default,{variant:"h",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"auto",margin:0,color:"#000000"},children:"CLIENTES"}),(0,l.jsxs)(f.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,l.jsx)(u.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"}),(0,l.jsxs)(x.Z,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:650,margin:"0%"},children:[(0,l.jsx)(s.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar",inputProps:{"aria-label":"search google maps"},autoComplete:"usuario",autoFocus:!0,value:C,onChange:e=>{e.preventDefault(),v(e.target.value),I(e.target.value)}}),(0,l.jsx)(r.Z,{title:"buscar",type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,l.jsx)(n.Z,{})})]})]}),(0,l.jsx)(h.Z,{in:S,children:(0,l.jsx)(f.default,{sx:{height:640,width:"100%","& .super-app-theme--header":{backgroundColor:"#00796b",color:"#000000"}},children:(0,l.jsx)(c._,{rows:m,columns:p,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[5,10],onRowSelectionModelChange:O,rowSelectionModel:w,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"}})})})]})})}},85800:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return o},a:function(){return s}});var l=a(57437),i=a(2265),n=a(44785);let r=(0,i.createContext)({login:e=>{},logout:()=>{}}),o=e=>{let{children:t}=e,[a,o]=(0,i.useState)(null),[s,d]=(0,i.useState)({}),[c,u]=(0,i.useState)({}),[x,h]=(0,i.useState)({}),[f]=(0,i.useState)(!0),p=(0,i.useCallback)(function(e){n.Z.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),o(e)},[]),g=(0,i.useCallback)(function(){n.Z.remove("authTokens"),localStorage.removeItem("auth"),o(null)},[]);(0,i.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("cliente"),a=localStorage.getItem("pedido"),l=localStorage.getItem("caja");e&&o(JSON.parse(e)),t&&d(JSON.parse(t)),a&&u(JSON.parse(a)),l&&h(JSON.parse(l))},[]);let m=(0,i.useMemo)(()=>({auth:a,cliente:s,setCliente:d,pedido:c,setPedido:u,caja:x,setCaja:h,loading:f,login:p,logout:g}),[a,s,c,x,p,g]);return(0,l.jsx)(r.Provider,{value:m,children:t})},s=()=>(0,i.useContext)(r)}},function(e){e.O(0,[4488,6571,4797,4129,6291,4275,3983,2561,6981,8265,9105,8022,2971,7023,1744],function(){return e(e.s=55867)}),_N_E=e.O()}]);
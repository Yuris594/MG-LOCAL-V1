(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1267],{47739:(e,t,l)=>{Promise.resolve().then(l.bind(l,28932))},65068:(e,t,l)=>{"use strict";l.d(t,{A:()=>z});var a=l(95155),i=l(20457),r=l(75436),n=l(11451),o=l(46805),s=l(894),d=l(2295),c=l(9561),u=l(81894),x=l(91888),h=l(74676),f=l(92080),p=l(96212),g=l(6069),m=l(9581),j=l(43677),C=l(85244),A=l(85067),v=l(2138);l(76046);var S=l(70689),b=l(12115),k=l(4918),N=l(41983),w=l(36017),y=l(2091),E=l(60391),I=l(48173),O=l.n(I);let L=e=>{let{page:t}=e;return(0,a.jsx)(r.default,{children:(0,a.jsx)(k.A,{children:t.map(e=>(0,a.jsx)(N.Ay,{disablePadding:!0,children:(0,a.jsxs)(w.A,{LinkComponent:O(),href:e.url,onClick:e.onClick,children:[(0,a.jsx)(y.A,{children:e.icon}),(0,a.jsx)(E.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var R=l(78897),T=l.n(R),D=l(79046),B=l.n(D);let z=()=>{let{auth:e,logout:t}=(0,S.A)(),[l,k]=(0,b.useState)(null),[N,w]=(0,b.useState)(!1),y=()=>{w(!1),k(null)},E=[{title:"USUARIOS ",url:"/start/usuarios",icon:(0,a.jsx)(h.A,{})},{title:"PEDIDOS",url:"/start/pedidos",icon:(0,a.jsx)(f.A,{})},{title:"CLIENTES",url:"/start/clients",icon:(0,a.jsx)(p.A,{})},{title:"PRODUCTOS",icon:(0,a.jsx)(g.A,{}),onClick:e=>{w(!0),k(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas",icon:(0,a.jsx)(m.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja",icon:(0,a.jsx)(j.A,{})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)(r.default,{sx:{flexGrow:1},children:[(0,a.jsx)(n.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,a.jsxs)(o.A,{children:[(0,a.jsx)(s.A,{color:"inherit",onClick:e=>{k(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(C.A,{})}),(0,a.jsx)(r.default,{sx:{display:{xs:"none",md:"flex"}},children:E.map(e=>(0,a.jsx)(d.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:O(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,a.jsx)(c.default,{variant:"h6",sx:{flexGrow:1}}),(0,a.jsx)(d.default,{component:O(),href:"/start",color:"inherit",children:(0,a.jsx)(v.A,{})}),(0,a.jsxs)(d.default,{className:B().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,a.jsx)(p.A,{}),e&&e.PER_Nom]}),(0,a.jsx)(d.default,{color:"inherit",onClick:()=>{T().fire({title:"\xbfQuieres Terminar La Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#28ee32",cancelButtonColor:"#f12260",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,a.jsx)(A.A,{})})]})}),(0,a.jsxs)(u.A,{id:"basic-menu",anchorEl:l,open:N,onClose:y,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,a.jsx)(x.A,{onClick:y,component:O(),href:"/start/buscarProd",children:"Buscar Por Referencias"}),(0,a.jsx)(x.A,{onClick:y,component:O(),href:"/start/productosMG",children:"Lista de Todos Los Productos"})]}),(0,a.jsx)(u.A,{id:"basic-menu",anchorEl:l,MenuListProps:{"aria-labelledby":"basic-button"},open:!!l,onClose:()=>{k(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(L,{page:E})})]})]})}},28932:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>w});var a=l(95155),i=l(75436),r=l(2295),n=l(2241),o=l(78562),s=l(9561),d=l(4918),c=l(36017),u=l(60391),x=l(41983),h=l(894),f=l(62347),p=l(23613),g=l(450),m=l(12115),j=l(48173),C=l.n(j),A=l(58896),v=l(65068),S=l(70689),b=l(7190),k=l.n(b);let N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",maxWidth:"80vw",overflowY:"auto",overflowX:"hidden",padding:"16px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:24},w=()=>{let[e]=(0,m.useState)([]),[t,l]=(0,m.useState)(0),[j,b]=(0,m.useState)(0),[w,y]=(0,m.useState)(!1),[E,I]=(0,m.useState)(0),[O,L]=(0,m.useState)(""),{caja:R,setCaja:T,cliente:D}=(0,S.A)(),[B,z]=(0,m.useState)(0),[P,M]=(0,m.useState)(0);(0,m.useEffect)(()=>{let e=e=>{let t=e.keyCode||e.which;if(t>=48&&t<=57||13===t){let e;0===P?e=I:1===P?e=l:2===P&&z(R.total),e&&e(e=>0===e?String.fromCharCode(t):e+String.fromCharCode(t))}},t=e=>{8===(e.keyCode||e.which)&&V()};return document.addEventListener("keypress",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("keypress",e),document.removeEventListener("keydown",t)}},[E,P]),(0,m.useEffect)(()=>{let l=[...e,{dinero:E},{dinero:t}].reduce((e,t)=>e+parseInt(t.dinero),0),a=R.total,i=parseInt(a.replace(/\./g,""));if(a===B){if(isNaN(B)||isNaN(i))L(0),b(0);else{let e=i-i,t=i-i;L(e>=0?e:0),b(t>=0?t:0)}}else if(isNaN(l)||isNaN(i))L(0),b(0);else{let e=i-l,t=l-i;console.log("Restante"+e),console.log("Restante"+t),L(e>=0?e:0),b(t>=0?t:0)}},[E,t,B,P]);let F=(e,t)=>{2===t&&z(R.total),M(t)},J=e=>{let t;let a=e.currentTarget.value;0===P?t=I:1===P?t=l:2===P&&z(R.total),t&&t(e=>0===e?a:e+a)},V=()=>{let e;0===P?e=I:1===P?e=l:2===P&&z(0),e&&e(e=>e.length>1?e.slice(0,-1):0)},_=e=>{let t;let a=parseInt(e.currentTarget.value);0===a?t=I:1===a?t=l:2===a&&(t=z),t&&t(e=>e.length>10?e.slice(0,-1):0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.default,{children:[" "," "," ",(0,a.jsx)(v.A,{})," "," "," "]}),(0,a.jsxs)(i.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"10px",boxShadow:"0px 4px 12px rgba(0,0,0,0.1)"},children:[(0,a.jsxs)(i.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"90%",margin:1},children:[(0,a.jsxs)("h2",{className:k().className,style:{fontSize:"2rem",alignItems:"center",justifyContent:"center"},children:[" "," PAGO "," "]}),(0,a.jsx)(r.default,{component:C(),variant:"outlined",href:"../start/pedidos/pedidosCaja",sx:{bgcolor:"#B0DDFF",color:"black"},onClick:()=>{localStorage.removeItem("pago"),T({})},children:"Atras"})]}),(0,a.jsx)(n.A,{}),(0,a.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsxs)(o.A,{sx:{width:"50%",bgcolor:"background"},children:[(0,a.jsx)(o.A,{sx:{backgroundColor:"#ffffff"},children:(0,a.jsx)(s.default,{sx:{fontSize:17},color:"primary",gutterBottom:!0,children:"Metodo de Pago"})}),(0,a.jsx)(o.A,{children:(0,a.jsxs)(d.A,{component:"nav","aria-label":"main mailbox folders",children:[(0,a.jsx)(c.A,{selected:0===P,onClick:e=>F(e,0),children:(0,a.jsx)(u.A,{primary:"Efectivo"})}),(0,a.jsx)(c.A,{selected:1===P,onClick:e=>F(e,1),children:(0,a.jsx)(u.A,{primary:"Banco"})}),(0,a.jsx)(c.A,{selected:2===P,onClick:e=>F(e,2),children:(0,a.jsx)(u.A,{primary:"Cuenta Cliente"})})]})}),(0,a.jsx)(o.A,{sx:{backgroundColor:"#ffffff"},children:(0,a.jsx)(s.default,{sx:{fontSize:17,marginBottom:1},color:"primary",gutterBottom:!0,children:"Resumen"})}),(0,a.jsxs)(o.A,{children:[(0,a.jsx)(x.Ay,{secondaryAction:(0,a.jsx)(h.A,{value:0,onClick:_,edge:"end: ","aria-label":"delete",children:(0,a.jsx)(g.A,{})}),children:(0,a.jsx)(u.A,{primary:"Efectivo:  ".concat(E.toLocaleString("es"))})}),(0,a.jsx)(x.Ay,{secondaryAction:(0,a.jsx)(h.A,{value:1,onClick:_,edge:"end","aria-label":"delete",children:(0,a.jsx)(g.A,{})}),children:(0,a.jsx)(u.A,{primary:"Banco:   "+t.toLocaleString("es")})}),(0,a.jsx)(x.Ay,{secondaryAction:(0,a.jsx)(h.A,{value:2,onClick:_,edge:"end","aria-label":"delete",children:(0,a.jsx)(g.A,{})}),children:(0,a.jsx)(u.A,{primary:"Cuenta Cliente: "+B.toLocaleString("es")})})]}),(0,a.jsx)(f.A,{orientation:"vertical","aria-label":"vertical outlined button group",variant:"text",sx:{margin:0,width:"100%",height:"100%"},children:(0,a.jsx)(r.default,{component:C(),href:"../start/pedidos/ReciboCaja",variant:"outlined",onClick:()=>{let l=[...e,{efectivo:E},{banco:t},{cuentaCliente:B}],a=JSON.parse(localStorage.getItem("pago"))||{};a.cliente=D,a.tipoPago=l,a.cambio=j,localStorage.setItem("pago",JSON.stringify(a)),T(a)},sx:{width:"100%",height:250,backgroundColor:0===O?"#00796b":"transparent",color:0===O?"white":"black"},children:"Validar"})})]}),(0,a.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",width:"50%"},children:[(0,a.jsx)(i.default,{sx:{display:"flex",flexDirection:"column",zoom:2,width:"auto"},children:(0,a.jsxs)(f.A,{variant:"text","aria-label":"text button group",sx:{height:60},children:[(0,a.jsxs)(r.default,{sx:{flexDirection:"row"},children:[(0,a.jsxs)(s.default,{variant:"outline",sx:{display:"flex",paddingRight:2,color:"black",fontSize:"10px"},gutterBottom:!0,children:[" ","Cambio: "," "]}),(0,a.jsxs)(s.default,{sx:{fontSize:"10px"},gutterBottom:!0,children:[" ","$",j.toLocaleString("es")," "]})]}),(0,a.jsxs)(r.default,{sx:{flexDirection:"row"},children:[(0,a.jsxs)(s.default,{variant:"outline",sx:{display:"flex",paddingRight:2,color:"black",fontSize:"10px"},gutterBottom:!0,children:[" ","Restante: "," "]}),(0,a.jsxs)(s.default,{sx:{fontSize:"10px"},gutterBottom:!0,children:[" ","$",O.toLocaleString("es")," "]})]}),(0,a.jsxs)(r.default,{sx:{flexDirection:"row"},children:[(0,a.jsxs)(s.default,{variant:"outline",sx:{display:"flex",paddingRight:2,color:"black",fontSize:"10px"},gutterBottom:!0,children:[" ","Total: "," "]}),(0,a.jsxs)(s.default,{sx:{fontSize:"10px"},gutterBottom:!0,children:[" ","$",R.total," "]})]})]})}),(0,a.jsxs)(i.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",alignContent:"center",width:"100%",height:"100%",zoom:1.5},children:[(0,a.jsxs)(f.A,{orientation:"vertical","aria-label":"vertical outlined button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:1,onClick:J,children:"1"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:4,onClick:J,children:"4"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:7,onClick:J,children:"7"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:0,onClick:J,children:"+/-"})]}),(0,a.jsxs)(f.A,{orientation:"vertical","aria-label":"vertical contained button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:2,onClick:J,children:"2"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:5,onClick:J,children:"5"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:8,onClick:J,children:"8"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:0,onClick:J,children:"0"})]}),(0,a.jsxs)(f.A,{orientation:"vertical","aria-label":"vertical contained button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:3,onClick:J,children:"3"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:6,onClick:J,children:"6"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:9,onClick:J,children:"9"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:",",onClick:J,children:","})]}),(0,a.jsxs)(f.A,{orientation:"vertical","aria-label":"vertical contained button group",variant:"text",sx:{margin:"2px",width:"50%",height:"100%"},children:[(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:10,onClick:J,children:"+10"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:20,onClick:J,children:"+20"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},value:50,onClick:J,children:"+50"}),(0,a.jsx)(r.default,{variant:"outlined",sx:{height:"100px"},onClick:V,children:"X"})]})]})]}),(0,a.jsxs)(o.A,{sx:{width:"20%",bgcolor:"background.paper"},children:[(0,a.jsxs)(d.A,{component:"nav","aria-label":"main mailbox folders",sx:{marginTop:-47},children:[(0,a.jsx)(c.A,{selected:3===P,onClick:()=>y(!0),children:(0,a.jsx)(u.A,{primary:"CLIENTE: ".concat(D.NOMBREALIAS)})}),(0,a.jsx)(c.A,{selected:4===P,onClick:e=>F(e,4),children:(0,a.jsx)(u.A,{primary:"FACTURA"})})]}),(0,a.jsx)(p.A,{open:w,onClose:()=>y(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsx)(i.default,{sx:N,children:(0,a.jsx)(A.default,{setOpen:y})})})]})]})]})]})}},58896:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>p});var a=l(95155),i=l(12115),r=l(78205),n=l(894),o=l(6403),s=l(70689),d=l(74205),c=l(78562),u=l(8889),x=l(75436);let h=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],f=async()=>{try{let e=await fetch(u.c.url+"/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");return await e.json()}catch(e){return console.error("Error fetching clients:",e),[]}},p=e=>{let{setOpen:t}=e,{setCliente:l}=(0,s.A)(),[u,p]=(0,i.useState)(""),[g,m]=(0,i.useState)([]),[j,C]=(0,i.useState)([]),[A,v]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{let e=await f();e&&e.length>0?(v(e),C(e)):console.log("No se encontraron clientes")})()},[]);let S=e=>{v(j.filter(t=>{let l=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),a=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),i=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==l?void 0:l.includes(e.toLowerCase()))||(null==a?void 0:a.includes(e.toLowerCase()))||(null==i?void 0:i.includes(e.toLowerCase()))}))},b=(0,i.useCallback)(e=>{if(m(e),e.length>0){let a=j.filter(t=>{let l=t.CLIENTE;return l&&l.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(a)),l(a[0]),t(!1)}},[j]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{style:{height:"auto",width:"100%",backgroundColor:"#ffffff"},children:[(0,a.jsxs)(x.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,a.jsx)("h2",{children:(0,a.jsx)("strong",{children:"CLIENTES"})}),(0,a.jsxs)(c.A,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-right",width:600,margin:"0%"},children:[(0,a.jsx)(o.Ay,{sx:{ml:1,flex:1},placeholder:"Buscar",inputProps:{"aria-label":"search google maps"},autoComplete:"usuario",autoFocus:!0,value:u,onChange:e=>{e.preventDefault(),p(e.target.value),S(e.target.value)}}),(0,a.jsx)(n.A,{title:"buscar",type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,a.jsx)(r.A,{})})]})]}),(0,a.jsx)(x.default,{sx:{height:640,width:"100%","& .super-app-theme--header":{backgroundColor:"#00796b",color:"#000000"}},children:(0,a.jsx)(d.z,{rows:A,columns:h,pageSizeOptions:[5,10],onRowSelectionModelChange:b,rowSelectionModel:g,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"},initialState:{pagination:{paginationModel:{page:0,pageSize:10}}}})})]})})}},8889:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});let a={url:"http://172.20.20.3:8001"}},70689:(e,t,l)=>{"use strict";l.d(t,{A:()=>d,AuthProvider:()=>s});var a=l(95155),i=l(12115),r=l(76046),n=l(89208);let o=(0,i.createContext)({login:e=>{},logout:()=>{}}),s=e=>{let{children:t}=e,l=(0,r.useRouter)(),[s]=(0,i.useState)(!0),[d,c]=(0,i.useState)({}),[u,x]=(0,i.useState)(null),[h,f]=(0,i.useState)({}),[p,g]=(0,i.useState)({}),[m,j]=(0,i.useState)({}),[C,A]=(0,i.useState)({}),[v,S]=(0,i.useState)({}),b=(0,i.useCallback)(function(e){n.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),x(e)},[]),k=(0,i.useCallback)(function(){n.A.remove("authTokens"),localStorage.removeItem("auth"),x(null),l.push("/")},[]);(0,i.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("caja"),l=localStorage.getItem("pedido"),a=localStorage.getItem("pedidoV"),i=localStorage.getItem("cartera"),r=localStorage.getItem("cliente"),n=localStorage.getItem("clienteV");n&&j(JSON.parse(n)),a&&A(JSON.parse(a)),i&&S(JSON.parse(i)),e&&x(JSON.parse(e)),r&&g(JSON.parse(r)),l&&f(JSON.parse(l)),t&&c(JSON.parse(t))},[]);let N=(0,i.useMemo)(()=>({auth:u,cliente:p,setCliente:g,pedido:h,setPedido:f,caja:d,setCaja:c,clienteV:m,setClienteV:j,pedidosV:C,setPedidosV:A,carteraV:v,setCarteraV:S,loading:s,login:b,logout:k}),[u,p,h,d,m,C,v,b,k]);return(0,a.jsx)(o.Provider,{value:N,children:t})},d=()=>(0,i.useContext)(o)}},e=>{var t=t=>e(e.s=t);e.O(0,[339,4659,8320,6058,5854,994,5975,1260,6403,152,8173,2670,7493,6675,4205,8625,8441,1517,7358],()=>t(47739)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2883],{66765:(e,t,a)=>{Promise.resolve().then(a.bind(a,58896))},78205:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12983),l=a(95155);let s=(0,r.A)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},58896:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var r=a(95155),l=a(12115),s=a(78205),o=a(894),i=a(6403),n=a(70689),u=a(57653),d=a(78562),h=a(8889),c=a(75436);let p=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],g=async()=>{try{let e=await fetch(h.c.url+"/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");return await e.json()}catch(e){return console.error("Error fetching clients:",e),[]}},N=e=>{let{setOpen:t}=e,{setCliente:a}=(0,n.A)(),[h,N]=(0,l.useState)(""),[S,m]=(0,l.useState)([]),[f,C]=(0,l.useState)([]),[E,O]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{let e=await g();e&&e.length>0?(O(e),C(e)):console.log("No se encontraron clientes")})()},[]);let w=e=>{O(f.filter(t=>{let a=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),r=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),l=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==a?void 0:a.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))||(null==l?void 0:l.includes(e.toLowerCase()))}))},x=(0,l.useCallback)(e=>{if(m(e),e.length>0){let r=f.filter(t=>{let a=t.CLIENTE;return a&&a.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(r)),a(r[0]),t(!1)}},[f]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{height:"auto",width:"100%",backgroundColor:"#ffffff"},children:[(0,r.jsxs)(c.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"CLIENTES"})}),(0,r.jsxs)(d.A,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-right",width:600,margin:"0%"},children:[(0,r.jsx)(i.Ay,{sx:{ml:1,flex:1},placeholder:"Buscar",inputProps:{"aria-label":"search google maps"},autoComplete:"usuario",autoFocus:!0,value:h,onChange:e=>{e.preventDefault(),N(e.target.value),w(e.target.value)}}),(0,r.jsx)(o.A,{title:"buscar",type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,r.jsx)(s.A,{})})]})]}),(0,r.jsx)(c.default,{sx:{height:640,width:"100%","& .super-app-theme--header":{backgroundColor:"#00796b",color:"#000000"}},children:(0,r.jsx)(u.z,{rows:E,columns:p,pageSizeOptions:[5,10],onRowSelectionModelChange:x,rowSelectionModel:S,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"},initialState:{pagination:{paginationModel:{page:0,pageSize:10}}}})})]})})}},8889:(e,t,a)=>{"use strict";a.d(t,{c:()=>r});let r={url:"http://172.20.20.3:8001"}},70689:(e,t,a)=>{"use strict";a.d(t,{A:()=>u,AuthProvider:()=>n});var r=a(95155),l=a(12115),s=a(76046),o=a(89208);let i=(0,l.createContext)({login:e=>{},logout:()=>{}}),n=e=>{let{children:t}=e,a=(0,s.useRouter)(),[n]=(0,l.useState)(!0),[u,d]=(0,l.useState)({}),[h,c]=(0,l.useState)(null),[p,g]=(0,l.useState)({}),[N,S]=(0,l.useState)({}),[m,f]=(0,l.useState)({}),[C,E]=(0,l.useState)({}),[O,w]=(0,l.useState)({}),x=(0,l.useCallback)(function(e){o.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),c(e)},[]),I=(0,l.useCallback)(function(){o.A.remove("authTokens"),localStorage.removeItem("auth"),c(null),a.push("/")},[]);(0,l.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("caja"),a=localStorage.getItem("pedido"),r=localStorage.getItem("pedidoV"),l=localStorage.getItem("cartera"),s=localStorage.getItem("cliente"),o=localStorage.getItem("clienteV");o&&f(JSON.parse(o)),r&&E(JSON.parse(r)),l&&w(JSON.parse(l)),e&&c(JSON.parse(e)),s&&S(JSON.parse(s)),a&&g(JSON.parse(a)),t&&d(JSON.parse(t))},[]);let v=(0,l.useMemo)(()=>({auth:h,cliente:N,setCliente:S,pedido:p,setPedido:g,caja:u,setCaja:d,clienteV:m,setClienteV:f,pedidosV:C,setPedidosV:E,carteraV:O,setCarteraV:w,loading:n,login:x,logout:I}),[h,N,p,u,m,C,O,x,I]);return(0,r.jsx)(i.Provider,{value:v,children:t})},u=()=>(0,l.useContext)(i)}},e=>{var t=t=>e(e.s=t);e.O(0,[6058,5854,994,5975,1260,6403,152,2670,6675,7653,8441,1517,7358],()=>t(66765)),_N_E=e.O()}]);
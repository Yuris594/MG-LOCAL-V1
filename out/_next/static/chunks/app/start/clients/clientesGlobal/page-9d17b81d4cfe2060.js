(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{52003:function(e,t,r){Promise.resolve().then(r.bind(r,61865))},77699:function(e,t,r){"use strict";var n=r(23963);t.Z=void 0;var o=n(r(19118)),a=r(57437);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},19118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(49013)},49013:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return o.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return u.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return s.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return p},setRef:function(){return h},unstable_ClassNameGenerator:function(){return E},unstable_memoTheme:function(){return c.Z},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return C},useControlled:function(){return N.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return x.Z}});var n=r(89424),o=r(12272),a=r(11897).Z,u=r(59018),i=r(70576),l=function(e,t){return()=>null},s=r(19783),c=r(339),d=r(8754),f=r(88095),p=function(e,t){return()=>null},h=r(49969).Z,m=r(48632),g=r(88256),C=function(e,t,r,n,o){return null},N=r(75115),v=r(26182),x=r(60909);let E={configure:e=>{n.Z.configure(e)}}},88256:function(e,t,r){"use strict";var n=r(80292);t.Z=n.default},61865:function(e,t,r){"use strict";r.r(t);var n=r(57437),o=r(2265),a=r(77699),u=r(60335),i=r(83719),l=r(74275),s=r(85800),c=r(68265),d=r(60091),f=r(28027),p=r(31193);let h=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],m=async()=>{try{let e=await fetch("/api/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");return await e.json()}catch(e){return console.error("Error fetching clients:",e),[]}};t.default=e=>{let{setOpen:t}=e,{setCliente:r}=(0,s.a)(),[g,C]=(0,o.useState)([]),[N,v]=(0,o.useState)([]),[x,E]=(0,o.useState)(""),[S,w]=(0,o.useState)([]);(0,o.useEffect)(()=>{(async()=>{let e=await m();e&&e.length>0?(C(e),v(e)):console.log("No se encontraron clientes")})()},[]);let b=e=>{C(N.filter(t=>{let r=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),n=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),o=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==r?void 0:r.includes(e.toLowerCase()))||(null==n?void 0:n.includes(e.toLowerCase()))||(null==o?void 0:o.includes(e.toLowerCase()))}))},I=(0,o.useCallback)(e=>{if(w(e),e.length>0){let n=N.filter(t=>{let r=t.CLIENTE;return r&&r.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(n)),r(n[0]),t(!1)}},[N]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{height:"auto",width:"100%",backgroundColor:"#ffffff"},children:[(0,n.jsx)(i.default,{variant:"h",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"auto",margin:0,color:"#000000"},children:"CLIENTES"}),(0,n.jsxs)(p.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,n.jsx)(d.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"}),(0,n.jsxs)(f.Z,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-right",width:650,margin:"0%"},children:[(0,n.jsx)(l.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar",inputProps:{"aria-label":"search google maps"},autoComplete:"usuario",autoFocus:!0,value:x,onChange:e=>{e.preventDefault(),E(e.target.value),b(e.target.value)}}),(0,n.jsx)(u.Z,{title:"buscar",type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,n.jsx)(a.Z,{})})]})]}),(0,n.jsx)(p.default,{sx:{height:640,width:"100%","& .super-app-theme--header":{backgroundColor:"#00796b",color:"#000000"}},children:(0,n.jsx)(c._,{rows:g,columns:h,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[5,10],onRowSelectionModelChange:I,rowSelectionModel:S,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"}})})]})})}},85800:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return l}});var n=r(57437),o=r(2265),a=r(44785);let u=(0,o.createContext)({login:e=>{},logout:()=>{}}),i=e=>{let{children:t}=e,[r,i]=(0,o.useState)(null),[l,s]=(0,o.useState)({}),[c,d]=(0,o.useState)({}),[f,p]=(0,o.useState)({}),[h]=(0,o.useState)(!0),m=(0,o.useCallback)(function(e){a.Z.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),i(e)},[]),g=(0,o.useCallback)(function(){a.Z.remove("authTokens"),localStorage.removeItem("auth"),i(null)},[]);(0,o.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("cliente"),r=localStorage.getItem("pedido"),n=localStorage.getItem("caja");e&&i(JSON.parse(e)),t&&s(JSON.parse(t)),r&&d(JSON.parse(r)),n&&p(JSON.parse(n))},[]);let C=(0,o.useMemo)(()=>({auth:r,cliente:l,setCliente:s,pedido:c,setPedido:d,caja:f,setCaja:p,loading:h,login:m,logout:g}),[r,l,c,f,m,g]);return(0,n.jsx)(u.Provider,{value:C,children:t})},l=()=>(0,o.useContext)(u)},23963:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},44785:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return o}});var o=function e(t,r){function o(e,o,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var i in a)a[i]&&(u+="; "+i,!0!==a[i]&&(u+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+u}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var a=r[o].split("="),u=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(n[i]=t.read(u,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[4797,4129,6291,4275,3983,6981,8265,2971,7023,1744],function(){return e(e.s=52003)}),_N_E=e.O()}]);
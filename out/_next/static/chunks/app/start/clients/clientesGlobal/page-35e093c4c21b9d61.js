(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{52003:function(e,t,n){Promise.resolve().then(n.bind(n,61865))},77699:function(e,t,n){"use strict";var r=n(23963);t.Z=void 0;var o=r(n(19118)),a=n(57437);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},19118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(49013)},15656:function(e,t,n){"use strict";var r=n(2265),o=n(33822),a=n(92384),i=n(22960),u=n(95931),s=n(60909),l=n(57437);let c={entering:{transform:"none"},entered:{transform:"none"}},d=r.forwardRef(function(e,t){let n=(0,i.default)(),d={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:f,appear:p=!0,children:h,easing:m,in:g,onEnter:C,onEntered:x,onEntering:E,onExit:v,onExited:N,onExiting:S,style:w,timeout:b=d,TransitionComponent:I=o.ZP,...O}=e,y=r.useRef(null),Z=(0,s.Z)(y,(0,a.Z)(h),t),j=e=>t=>{if(e){let n=y.current;void 0===t?e(n):e(n,t)}},R=j(E),T=j((e,t)=>{(0,u.n)(e);let r=(0,u.C)({style:w,timeout:b,easing:m},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",r),e.style.transition=n.transitions.create("transform",r),C&&C(e,t)}),L=j(x),k=j(S),D=j(e=>{let t=(0,u.C)({style:w,timeout:b,easing:m},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),v&&v(e)}),M=j(N);return(0,l.jsx)(I,{appear:p,in:g,nodeRef:y,onEnter:T,onEntered:L,onEntering:R,onExit:D,onExited:M,onExiting:k,addEndListener:e=>{f&&f(y.current,e)},timeout:b,...O,children:(e,t)=>r.cloneElement(h,{style:{transform:"scale(0)",visibility:"exited"!==e||g?void 0:"hidden",...c[e],...w,...h.props.style},ref:Z,...t})})});t.Z=d},49013:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return o.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return i.Z},debounce:function(){return u.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return p},setRef:function(){return h},unstable_ClassNameGenerator:function(){return N},unstable_memoTheme:function(){return c.Z},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return C},useControlled:function(){return x.Z},useEventCallback:function(){return E.Z},useForkRef:function(){return v.Z}});var r=n(89424),o=n(12272),a=n(11897).Z,i=n(59018),u=n(70576),s=function(e,t){return()=>null},l=n(19783),c=n(339),d=n(8754),f=n(88095),p=function(e,t){return()=>null},h=n(49969).Z,m=n(48632),g=n(88256),C=function(e,t,n,r,o){return null},x=n(75115),E=n(26182),v=n(60909);let N={configure:e=>{r.Z.configure(e)}}},88256:function(e,t,n){"use strict";var r=n(80292);t.Z=r.default},61865:function(e,t,n){"use strict";n.r(t);var r=n(57437),o=n(2265),a=n(77699),i=n(60335),u=n(83719),s=n(74275),l=n(85800),c=n(52610),d=n(60091),f=n(28027),p=n(15656),h=n(31193);let m=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],g=async()=>(await fetch("http://172.20.20.3:8001/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}})).json();t.default=e=>{let{setOpen:t}=e,{setCliente:n}=(0,l.a)(),[C,x]=(0,o.useState)(),[E,v]=(0,o.useState)(""),[N,S]=(0,o.useState)(!1),[w,b]=(0,o.useState)([]),[I,O]=(0,o.useState)([]);(0,o.useEffect)(()=>{y()},[]);let y=async()=>{let e=await g();try{e&&(x(e),b(e)),setTimeout(()=>{S(!0)},100)}catch(e){console.log("Error al obtener los datos",e)}},Z=(0,o.useMemo)(()=>y,[]);(0,o.useEffect)(()=>{Z()},[Z]);let j=e=>{x(w.filter(t=>{let n=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),r=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),o=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==n?void 0:n.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))||(null==o?void 0:o.includes(e.toLowerCase()))?t:null}))},R=(0,o.useCallback)(e=>{if(O(e),e.length>0){let r=w.filter(t=>{let n=t.CLIENTE;return!!n&&n.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(r)),n(r[0]),t(!1)}},[C]);return setTimeout(()=>{S(!0)},100),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{height:"auto",width:"100%",backgroundColor:"#ffffff"},children:[(0,r.jsx)(u.default,{variant:"h",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"auto",margin:0,color:"#000000"},children:"CLIENTES"}),(0,r.jsxs)(h.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,r.jsx)(d.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"}),(0,r.jsxs)(f.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:650,margin:"0%"},children:[(0,r.jsx)(s.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar",inputProps:{"aria-label":"search google maps"},autoComplete:"usuario",autoFocus:!0,value:E,onChange:e=>{e.preventDefault(),v(e.target.value),j(e.target.value)}}),(0,r.jsx)(i.Z,{title:"buscar",type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,r.jsx)(a.Z,{})})]})]}),(0,r.jsx)(p.Z,{in:N,children:(0,r.jsx)(h.default,{sx:{height:640,width:"100%","& .super-app-theme--header":{backgroundColor:"#353232",color:"#fff"}},children:(0,r.jsx)(c._,{rows:C,columns:m,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[5,10],onRowSelectionModelChange:R,rowSelectionModel:I,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"}})})})]})})}},85800:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return u},a:function(){return s}});var r=n(57437),o=n(2265),a=n(44785);let i=(0,o.createContext)({login:e=>{},logout:()=>{}}),u=e=>{let{children:t}=e,[n,u]=(0,o.useState)(null),[s,l]=(0,o.useState)({}),[c,d]=(0,o.useState)({}),[f,p]=(0,o.useState)({}),[h]=(0,o.useState)(!0),m=(0,o.useCallback)(function(e){a.Z.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),u(e)},[]),g=(0,o.useCallback)(function(){a.Z.remove("authTokens"),localStorage.removeItem("auth"),u(null)},[]);(0,o.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("cliente"),n=localStorage.getItem("pedido"),r=localStorage.getItem("caja");e&&u(JSON.parse(e)),t&&l(JSON.parse(t)),n&&d(JSON.parse(n)),r&&p(JSON.parse(r))},[]);let C=(0,o.useMemo)(()=>({auth:n,cliente:s,setCliente:l,pedido:c,setPedido:d,caja:f,setCaja:p,loading:h,login:m,logout:g}),[n,s,c,f,m,g]);return(0,r.jsx)(i.Provider,{value:C,children:t})},s=()=>(0,o.useContext)(i)},23963:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},44785:function(e,t,n){"use strict";/*! js-cookie v3.0.5 | MIT */function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{Z:function(){return o}});var o=function e(t,n){function o(e,o,a){if("undefined"!=typeof document){"number"==typeof(a=r({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var u in a)a[u]&&(i+="; "+u,!0!==a[u]&&(i+="="+a[u].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+i}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var a=n[o].split("="),i=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(r[u]=t.read(i,u),e===u)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[4797,4129,6291,4275,3983,6981,2610,2971,7023,1744],function(){return e(e.s=52003)}),_N_E=e.O()}]);
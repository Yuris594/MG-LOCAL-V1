(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1532],{20067:function(){},72061:function(){},58795:function(e,t,n){Promise.resolve().then(n.bind(n,42476))},15656:function(e,t,n){"use strict";var r=n(2265),i=n(33822),a=n(92384),s=n(22960),o=n(95931),l=n(60909),d=n(57437);let c={entering:{transform:"none"},entered:{transform:"none"}},u=r.forwardRef(function(e,t){let n=(0,s.default)(),u={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:f,appear:h=!0,children:x,easing:E,in:g,onEnter:m,onEntered:p,onEntering:N,onExit:w,onExited:C,onExiting:j,style:S,timeout:v=u,TransitionComponent:y=i.ZP,...L}=e,O=r.useRef(null),I=(0,l.Z)(O,(0,a.Z)(x),t),b=e=>t=>{if(e){let n=O.current;void 0===t?e(n):e(n,t)}},R=b(N),T=b((e,t)=>{(0,o.n)(e);let r=(0,o.C)({style:S,timeout:v,easing:E},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",r),e.style.transition=n.transitions.create("transform",r),m&&m(e,t)}),D=b(p),Z=b(j),_=b(e=>{let t=(0,o.C)({style:S,timeout:v,easing:E},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),w&&w(e)}),k=b(C);return(0,d.jsx)(y,{appear:h,in:g,nodeRef:O,onEnter:T,onEntered:D,onEntering:R,onExit:_,onExited:k,onExiting:Z,addEndListener:e=>{f&&f(O.current,e)},timeout:v,...L,children:(e,t)=>r.cloneElement(x,{style:{transform:"scale(0)",visibility:"exited"!==e||g?void 0:"hidden",...c[e],...S,...x.props.style},ref:I,...t})})});t.Z=u},10416:function(e,t,n){"use strict";var r=n(57437),i=n(27800),a=n(2265),s=n(60091);t.Z=e=>{let{datos:t}=e,[n,o]=(0,a.useState)(!1);return(0,r.jsx)(s.default,{variant:"outlined",color:"success",onClick:()=>{if(!Array.isArray(t)||0===t.length){console.error("Datos no est\xe1n en el formato correcto o est\xe1n vac\xedos.");return}o(!0);try{let e=i.P6.book_new(),n=i.P6.json_to_sheet(t);i.P6.book_append_sheet(e,n,"Datos"),i.NC(e,"datos.xlsx")}catch(e){console.error("Error al generar el archivo Excel",e)}finally{o(!1)}},disabled:n,children:n?"Loading...":"Excel"})}},42476:function(e,t,n){"use strict";n.r(t);var r=n(57437),i=n(2265),a=n(68265),s=n(22294),o=n(31193),l=n(60091),d=n(83719),c=n(15656),u=n(28027),f=n(74275),h=n(77699),x=n(60335),E=n(99128),g=n(85800),m=n(16463),p=n(87138),N=n(13726),w=n(10416),C=n(41223);let j=[{field:"CLIENTE",headerName:"NIT",width:170},{field:"NOMBREALIAS",headerName:"NOMBRE",width:800},{field:"DIRECCION",headerName:"DIRECCI\xd3N",width:300},{field:"TELEFONO1",headerName:"TELEFONO",width:190},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:450},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],S=async()=>{let e=await fetch("/api/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()};t.default=()=>{let e=(0,m.useRouter)(),{setCliente:t}=(0,g.a)(),[n,v]=(0,i.useState)([]),[y,L]=(0,i.useState)([]),[O,I]=(0,i.useState)([]),[b,R]=(0,i.useState)(!1),[T,D]=(0,i.useState)(!0),[Z,_]=(0,i.useState)([]);(0,i.useEffect)(()=>{k()},[]);let k=async()=>{let e=await S();try{e&&(D(!1),I(e),v(e)),setTimeout(()=>{R(!0)},100)}catch(e){(0,C.conexion)(),console.log("Error")}},A=e=>{I(n.filter(t=>{let n=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),r=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),i=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==n?void 0:n.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))||(null==i?void 0:i.includes(e.toLowerCase()))?t:null}))},M=(0,i.useCallback)(r=>{if(_(r),r.length>0){let i=n.filter(e=>{let t=e.CLIENTE;return!!t&&t.toString().includes(r[0])});localStorage.setItem("clientTemp",JSON.stringify(i)),t(i),e.push("/start/clients/clientesTemp")}},[O]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.default,{children:[" ",(0,r.jsx)(N.Z,{})," "]}),(0,r.jsx)(o.default,{className:"container",children:!0===T?(0,r.jsx)(o.default,{sx:{width:"100%"},children:(0,r.jsx)(E.Z,{})}):(0,r.jsxs)(o.default,{children:[(0,r.jsx)(d.default,{variant:"h5",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"column",alignItems:"center",width:"auto",margin:0,color:"#000"},children:"CLIENTES"}),(0,r.jsxs)(o.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,r.jsxs)(o.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,r.jsx)(p.default,{href:"",children:(0,r.jsx)(l.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"})}),(0,r.jsx)(w.Z,{datos:O})]}),(0,r.jsxs)(u.Z,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:1100,margin:"10px"},children:[(0,r.jsx)(f.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar...",inputProps:{"aria-label":"search google maps"},autoFocus:!0,value:y,onChange:e=>{e.preventDefault(),L(e.target.value),A(e.target.value)}}),(0,r.jsx)(x.Z,{title:"buscar",sx:{p:"10px"},"aria-label":"search",children:(0,r.jsx)(h.Z,{})})]})]}),(0,r.jsx)(c.Z,{in:b,children:(0,r.jsx)(o.default,{sx:{height:990,width:"100%"},children:(0,r.jsx)(a._,{rows:O,columns:j,initialState:{pagination:{paginationModel:{page:0,pageSize:15}}},pageSizeOptions:[5,15],onRowSelectionModelChange:M,rowSelectionModel:Z,getRowId:e=>e.CLIENTE,slots:{toolbar:s.n},sx:{backgroundColor:"#ffffff"}})})})]})})]})}}},function(e){e.O(0,[4488,1425,9461,4797,4129,6291,4275,3983,2561,6981,9105,8265,7734,8433,7283,3378,1223,2971,7023,1744],function(){return e(e.s=58795)}),_N_E=e.O()}]);
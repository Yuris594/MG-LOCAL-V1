(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9026],{83686:()=>{},32383:()=>{},48332:(e,t,l)=>{Promise.resolve().then(l.bind(l,90851))},65068:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var r=l(95155),s=l(20457),a=l(75436),i=l(11451),n=l(46805),o=l(894),c=l(2295),d=l(9561),u=l(81894),h=l(91888),x=l(74676),f=l(92080),p=l(96212),g=l(6069),m=l(9581),j=l(43677),S=l(85244),A=l(85067),C=l(2138);l(76046);var N=l(70689),E=l(12115),w=l(4918),O=l(41983),I=l(36017),b=l(2091),v=l(60391),L=l(48173),T=l.n(L);let k=e=>{let{page:t}=e;return(0,r.jsx)(a.default,{children:(0,r.jsx)(w.A,{children:t.map(e=>(0,r.jsx)(O.Ay,{disablePadding:!0,children:(0,r.jsxs)(I.A,{LinkComponent:T(),href:e.url,onClick:e.onClick,children:[(0,r.jsx)(b.A,{children:e.icon}),(0,r.jsx)(v.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var y=l(78897),R=l.n(y),D=l(79046),M=l.n(D);let _=()=>{let{auth:e,logout:t}=(0,N.A)(),[l,w]=(0,E.useState)(null),[O,I]=(0,E.useState)(!1),b=()=>{I(!1),w(null)},v=[{title:"USUARIOS ",url:"/start/usuarios",icon:(0,r.jsx)(x.A,{})},{title:"PEDIDOS",url:"/start/pedidos",icon:(0,r.jsx)(f.A,{})},{title:"CLIENTES",url:"/start/clients",icon:(0,r.jsx)(p.A,{})},{title:"PRODUCTOS",icon:(0,r.jsx)(g.A,{}),onClick:e=>{I(!0),w(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas",icon:(0,r.jsx)(m.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja",icon:(0,r.jsx)(j.A,{})}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.default,{}),(0,r.jsxs)(a.default,{sx:{flexGrow:1},children:[(0,r.jsx)(i.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,r.jsxs)(n.A,{children:[(0,r.jsx)(o.A,{color:"inherit",onClick:e=>{w(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,r.jsx)(S.A,{})}),(0,r.jsx)(a.default,{sx:{display:{xs:"none",md:"flex"}},children:v.map(e=>(0,r.jsx)(c.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:T(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,r.jsx)(d.default,{variant:"h6",sx:{flexGrow:1}}),(0,r.jsx)(c.default,{component:T(),href:"/start",color:"inherit",children:(0,r.jsx)(C.A,{})}),(0,r.jsxs)(c.default,{className:M().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,r.jsx)(p.A,{}),e&&e.PER_Nom]}),(0,r.jsx)(c.default,{color:"inherit",onClick:()=>{R().fire({title:"\xbfQuieres Terminar La Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#28ee32",cancelButtonColor:"#f12260",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,r.jsx)(A.A,{})})]})}),(0,r.jsxs)(u.A,{id:"basic-menu",anchorEl:l,open:O,onClose:b,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,r.jsx)(h.A,{onClick:b,component:T(),href:"/start/productosMG",children:"Productos"}),(0,r.jsx)(h.A,{onClick:b,component:T(),href:"/start/buscarProd",children:"Buscar Referencias"})]}),(0,r.jsx)(u.A,{id:"basic-menu",anchorEl:l,MenuListProps:{"aria-labelledby":"basic-button"},open:!!l,onClose:()=>{w(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,r.jsx)(k,{page:v})})]})]})}},76134:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var r=l(95155),s=l(7660),a=l(12115),i=l(2295);let n=e=>{let{datos:t}=e,[l,n]=(0,a.useState)(!1);return(0,r.jsx)(i.default,{variant:"outlined",color:"success",onClick:()=>{if(!Array.isArray(t)||0===t.length){console.error("Datos no est\xe1n en el formato correcto o est\xe1n vac\xedos.");return}n(!0);try{let e=s.Wp.book_new(),l=s.Wp.json_to_sheet(t);s.Wp.book_append_sheet(e,l,"Datos"),s._h(e,"datos.xlsx")}catch(e){console.error("Error al generar el archivo Excel",e)}finally{n(!1)}},disabled:l,children:l?"Loading...":"Excel"})}},90851:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>N});var r=l(95155),s=l(48173),a=l.n(s),i=l(75436),n=l(8889),o=l(39241),c=l(2295),d=l(76046),u=l(70689),h=l(65068),x=l(76134),f=l(12115),p=l(57653),g=l(49359),m=l(86898),j=l(54255),S=l(70152);let A=[{field:"CLIENTE",headerName:"NIT",width:170},{field:"NOMBREALIAS",headerName:"NOMBRE",width:800},{field:"DIRECCION",headerName:"DIRECCI\xd3N",width:300},{field:"TELEFONO1",headerName:"TELEFONO",width:190},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:450},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],C=async()=>{let e=await fetch(n.c.url+"/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},N=()=>{let e=(0,d.useRouter)(),{setCliente:t}=(0,u.A)(),[l,s]=(0,f.useState)([]),[n,N]=(0,f.useState)(!0),[E,w]=(0,f.useState)([]),[O,I]=(0,f.useState)(),[b,v]=(0,f.useState)(),L=(0,m.A)("(max-width: 600px)");(0,f.useEffect)(()=>{(async()=>{let e=await C();try{v(e),I(e),N(!1)}catch(e){console.log(e)}})()},[]);let T=e=>{v(O.filter(t=>{let l=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),r=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),s=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==l?void 0:l.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))||(null==s?void 0:s.includes(e.toLowerCase()))?t:null}))},k=(0,f.useCallback)(l=>{if(w(l),l.length>0){let r=O.filter(e=>{let t=e.CLIENTE;return!!t&&t.toString().includes(l[0])});localStorage.setItem("clientTemp",JSON.stringify(r)),t(r),e.push("/start/clients/clientesTemp")}},[b]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[" ",(0,r.jsx)(h.A,{})," "]}),(0,r.jsx)(i.default,{className:"container",children:!0===n?(0,r.jsx)(i.default,{sx:{width:"100%"},children:(0,r.jsx)(j.A,{})}):(0,r.jsxs)(o.A,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,r.jsx)(o.A,{size:12,children:(0,r.jsxs)(i.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"CLIENTES"})}),(0,r.jsxs)(i.default,{sx:{display:"flex",flexDirection:L?"column":"row",alignItems:"center",gap:2,marginLeft:L?0:"auto",width:L?"100%":"auto"},children:[(0,r.jsx)(a(),{href:"",children:(0,r.jsx)(c.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"})}),(0,r.jsx)(x.A,{datos:b})]})]})}),(0,r.jsx)(o.A,{size:12,sx:{padding:2},children:(0,r.jsx)(S.A,{id:"outlined-basic",multiline:!0,rows:1,variant:"outlined",placeholder:"Buscar...",value:l,onChange:e=>{e.preventDefault(),s(e.target.value),T(e.target.value)},sx:{width:"100%"}})}),(0,r.jsx)(o.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,r.jsx)(i.default,{sx:{width:"100%",height:L?500:799},children:(0,r.jsx)(p.z,{rows:b,columns:A,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12],onRowSelectionModelChange:k,rowSelectionModel:E,getRowId:e=>e.CLIENTE,slots:{toolbar:g.O},sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})})})]})})]})}},8889:(e,t,l)=>{"use strict";l.d(t,{c:()=>r});let r={url:"http://172.20.20.3:8001"}},70689:(e,t,l)=>{"use strict";l.d(t,{A:()=>c,AuthProvider:()=>o});var r=l(95155),s=l(12115),a=l(76046),i=l(89208);let n=(0,s.createContext)({login:e=>{},logout:()=>{}}),o=e=>{let{children:t}=e,l=(0,a.useRouter)(),[o]=(0,s.useState)(!0),[c,d]=(0,s.useState)({}),[u,h]=(0,s.useState)(null),[x,f]=(0,s.useState)({}),[p,g]=(0,s.useState)({}),[m,j]=(0,s.useState)({}),[S,A]=(0,s.useState)({}),[C,N]=(0,s.useState)({}),E=(0,s.useCallback)(function(e){i.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),h(e)},[]),w=(0,s.useCallback)(function(){i.A.remove("authTokens"),localStorage.removeItem("auth"),h(null),l.push("/")},[]);(0,s.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("caja"),l=localStorage.getItem("pedido"),r=localStorage.getItem("pedidoV"),s=localStorage.getItem("cartera"),a=localStorage.getItem("cliente"),i=localStorage.getItem("clienteV");i&&j(JSON.parse(i)),r&&A(JSON.parse(r)),s&&N(JSON.parse(s)),e&&h(JSON.parse(e)),a&&g(JSON.parse(a)),l&&f(JSON.parse(l)),t&&d(JSON.parse(t))},[]);let O=(0,s.useMemo)(()=>({auth:u,cliente:p,setCliente:g,pedido:x,setPedido:f,caja:c,setCaja:d,clienteV:m,setClienteV:j,pedidosV:S,setPedidosV:A,carteraV:C,setCarteraV:N,loading:o,login:E,logout:w}),[u,p,x,c,m,S,C,E,w]);return(0,r.jsx)(n.Provider,{value:O,children:t})},c=()=>(0,s.useContext)(n)}},e=>{var t=t=>e(e.s=t);e.O(0,[339,8320,3524,6058,5854,994,5975,1260,6403,152,8173,2670,7493,6675,7653,6899,4366,8441,1517,7358],()=>t(48332)),_N_E=e.O()}]);
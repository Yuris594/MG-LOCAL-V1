(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1532],{20067:function(){},72061:function(){},58795:function(e,t,a){Promise.resolve().then(a.bind(a,42476))},55357:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var i=a(2265),n=a(44839),r=a(70587),s=a(76990),o=a(97434),l=a(13820),d=a(49134),u=a(7173),c=a(57437);let h=(0,u.Z)(),x=(0,d.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),f=e=>(0,l.default)({props:e,name:"MuiContainer",defaultTheme:h}),p=(e,t)=>{let{classes:a,fixed:i,disableGutters:n,maxWidth:l}=e,d={root:["root",l&&`maxWidth${(0,o.Z)(String(l))}`,i&&"fixed",n&&"disableGutters"]};return(0,s.Z)(d,e=>(0,r.ZP)(t,e),a)};function g(e={}){let{createStyledComponent:t=x,useThemeProps:a=f,componentName:r="MuiContainer"}=e,s=t(({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,a)=>{let i=e.breakpoints.values[a];return 0!==i&&(t[e.breakpoints.up(a)]={maxWidth:`${i}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}}));return i.forwardRef(function(e,t){let i=a(e),{className:o,component:l="div",disableGutters:d=!1,fixed:u=!1,maxWidth:h="lg",classes:x,...f}=i,g={...i,component:l,disableGutters:d,fixed:u,maxWidth:h},m=p(g,r);return(0,c.jsx)(s,{as:l,ownerState:g,className:(0,n.Z)(m.root,o),ref:t,...f})})}},10416:function(e,t,a){"use strict";var i=a(57437),n=a(27800),r=a(2265),s=a(60091);t.Z=e=>{let{datos:t}=e,[a,o]=(0,r.useState)(!1);return(0,i.jsx)(s.default,{variant:"outlined",color:"success",onClick:()=>{if(!Array.isArray(t)||0===t.length){console.error("Datos no est\xe1n en el formato correcto o est\xe1n vac\xedos.");return}o(!0);try{let e=n.P6.book_new(),a=n.P6.json_to_sheet(t);n.P6.book_append_sheet(e,a,"Datos"),n.NC(e,"datos.xlsx")}catch(e){console.error("Error al generar el archivo Excel",e)}finally{o(!1)}},disabled:a,children:a?"Loading...":"Excel"})}},42476:function(e,t,a){"use strict";a.r(t);var i=a(57437),n=a(2265),r=a(68265),s=a(22294),o=a(31193),l=a(60091),d=a(83719),u=a(15656),c=a(28027),h=a(74275),x=a(77699),f=a(60335),p=a(99128),g=a(85800),m=a(16463),E=a(87138),N=a(13726),b=a(10416),w=a(41223);let C=[{field:"CLIENTE",headerName:"NIT",width:170},{field:"NOMBREALIAS",headerName:"NOMBRE",width:800},{field:"DIRECCION",headerName:"DIRECCI\xd3N",width:300},{field:"TELEFONO1",headerName:"TELEFONO",width:190},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:450},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],j=async()=>{let e=await fetch("/api/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()};t.default=()=>{let e=(0,m.useRouter)(),{setCliente:t}=(0,g.a)(),[a,v]=(0,n.useState)([]),[S,L]=(0,n.useState)([]),[O,R]=(0,n.useState)([]),[k,I]=(0,n.useState)(!1),[y,Z]=(0,n.useState)(!0),[D,T]=(0,n.useState)([]);(0,n.useEffect)(()=>{M()},[]);let M=async()=>{let e=await j();try{e&&(Z(!1),R(e),v(e)),setTimeout(()=>{I(!0)},100)}catch(e){(0,w.conexion)(),console.log("Error")}},_=e=>{R(a.filter(t=>{let a=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),i=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),n=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==a?void 0:a.includes(e.toLowerCase()))||(null==i?void 0:i.includes(e.toLowerCase()))||(null==n?void 0:n.includes(e.toLowerCase()))?t:null}))},A=(0,n.useCallback)(i=>{if(T(i),i.length>0){let n=a.filter(e=>{let t=e.CLIENTE;return!!t&&t.toString().includes(i[0])});localStorage.setItem("clientTemp",JSON.stringify(n)),t(n),e.push("/start/clients/clientesTemp")}},[O]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.default,{children:[" ",(0,i.jsx)(N.Z,{})," "]}),(0,i.jsx)(o.default,{className:"container",children:!0===y?(0,i.jsx)(o.default,{sx:{width:"100%"},children:(0,i.jsx)(p.Z,{})}):(0,i.jsxs)(o.default,{children:[(0,i.jsx)(d.default,{variant:"h5",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"column",alignItems:"center",width:"auto",margin:0,color:"#000"},children:"CLIENTES"}),(0,i.jsxs)(o.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,i.jsxs)(o.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i.jsx)(E.default,{href:"",children:(0,i.jsx)(l.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"})}),(0,i.jsx)(b.Z,{datos:O})]}),(0,i.jsxs)(c.Z,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:1100,margin:"10px"},children:[(0,i.jsx)(h.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar...",inputProps:{"aria-label":"search google maps"},autoFocus:!0,value:S,onChange:e=>{e.preventDefault(),L(e.target.value),_(e.target.value)}}),(0,i.jsx)(f.Z,{title:"buscar",sx:{p:"10px"},"aria-label":"search",children:(0,i.jsx)(x.Z,{})})]})]}),(0,i.jsx)(u.Z,{in:k,children:(0,i.jsx)(o.default,{sx:{height:990,width:"100%"},children:(0,i.jsx)(r._,{rows:O,columns:C,initialState:{pagination:{paginationModel:{page:0,pageSize:15}}},pageSizeOptions:[5,15],onRowSelectionModelChange:A,rowSelectionModel:D,getRowId:e=>e.CLIENTE,slots:{toolbar:s.n},sx:{backgroundColor:"#ffffff"}})})})]})})]})}}},function(e){e.O(0,[4488,1425,9461,4797,4129,6291,4275,3983,2561,6981,8265,9105,7734,8433,4264,1223,2971,7023,1744],function(){return e(e.s=58795)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2842],{64551:(e,t,a)=>{Promise.resolve().then(a.bind(a,87300))},65068:(e,t,a)=>{"use strict";a.d(t,{A:()=>F});var l=a(95155),i=a(48173),n=a.n(i),s=a(75436),r=a(4918),o=a(41983),d=a(36017),c=a(2091),u=a(60391);let _=e=>{let{page:t}=e;return(0,l.jsx)(s.default,{children:(0,l.jsx)(r.A,{children:t.map(e=>(0,l.jsx)(o.Ay,{disablePadding:!0,children:(0,l.jsxs)(d.A,{LinkComponent:n(),href:e.url,onClick:e.onClick,children:[(0,l.jsx)(c.A,{children:e.icon}),(0,l.jsx)(u.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var x=a(78897),h=a.n(x),f=a(12115),p=a(79046),A=a.n(p),m=a(2138),C=a(70689),j=a(96212),g=a(85067),O=a(85244),E=a(74676),D=a(92080),I=a(6069),S=a(9581),b=a(43677),R=a(20457),P=a(11451),v=a(46805),T=a(894),w=a(2295),N=a(9561),y=a(81894),L=a(91888);let F=()=>{let{auth:e,logout:t}=(0,C.A)(),[a,i]=(0,f.useState)(null),[r,o]=(0,f.useState)(!1),d=()=>{o(!1),i(null)},c=[{title:"USUARIOS ",url:"/start/usuarios/",icon:(0,l.jsx)(E.A,{})},{title:"PEDIDOS",url:"/start/pedidos/",icon:(0,l.jsx)(D.A,{})},{title:"CLIENTES",url:"/start/clients/",icon:(0,l.jsx)(j.A,{})},{title:"PRODUCTOS",icon:(0,l.jsx)(I.A,{}),onClick:e=>{o(!0),i(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas/",icon:(0,l.jsx)(S.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja/",icon:(0,l.jsx)(b.A,{})}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R.default,{}),(0,l.jsxs)(s.default,{sx:{flexGrow:1},children:[(0,l.jsx)(P.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,l.jsxs)(v.A,{children:[(0,l.jsx)(T.A,{color:"inherit",onClick:e=>{i(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(O.A,{})}),(0,l.jsx)(s.default,{sx:{display:{xs:"none",md:"flex"}},children:c.map(e=>(0,l.jsx)(w.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:n(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,l.jsx)(N.default,{variant:"h6",sx:{flexGrow:1}}),(0,l.jsx)(w.default,{component:n(),href:"/start",color:"inherit",children:(0,l.jsx)(m.A,{})}),(0,l.jsxs)(w.default,{className:A().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,l.jsx)(j.A,{}),e&&e.PER_Nom]}),(0,l.jsx)(w.default,{color:"inherit",onClick:()=>{h().fire({title:"\xbfQuieres terminar la Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#09ff00",cancelButtonColor:"#fa0000",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,l.jsx)(g.A,{})})]})}),(0,l.jsxs)(y.A,{id:"basic-menu",anchorEl:a,open:r,onClose:d,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,l.jsx)(L.A,{onClick:d,component:n(),href:"/start/buscarProd/",children:"Buscar Por Referencias"}),(0,l.jsx)(L.A,{onClick:d,component:n(),href:"/start/productosMG/",children:"Lista de Todos Los Productos"})]}),(0,l.jsx)(y.A,{id:"basic-menu",anchorEl:a,MenuListProps:{"aria-labelledby":"basic-button"},open:!!a,onClose:()=>{i(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(_,{page:c})})]})]})}},87300:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PedidosC:()=>F,default:()=>U});var l=a(95155),i=a(12115),n=a(81996),s=a.n(n),r=a(8889),o=a(39241),d=a(76046),c=a(70689),u=a(73440),_=a(65068);a(92340);var x=a(10142),h=a(6171),f=a.n(h),p=a(89100);let A=e=>{{let t=document.createElement("canvas");return f()(t,e,{format:"CODE128"}),t.toDataURL("image/png")}},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[l]=(0,i.useState)((0,p.GP)(new Date,"dd/MM/yyyy HH:mm:ss")),n=A(null==e?void 0:e.PEDIDO);return{generarPDF:()=>{let i=new x.default("portrait","pt","letter"),s=[{field:"ARTICULO",headerName:"CODIGO",width:200},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500},{field:"PRECIO",headerName:"PRECIO",width:200},{field:"CPed",headerName:"CANT",width:200,type:"number"},{field:"DESP",headerName:"DESP",width:250,type:"number"},{field:"EMPA",headerName:"EMPA",width:200,type:"number"}],r=t.map(e=>{let t=[];return s.forEach(a=>{let l=e[a.field];"PRECIO"===a.field&&(l=parseFloat(Number(l).toFixed(0)).toLocaleString()),t.push(l)}),t});i.setFontSize(20),i.addImage("".concat(n),220,10,130,60),i.setFont("helvetica","italic"),i.setFontSize(13),i.text("PREFACTURA",12,30),"S"===e.IMPRESO&&i.text("DUPLICADO",12,55),i.setFontSize(13),i.text("FACTURA N\xb0________",450,30),i.setFontSize(9),i.text(" ".concat(e.FECHA_PEDIDO),500,65),i.setFontSize(13),i.text("FECHA",450,65),i.text("________________________________________________________________________________",12,70),i.setFontSize(9),i.text("CLIENTE:    ".concat(e.NOMBRE_RAZON),12,85),i.text("NIT/CEDULA:    ".concat(e.CLIENTE),12,98),i.text("DOC2:    ".concat(e.PEDIDO),340,98),i.text("PEORI:    ".concat(e.PEDIDO),450,98),i.text("CIUDAD PPAL:    ".concat(e.CIUDAD,"-").concat(e.DEPTO),12,112),i.text("TEL:    ".concat(e.PEDIDO),340,112),i.text("D'UNA:    ".concat(e.PEDIDO),450,112),i.text("DIRECCION Y CIUDAD DE DESPACHO:    ".concat(e.PEDIDO),12,125),i.text("SOLICITA:   ".concat(e.PEDIDO),340,125),i.autoTable({head:[s.map(e=>e.headerName)],body:r,styles:{theme:"plain",tableWidth:"auto",lineColor:[200,200,200],lineWight:.1,font:"times",fontStyle:"normal",textColor:[0,0,0],display:"flex",cellWidth:"auto",fontSize:8},startY:150,theme:"plain",columnStyles:{cellWidth:"auto"}}),i.setFontSize(10),i.text("TOTAL ITEMS: ".concat(t.length),350,i.autoTable.previous.finalY+20),i.text("Total: ".concat(a),470,i.autoTable.previous.finalY+20),i.text("SEPARADO POR _____________________________________",12,i.autoTable.previous.finalY+20),i.text("REVISADO POR ______________________________________",12,i.autoTable.previous.finalY+40),i.text("DESPACHADO POR ______________________",350,i.autoTable.previous.finalY+40),i.setFontSize(8),i.text("VENDEDOR: ".concat(e.VENDEDOR),12,i.autoTable.previous.finalY+65),i.text("MODIFICADO POR: ".concat(e.U_EDITADOPOR),350,i.autoTable.previous.finalY+65),i.text("AUTORIZADO EN CARTERA POR: ".concat(e.VENDEDOR),12,i.autoTable.previous.finalY+80),i.text("FECHA AUTORIZADO: ".concat(e.U_EDITADOPOR),350,i.autoTable.previous.finalY+80),i.text("________________________________________________________________________________________",12,i.autoTable.previous.finalY+90),i.text("".concat(l),12,i.autoTable.previous.finalY+103),i.output("dataurlnewwindow")}}};var C=a(95156);let j=(e,t,a)=>{let[l,n]=(0,i.useState)(0),[s,r]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let l=0===a?e:t;if(Array.isArray(l)){let e=l.reduce((e,t)=>e+t.CPed*t.PRECIO,0),t=l.reduce((e,t)=>{let a=t.PRECIO*(1-t.PORC_DCTO/100)*(1+t.PORC_IMPUESTO/100);return e+t.CPed*a},0),a=Number(e).toFixed(0),i=Number(t).toFixed(0);n("".concat(parseFloat(a).toLocaleString())),r("".concat(parseFloat(i).toLocaleString()))}},[e,t,a]),{sumaSaldoTotal:l,sumaSaldoTotalDESC:s}};var g=a(75293),O=a(71014),E=a(75436),D=a(86898),I=a(70152),S=a(2295),b=a(9561),R=a(73378),P=a(79987),v=a(78562),T=a(62347),w=a(23613);let N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",maxWidth:"80vw",overflowY:"auto",overflowX:"hidden",padding:"16px",backgroundColor:"#fff",border:"2px solid #000",boxShadow:24};function y(e){let{children:t,value:a,index:i,...n}=e;return(0,l.jsx)("div",{role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...n,children:a===i&&(0,l.jsx)(E.default,{sx:{p:3},children:t})})}function L(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}y.propTypes={children:s().node,index:s().number.isRequired,value:s().number.isRequired};let F=()=>{let e=(0,i.useRef)(),t=(0,d.useRouter)(),[a,n]=(0,i.useState)(""),{pedido:s,setPedido:x}=(0,c.A)(),[h,f]=(0,i.useState)([]),[p,A]=(0,i.useState)([]),[F,U]=(0,i.useState)([]),[z,M]=(0,i.useState)({}),[k,B]=(0,i.useState)(s[0]),[Y,V]=(0,i.useState)([]),[G,H]=(0,i.useState)({}),[J,W]=(0,i.useState)([]),[Z,q]=(0,i.useState)([]),X=(0,D.A)("(max-width: 600px)"),[Q,$]=(0,i.useState)(!1),[K,ee]=(0,i.useState)(0),et=0===K?F:Z,{sumaSaldoTotal:ea,sumaSaldoTotalDESC:el}=j(F,Z,K),{generarPDF:ei}=m(k,et,el),en=()=>$(!1);(0,i.useEffect)(()=>{es(),er(),eo()},[]),(0,i.useEffect)(()=>{(null==k?void 0:k.FECHA_PEDIDO)&&(()=>{let e=new Date(null==k?void 0:k.FECHA_PEDIDO),t=e.getDate(),a=e.toLocaleString("es-CO",{month:"short"}),l=a.charAt(0).toUpperCase()+a.slice(1),i=e.getFullYear();n("".concat(l," ").concat(t,", ").concat(i))})()},[k]);let es=async()=>{try{let e=await fetch(r.c.url+"/productos/listar_solo_para_mg",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&(A(t),W(t))}catch(e){console.log("error",e)}},er=async()=>{try{let e=await fetch(r.c.url+"/pedidos/detalle_lineas/".concat(k.PEDIDO),{method:"GET",headers:{"Content-Type":"application"}}),t=await e.json();t&&U(t)}catch(e){console.log("error")}},eo=async()=>{try{let e=await fetch(r.c.url+"/pedidos/articulos_pendientes/".concat(k.PEDIDO),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&q(t)}catch(e){console.log("error")}},ed=e=>{A(J.filter(t=>{let a=t.ARTICULO&&t.ARTICULO.toString().toLowerCase(),l=t.DESCRIPCION&&t.DESCRIPCION.toString().toLowerCase();return(null==a?void 0:a.includes(e.toLowerCase()))||(null==l?void 0:l.includes(e.toLowerCase()))?t:null}).filter(e=>null!==e))},ec=(e,t)=>{e.reason===g.q.rowFocusOut&&(t.defaultMuiPrevented=!0)},eu=e=>{let t=F.findIndex(t=>t.ARTICULO===e.ARTICULO);if(-1===t)return console.error("ARTICULO NO ENCONTRADO"),e;let a={...e,isNew:!1},l=[...F];return l[t]=a,U(l),a},e_=e=>{H(e)},ex=[{field:"ARTICULO",headerName:"CODIGO",width:100},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},editable:!0,type:"number"},{field:"CPed",headerName:"CANT",width:80,type:"number",editable:!0},{field:"PORC_DCTO",headerName:"DESC",width:70,valueFormatter:e=>{let t=Number(e).toFixed(1);return"".concat(parseFloat(t).toLocaleString())},editable:!0,type:"number"},{field:"PORC_IMPUESTO",headerName:"IVA",width:40,valueFormatter:e=>{let t=Number(e).toFixed(1);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"DISP",headerName:"DISP",width:70},{field:"Em",headerName:"EMP",width:80}],eh=async()=>{try{let e=await fetch(r.c.url+"/productos/actualizar_disponible/".concat(k.PEDIDO),{method:"POST",headers:{"Content-Type":"aaplication/json"}}),t=await e.json();console.log("Actualizacion Exitosa.",t),e.ok?await er():console.error("Error en la actualizaci\xf3n:",e.statusText)}catch(e){console.error("Error de red",e)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_.A,{}),(0,l.jsxs)(E.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)(E.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:3},children:(0,l.jsx)("h2",{children:"PEDIDOS"})}),(0,l.jsx)(E.default,{sx:{padding:2},children:(0,l.jsxs)(E.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,l.jsxs)(E.default,{display:"flex",alignItems:"center",gap:2,children:[(0,l.jsx)("h2",{children:(0,l.jsx)("strong",{children:"Buscar N\xb0"})}),(0,l.jsx)(I.A,{id:"buscador",variant:"outlined",size:"small",sx:{marginRight:2}})]}),(null==k?void 0:k.AUTORIZADONOM)==="APROBADO"?(0,l.jsxs)(S.default,{variant:"filled",sx:{bgcolor:"#fa4f4f"},onClick:ei,children:[" ",(0,l.jsx)(u.A,{})," "]}):(0,l.jsxs)(S.default,{variant:"filled",sx:{margin:1,bgcolor:"#fff64"},disabled:!0,children:[" ",(0,l.jsx)(u.A,{})," "]}),(0,l.jsx)(S.default,{variant:"filled",sx:{margin:1,bgcolor:"#f145af"},onClick:eh,children:"DISP"}),(0,l.jsxs)(S.default,{variant:"filled",sx:{margin:1,bgcolor:"#ffa28a"},onClick:()=>{t.push("../"),localStorage.removeItem("pedidoTemp")},children:[" ",(0,l.jsx)(C.A,{})," "]})]})})]}),(0,l.jsx)(E.default,{sx:{border:"1px solid #ccc",borderRadius:1,padding:2,margin:3},children:(0,l.jsxs)(o.A,{container:!0,spacing:0,alignItems:"center",sx:{mb:2},children:[(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body2",children:["Estado:",(0,l.jsxs)("strong",{style:{color:"red"},children:[" ",null==k?void 0:k.ESTADO]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Autorizaci\xf3n:",(0,l.jsxs)("strong",{style:{color:"green"},children:[" ",(null==k?void 0:k.AUTORIZADONOM)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Impreso:",(0,l.jsxs)("strong",{children:[" ",(null==k?void 0:k.IMPRESO)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Nro:",(0,l.jsxs)("strong",{style:{color:"blue"},children:[" ",(null==k?void 0:k.PEDIDO)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Cliente:",(0,l.jsxs)("strong",{children:[" ",(null==k?void 0:k.CLIENTE)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:6},children:(0,l.jsx)(b.default,{variant:"body1",children:(0,l.jsxs)("strong",{children:[" ",(null==k?void 0:k.NOMBRE_RAZON)||""]})})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Fecha:",(0,l.jsxs)("strong",{children:[" ",a||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Direcci\xf3n de Envio:",(0,l.jsxs)("strong",{children:[" ",(null==k?void 0:k.CIUDAD)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Ciudad:",(0,l.jsxs)("strong",{children:[" ",(null==k?void 0:k.DEPTO)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Vend:",(0,l.jsxs)("strong",{children:[" ",(null==k?void 0:k.VENDEDOR)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsxs)(b.default,{variant:"body1",children:["Especial:",(0,l.jsxs)("strong",{style:{color:"#ff0000"},children:[" ",(null==k?void 0:k.U_COMPESPECIAL)||""]})]})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsx)(I.A,{label:"Finac % /D\xedas",id:"Finac % /D\xedas",variant:"standard",sx:{width:"95%"}})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsx)(I.A,{label:"D \xb4UNA",id:"D \xb4UNA",variant:"standard",sx:{width:"95%"}})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsx)(I.A,{label:"Ped. Origen",id:"Ped. Origen",variant:"standard",sx:{width:"95%"}})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsx)(I.A,{label:"Pendiente",id:"Pendiente",variant:"standard",sx:{width:"100%"}})}),(0,l.jsx)(o.A,{size:{xs:12,sm:3},children:(0,l.jsx)(I.A,{label:"Nota Factura (Doc2)",id:"Nota Factura (Doc2)",variant:"standard",defaultValue:(null==k?void 0:k.RUBRO1)||"",sx:{width:"95%"}})}),(0,l.jsx)(o.A,{size:{xs:12,sm:9},children:(0,l.jsx)(I.A,{id:"observaciones",label:"Observaciones",variant:"standard",multiline:!0,rows:1,defaultValue:(null==k?void 0:k.OBSERVACIONES)||"",sx:{width:"100%"}})})]})}),(0,l.jsxs)(o.A,{size:{xs:12},children:[(0,l.jsx)(E.default,{sx:{width:"100%"},children:(0,l.jsxs)(R.A,{value:K,onChange:(e,t)=>{ee(t)},centered:!0,children:[(0,l.jsx)(P.A,{label:"Detalles Lineas",...L(0)}),(0,l.jsx)(P.A,{label:"Articulos Pendientes",...L(1)})]})}),(0,l.jsx)(y,{value:K,index:0,children:(0,l.jsx)(E.default,{sx:{height:300,width:"100%"},children:(0,l.jsx)(O.z,{density:"compact",rows:F,columns:ex,getRowId:e=>e.ARTICULO,editMode:"row",pageSizeOptions:[5,10,15],onRowEditStop:ec,processRowUpdate:eu,slotProps:{toolbar:{setProductosP:U,setRowModesModel:H}},onRowModesModelChange:e_,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}}})})}),(0,l.jsx)(y,{value:K,index:1,children:(0,l.jsx)(E.default,{sx:{height:300,width:"100%"},children:(0,l.jsx)(O.z,{density:"compact",rows:Z,columns:ex,pageSizeOptions:[5,10,15],getRowId:e=>e.ARTICULO,onRowEditStop:ec,processRowUpdate:eu,slotProps:{toolbar:{setProductosP:U,setRowModesModel:H}},onRowSelectionModelChange:e_,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}}})})})]}),(0,l.jsx)(v.A,{elevation:3,sx:{padding:3,margin:3,marginTop:3},children:(0,l.jsx)(E.default,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,l.jsxs)(T.A,{variant:"text","aria-label":"text button group",sx:{height:60},children:[(0,l.jsxs)(S.default,{sx:{flexDirection:"column"},children:[(0,l.jsxs)(b.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",ea," "]}),(0,l.jsxs)("strong",{children:[" ","SUB-TOTAL"," "]})]}),(0,l.jsxs)(S.default,{sx:{flexDirection:"column"},children:[(0,l.jsxs)(b.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",el," "]}),(0,l.jsxs)("strong",{children:[" ","TOTAL"," "]})]})]})})}),(0,l.jsxs)(E.default,{sx:{flexDirection:"row",display:"flex",justifyContent:"flex-end"},children:[(0,l.jsxs)("strong",{children:[" ","Editado por: "," "," "]}),(0,l.jsxs)(b.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ",(null==k?void 0:k.U_EDITADOPOR)||""," "]})]}),(0,l.jsx)(w.A,{open:Q,onClose:en,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(E.default,{sx:N,children:(0,l.jsxs)(E.default,{sx:{padding:2,display:"flex",flexDirection:"column",gap:2},children:[(0,l.jsxs)(E.default,{sx:{display:"flex",flexDirection:X?"column":"row",justifyContent:"space-between",alignItems:"center",gap:2},children:[(0,l.jsx)("h2",{children:(0,l.jsx)("strong",{children:"PRODUCTOS"})}),(0,l.jsxs)(E.default,{display:"flex",gap:1,children:[(0,l.jsx)(S.default,{variant:"contained",color:"success",onClick:()=>{let e=Y.map(e=>{let t=p.find(t=>t.ARTICULO===e);return t&&z[e]?{...t,CANTIDAD:z[e]}:null}).filter(Boolean);U(t=>{let a=[...t];return e.forEach(e=>{let t=a.find(t=>t.ARTICULO===e.ARTICULO);t?t.CANTIDAD+=e.CANTIDAD:a.push(e)}),a}),V([]),M({}),en()},children:"Agregar"}),(0,l.jsx)(S.default,{variant:"contained",color:"error",onClick:en,children:"Cerrar"})]})]}),(0,l.jsx)(E.default,{sx:{display:"flex",flexDirection:X?"column":"row",gap:2,alignItems:"center"},children:(0,l.jsx)(I.A,{id:"outlined-basic",placeholder:"Buscar Producto",value:h,onChange:e=>{e.preventDefault(),f(e.target.value),ed(e.target.value)},inputRef:e,sx:{width:"100%"}})}),(0,l.jsx)(E.default,{sx:{width:"100%",height:480},children:(0,l.jsx)(O.z,{density:"compact",rows:p,columns:[{field:"ARTICULO",headerName:"CODIGO",width:100},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500,editable:!0},{field:"SUBLINEA",headerName:"SUBLINEA",width:300},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},editable:!0,type:"number"},{field:"CANTIDAD",headerName:"CANT",width:80,type:"number",editable:!0},{field:"PORC_IMPUESTO",headerName:"IVA",width:40},{field:"PRECIOMASIVA",headerName:"MASIVA",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},editable:!0},{field:"PORC_DCTO",headerName:"D1",width:40},{field:"TOTAL_DISP",headerName:"DISP",width:70},{field:"UNIDAD_EMPAQUE",headerName:"EMP",width:80},{field:"EXIST_REAL",headerName:"EXISTREAL",width:90}],getRowId:e=>e.ARTICULO,pageSize:10,rowSelectionModel:Y,processRowUpdate:eu,onRowSelectionModelChange:e=>{V(e)},sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})})]})})})]})},U=F},8889:(e,t,a)=>{"use strict";a.d(t,{c:()=>l,m:()=>i});let l={url:"http://172.20.20.3:8001"},i={url:"http://192.168.1.3:3010/api"}},70689:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,AuthProvider:()=>o});var l=a(95155),i=a(12115),n=a(76046),s=a(89208);let r=(0,i.createContext)({login:e=>{},logout:()=>{}}),o=e=>{let{children:t}=e,a=(0,n.useRouter)(),[o]=(0,i.useState)(!0),[d,c]=(0,i.useState)(null),[u,_]=(0,i.useState)({}),[x,h]=(0,i.useState)({}),[f,p]=(0,i.useState)({}),A=(0,i.useCallback)(function(e){s.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),c(e)},[]),m=(0,i.useCallback)(function(){a.push("/"),s.A.remove("authTokens"),localStorage.removeItem("auth"),c(null)},[]);(0,i.useEffect)(()=>{let e=localStorage.getItem("auth")||s.A.get("authTokens"),t=localStorage.getItem("pedido"),a=localStorage.getItem("caja"),l=localStorage.getItem("cliente");l&&_(JSON.parse(l)),t&&h(JSON.parse(t)),a&&p(JSON.parse(a)),e&&c(JSON.parse(e))},[]);let C=(0,i.useMemo)(()=>({auth:d,cliente:u,setCliente:_,pedido:x,setPedido:h,caja:f,setCaja:p,loading:o,login:A,logout:m}),[d,u,x,f,A,m]);return(0,l.jsx)(r.Provider,{value:C,children:t})},d=()=>(0,i.useContext)(r)}},e=>{var t=t=>e(e.s=t);e.O(0,[339,8320,3930,9754,1083,1260,6403,152,3685,2670,7493,1669,1014,3975,1229,2885,9461,8441,1517,7358],()=>t(64551)),_N_E=e.O()}]);
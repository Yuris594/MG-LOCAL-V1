(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2842],{21678:(e,t,l)=>{Promise.resolve().then(l.bind(l,87300))},65068:(e,t,l)=>{"use strict";l.d(t,{A:()=>F});var a=l(95155),i=l(48173),o=l.n(i),n=l(75436),r=l(4918),s=l(41983),d=l(36017),c=l(2091),u=l(60391);let x=e=>{let{page:t}=e;return(0,a.jsx)(n.default,{children:(0,a.jsx)(r.A,{children:t.map(e=>(0,a.jsx)(s.Ay,{disablePadding:!0,children:(0,a.jsxs)(d.A,{LinkComponent:o(),href:e.url,onClick:e.onClick,children:[(0,a.jsx)(c.A,{children:e.icon}),(0,a.jsx)(u.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var _=l(78897),h=l.n(_),f=l(12115),A=l(79046),p=l.n(A),m=l(2138),C=l(70689),j=l(96212),O=l(85067),g=l(85244),E=l(74676),S=l(92080),I=l(6069),D=l(9581),b=l(43677),R=l(20457),v=l(11451),T=l(46805),P=l(894),N=l(2295),w=l(9561),y=l(81894),L=l(91888);let F=()=>{let{auth:e,logout:t}=(0,C.A)(),[l,i]=(0,f.useState)(null),[r,s]=(0,f.useState)(!1),d=()=>{s(!1),i(null)},c=[{title:"USUARIOS ",url:"/start/usuarios/",icon:(0,a.jsx)(E.A,{})},{title:"PEDIDOS",url:"/start/pedidos/",icon:(0,a.jsx)(S.A,{})},{title:"CLIENTES",url:"/start/clients/",icon:(0,a.jsx)(j.A,{})},{title:"PRODUCTOS",icon:(0,a.jsx)(I.A,{}),onClick:e=>{s(!0),i(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas/",icon:(0,a.jsx)(D.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja/",icon:(0,a.jsx)(b.A,{})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.default,{}),(0,a.jsxs)(n.default,{sx:{flexGrow:1},children:[(0,a.jsx)(v.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,a.jsxs)(T.A,{children:[(0,a.jsx)(P.A,{color:"inherit",onClick:e=>{i(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(g.A,{})}),(0,a.jsx)(n.default,{sx:{display:{xs:"none",md:"flex"}},children:c.map(e=>(0,a.jsx)(N.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:o(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,a.jsx)(w.default,{variant:"h6",sx:{flexGrow:1}}),(0,a.jsx)(N.default,{component:o(),href:"/start",color:"inherit",children:(0,a.jsx)(m.A,{})}),(0,a.jsxs)(N.default,{className:p().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,a.jsx)(j.A,{}),e&&e.PER_Nom]}),(0,a.jsx)(N.default,{color:"inherit",onClick:()=>{h().fire({title:"\xbfQuieres Terminar La Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#28ee32",cancelButtonColor:"#f12260",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,a.jsx)(O.A,{})})]})}),(0,a.jsxs)(y.A,{id:"basic-menu",anchorEl:l,open:r,onClose:d,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,a.jsx)(L.A,{onClick:d,component:o(),href:"/start/buscarProd/",children:"Buscar Por Referencias"}),(0,a.jsx)(L.A,{onClick:d,component:o(),href:"/start/productosMG/",children:"Lista de Todos Los Productos"})]}),(0,a.jsx)(y.A,{id:"basic-menu",anchorEl:l,MenuListProps:{"aria-labelledby":"basic-button"},open:!!l,onClose:()=>{i(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(x,{page:c})})]})]})}},11434:(e,t,l)=>{"use strict";l.d(t,{m:()=>i});var a=l(12115);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,l]=(0,a.useState)(e);return{form:t,changed:e=>{let{name:a,value:i}=e.target;l({...t,[a]:i})},setForm:l}}},87300:(e,t,l)=>{"use strict";l.r(t),l.d(t,{PedidosC:()=>q,default:()=>X});var a=l(95155),i=l(12115),o=l(81996),n=l.n(o),r=l(8889),s=l(39241),d=l(11434),c=l(70689),u=l(79545),x=l(6748),_=l(77097),h=l(73440),f=l(65068),A=l(29056),p=l(52035),m=l(450);l(92340);var C=l(10142),j=l(6171),O=l.n(j),g=l(89100);let E=e=>{{let t=document.createElement("canvas");return O()(t,e,{format:"CODE128"}),t.toDataURL("image/png")}},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[a]=(0,i.useState)((0,g.GP)(new Date,"dd/MM/yyyy HH:mm:ss")),o=E(null==e?void 0:e.PEDIDO);return{generarPDF:()=>{let i=new C.default("portrait","pt","letter"),n=[{field:"ARTICULO",headerName:"CODIGO",width:200},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500},{field:"PRECIO",headerName:"PRECIO",width:200},{field:"CPed",headerName:"CANT",width:200,type:"number"},{field:"DESP",headerName:"DESP",width:250,type:"number"},{field:"EMPA",headerName:"EMPA",width:200,type:"number"}],r=t.map(e=>{let t=[];return n.forEach(l=>{let a=e[l.field];"PRECIO"===l.field&&(a=parseFloat(Number(a).toFixed(0)).toLocaleString()),t.push(a)}),t});i.setFontSize(20),i.addImage("".concat(o),220,10,130,60),i.setFont("helvetica","italic"),i.setFontSize(13),i.text("PREFACTURA",12,30),"S"===e.IMPRESO&&i.text("DUPLICADO",12,55),i.setFontSize(13),i.text("FACTURA N\xb0________",450,30),i.setFontSize(9),i.text(" ".concat(e.FECHA_PEDIDO),500,65),i.setFontSize(13),i.text("FECHA",450,65),i.text("________________________________________________________________________________",12,70),i.setFontSize(9),i.text("CLIENTE:    ".concat(e.NOMBRE_RAZON),12,85),i.text("NIT/CEDULA:    ".concat(e.CLIENTE),12,98),i.text("DOC2:    ".concat(e.PEDIDO),340,98),i.text("PEORI:    ".concat(e.PEDIDO),450,98),i.text("CIUDAD PPAL:    ".concat(e.CIUDAD,"-").concat(e.DEPTO),12,112),i.text("TEL:    ".concat(e.PEDIDO),340,112),i.text("D'UNA:    ".concat(e.PEDIDO),450,112),i.text("DIRECCION Y CIUDAD DE DESPACHO:    ".concat(e.PEDIDO),12,125),i.text("SOLICITA:   ".concat(e.PEDIDO),340,125),i.autoTable({head:[n.map(e=>e.headerName)],body:r,styles:{theme:"plain",tableWidth:"auto",lineColor:[200,200,200],lineWight:.1,font:"times",fontStyle:"normal",textColor:[0,0,0],display:"flex",cellWidth:"auto",fontSize:8},startY:150,theme:"plain",columnStyles:{cellWidth:"auto"}}),i.setFontSize(10),i.text("TOTAL ITEMS: ".concat(t.length),350,i.autoTable.previous.finalY+20),i.text("Total: ".concat(l),470,i.autoTable.previous.finalY+20),i.text("SEPARADO POR _____________________________________",12,i.autoTable.previous.finalY+20),i.text("REVISADO POR ______________________________________",12,i.autoTable.previous.finalY+40),i.text("DESPACHADO POR ______________________",350,i.autoTable.previous.finalY+40),i.setFontSize(8),i.text("VENDEDOR: ".concat(e.VENDEDOR),12,i.autoTable.previous.finalY+65),i.text("MODIFICADO POR: ".concat(e.U_EDITADOPOR),350,i.autoTable.previous.finalY+65),i.text("AUTORIZADO EN CARTERA POR: ".concat(e.VENDEDOR),12,i.autoTable.previous.finalY+80),i.text("FECHA AUTORIZADO: ".concat(e.U_EDITADOPOR),350,i.autoTable.previous.finalY+80),i.text("________________________________________________________________________________________",12,i.autoTable.previous.finalY+90),i.text("".concat(a),12,i.autoTable.previous.finalY+103),i.output("dataurlnewwindow")}}};var I=l(42035),D=l(7495),b=l(95156);let R=(e,t,l)=>{let[a,o]=(0,i.useState)(0),[n,r]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let a=0===l?e:t;if(Array.isArray(a)){let e=a.reduce((e,t)=>e+t.CPed*t.PRECIO,0),t=a.reduce((e,t)=>{let l=t.PRECIO*(1-t.PORC_DCTO/100)*(1+t.PORC_IMPUESTO/100);return e+t.CPed*l},0),l=Number(e).toFixed(0),i=Number(t).toFixed(0);o("".concat(parseFloat(l).toLocaleString())),r("".concat(parseFloat(i).toLocaleString()))}},[e,t,l]),{sumaSaldoTotal:a,sumaSaldoTotalDESC:n}};var v=l(75293),T=l(48803),P=l(21831),N=l(74205),w=l(75436),y=l(86898),L=l(70152),F=l(2295),U=l(78562),z=l(22678),k=l(90507),M=l(97975),B=l(9561),V=l(73378),W=l(79987),G=l(62347),Y=l(23613);let Z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",maxWidth:"80vw",overflowY:"auto",overflowX:"hidden",padding:"16px",backgroundColor:"#fff",border:"2px solid #000",boxShadow:24};function H(e){let{children:t,value:l,index:i,...o}=e;return(0,a.jsx)("div",{role:"tabpanel",hidden:l!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...o,children:l===i&&(0,a.jsx)(w.default,{sx:{p:3},children:t})})}function J(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}H.propTypes={children:n().node,index:n().number.isRequired,value:n().number.isRequired};let q=()=>{let e=(0,i.useRef)(),{form:t,changed:l}=(0,d.m)({}),{pedido:o,setPedido:n}=(0,c.A)(),[C,j]=(0,i.useState)([]),[O,g]=(0,i.useState)([]),[E,q]=(0,i.useState)([]),[X,Q]=(0,i.useState)(o[0]),[$,K]=(0,i.useState)([]),[ee,et]=(0,i.useState)({}),[el,ea]=(0,i.useState)([]),[ei,eo]=(0,i.useState)({}),[en,er]=(0,i.useState)([]),es=(0,y.A)("(max-width: 600px)"),[ed,ec]=(0,i.useState)(!1),[eu,ex]=(0,i.useState)(!1),[e_,eh]=(0,i.useState)(!1),[ef,eA]=(0,i.useState)(0),ep=0===ef?E:en,{sumaSaldoTotal:em,sumaSaldoTotalDESC:eC}=R(E,en,ef),{generarPDF:ej}=S(X,ep,eC),eO=()=>ec(!1);(0,i.useEffect)(()=>{eg(),eE(),eS()},[]);let eg=async()=>{try{let e=await fetch(r.c.url+"/productos/listar_solo_para_mg",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&(g(t),ea(t))}catch(e){console.log("error")}},eE=async()=>{try{let e=await fetch(r.c.url+"/pedidos/detalle_lineas/".concat(X.PEDIDO),{method:"GET",headers:{"Content-Type":"application"}}),t=await e.json();t&&q(t)}catch(e){console.log("error")}},eS=async()=>{try{let e=await fetch(r.c.url+"/pedidos/articulos_pendientes/".concat(X.PEDIDO),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&er(t)}catch(e){console.log("error")}},eI=async e=>{e.preventDefault();let l={...X,ARTICULOS:E,OBSERVACIONES:t.OBSERVACIONES};try{let e=await fetch(r.c.url+"/pedido/crear/",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}});e.ok?ex(!0):(console.error("Error al enviar la solicitud:",e.statusText),eh(!0))}catch(e){console.error("Error de red:",e),eh(!0)}},eD=async()=>{let e={...X,ARTICULOS:en};try{let t=await fetch(r.c.url+"/pedido/crear/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});t.ok||console.error("Error al enviar la solicitud:",t.statusText)}catch(e){console.log("error"),console.error("Error de red:",e)}},eb=e=>{g(el.filter(t=>{let l=t.ARTICULO&&t.ARTICULO.toString().toLowerCase(),a=t.DESCRIPCION&&t.DESCRIPCION.toString().toLowerCase();return(null==l?void 0:l.includes(e.toLowerCase()))||(null==a?void 0:a.includes(e.toLowerCase()))?t:null}).filter(e=>null!==e))},eR=(e,t)=>{e.reason===v.q.rowFocusOut&&(t.defaultMuiPrevented=!0)},ev=e=>()=>{et({...ee,[e]:{mode:T.V_.Edit}})},eT=e=>()=>{et({...ee,[e]:{mode:T.V_.View}})},eP=e=>()=>{q(E.filter(t=>t.ARTICULO!==e))},eN=e=>()=>{et({...ee,[e]:{mode:T.V_.View,ignoreModifications:!0}}),E.find(t=>t.ARTICULO===e).isNew&&q(E.filter(t=>t.ARTICULO!==e))},ew=e=>{let t=E.findIndex(t=>t.ARTICULO===e.ARTICULO);if(-1===t)return console.error("ARTICULO NO ENCONTRADO"),e;let l={...e,isNew:!1},a=[...E];return a[t]=l,q(a),l},ey=e=>{et(e)},eL=[{field:"ARTICULO",headerName:"CODIGO",width:100},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=parseFloat(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},editable:!0,type:"number"},{field:"CPed",headerName:"CANT",width:80,type:"number",editable:!0},{field:"PORC_DCTO",headerName:"D1",width:70,valueFormatter:e=>{let t=parseFloat(e).toLocaleString();return"".concat(parseFloat(t).toFixed(1))},editable:!0,type:"number"},{field:"DISP",headerName:"DISP",width:70},{field:"PORC_IMPUESTO",headerName:"IVA",width:40,valueFormatter:e=>{let t=parseFloat(e).toLocaleString();return"".concat(parseFloat(t).toFixed(1))},type:"number"},{field:"Em",headerName:"EMP",width:80},{field:"actions",type:"actions",headerName:"ACTIONS",width:100,cellClassName:"actions",getActions:e=>{var t;let{id:l}=e;return(null===(t=ee[l])||void 0===t?void 0:t.mode)===T.V_.Edit?[(0,a.jsx)(P.Z,{icon:(0,a.jsx)(x.A,{}),label:"Save",sx:{color:"primary.main"},onClick:eT(l)}),(0,a.jsx)(P.Z,{icon:(0,a.jsx)(p.A,{}),label:"Cancel",className:"textPrimary",onClick:eN(l),color:"inherit"})]:[(0,a.jsx)(P.Z,{icon:(0,a.jsx)(u.A,{}),label:"Edit",className:"textPrimary",onClick:ev(l),color:"inherit"}),(0,a.jsx)(P.Z,{icon:(0,a.jsx)(m.A,{}),label:"Delete",onClick:eP(l),color:"inherit"})]}}],eF=(e,t)=>{eo({...ei,[e]:t})},eU=[{field:"ARTICULO",headerName:"CODIGO",width:100},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500,editable:!0},{field:"SUBLINEA",headerName:"SUBLINEA",width:300},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=parseFloat(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString("es-CO"))},editable:!0,type:"number"},{field:"CANTIDAD",headerName:"CANT",width:80,type:"number",editable:!0,renderCell:e=>(0,a.jsx)(L.A,{sx:{width:"70px"},variant:"outlined",size:"small",value:ei[e.id]||"",onChange:t=>eF(e.id,t.target.value)})},{field:"PORC_IMPUESTO",headerName:"IVA",width:40},{field:"PRECIOMASIVA",headerName:"MASIVA",width:130,valueFormatter:e=>{let t=parseFloat(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString("es-CO"))},editable:!0},{field:"PORC_DCTO",headerName:"D1",width:40},{field:"TOTAL_DISP",headerName:"DISP",width:70},{field:"UNIDAD_EMPAQUE",headerName:"EMP",width:80},{field:"EXIST_REAL",headerName:"EXISTREAL",width:90}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(w.default,{children:[" "," "," ",(0,a.jsx)(f.A,{})," "," "]}),(0,a.jsxs)(s.A,{container:!0,spacing:2,direction:es?"column":"row",alignItems:"center",justifyContent:"space-between",children:[(0,a.jsx)("h2",{style:{margin:4},children:"PEDIDOS"}),(0,a.jsx)(s.A,{size:{xs:12,sm:6,md:6},sx:{padding:2},children:(0,a.jsxs)(w.default,{sx:{display:"flex",flexDirection:es?"column":"row",justifyContent:"center",alignItems:"center"},children:[(null==X?void 0:X.AUTORIZADONOM)==="APROBADO"?(0,a.jsxs)(F.default,{variant:"filled",sx:{bgcolor:"#fa4f4f"},onClick:ej,children:[" ",(0,a.jsx)(h.A,{})," "]}):(0,a.jsxs)(F.default,{variant:"filled",sx:{margin:1,bgcolor:"#fff64"},disabled:!0,children:[" ",(0,a.jsx)(h.A,{})," "]}),(0,a.jsxs)(F.default,{variant:"filled",sx:{margin:1,bgcolor:"#fff694"},onClick:()=>{let e="SI"===o.U_COMPESPECIAL?null:"SI",t={...X,U_COMPESPECIAL:e};n(t),Q(t)},children:[" ",(0,a.jsx)(_.A,{})," "]}),(0,a.jsx)(F.default,{variant:"filled",sx:{margin:1,bgcolor:"#b6ff91"},onClick:()=>ec(!0),children:"MG"}),(0,a.jsxs)(F.default,{variant:"filled",sx:{margin:1,bgcolor:"#f145af"},children:[" ",(0,a.jsx)(D.A,{})," "]}),(0,a.jsxs)(F.default,{variant:"filled",sx:{margin:1,bgcolor:"#eabafe"},onClick:eI,children:[" ",(0,a.jsx)(A.A,{})," "]}),(0,a.jsx)(F.default,{variant:"filled",sx:{margin:1,bgcolor:"#84D8F4"},onClick:eD,children:(0,a.jsx)(I.A,{})}),(0,a.jsxs)(F.default,{variant:"filled",sx:{margin:1,bgcolor:"#ffa28a"},onClick:()=>{window.history.back(),localStorage.removeItem("pedidoTemp")},children:[" ",(0,a.jsx)(b.A,{})," "]})]})})]}),(0,a.jsx)(w.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",p:2,zoom:.8},children:(0,a.jsx)(U.A,{sx:{width:{xs:"90%",sm:"70%",md:"50%",lg:"40%"}},children:(0,a.jsxs)(s.A,{container:!0,spacing:2,children:[(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsx)(k.A,{children:"Estado"}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.ESTADO)||"",label:"Estado"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsxs)(k.A,{children:[" ","Autorizacion"," "]}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.AUTORIZADONOM)||"",label:"Autorizacion"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsxs)(k.A,{children:[" ","Impreso"," "]}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.IMPRESO)||"",label:"Impreso"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsx)(k.A,{children:"Nro"}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.PEDIDO)||"",label:"Nro"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsxs)(k.A,{children:[" ","Cliente"," "]}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.CLIENTE)||"",label:"Cliente"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:9},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsx)(k.A,{}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.NOMBRE_RAZON)||""})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsx)(k.A,{children:"Fecha"}),(0,a.jsx)(M.A,{label:"Fecha"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsxs)(k.A,{children:[" ","Direccion de Envio"," "]}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.DEPTO)||"",label:"Direccion Envio"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsx)(k.A,{}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.CIUDAD)||""})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(z.A,{fullWidth:!0,children:[(0,a.jsx)(k.A,{children:"Vend"}),(0,a.jsx)(M.A,{value:(null==X?void 0:X.VENDEDOR)||"",label:"Vend"})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:1},children:(0,a.jsxs)(U.A,{children:[(0,a.jsxs)(B.default,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:[" ","Especial"," "]}),(0,a.jsxs)(B.default,{sx:{fontSize:20,padding:.5,color:"red"},variant:"body2",color:"text.primary",children:[" ",(null==X?void 0:X.U_COMPESPECIAL)||""," "]})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:6},children:(0,a.jsxs)(z.A,{sx:{margin:.5,display:"flex"},children:[(0,a.jsxs)(k.A,{htmlFor:"component-disabled",children:[" ","Nota Factura (Doc2)"," "]}),(0,a.jsx)(M.A,{label:"Nota Factura (Doc2)",id:"OBSERVACIONES",name:"OBSERVACIONES",autoComplete:"OBSERVACIONES",autoFocus:!0,value:t.OBSERVACIONES||"",onChange:l})]})}),(0,a.jsx)(s.A,{size:{xs:12,sm:5},children:(0,a.jsxs)(z.A,{sx:{margin:.5,display:"flex"},children:[(0,a.jsx)(k.A,{htmlFor:"component-disabled"}),(0,a.jsx)(L.A,{id:"outlined-multiline-static",label:"Multiline",multiline:!0,rows:1,defaultValue:(null==X?void 0:X.OBSERVACIONES)||""})]})})]})})}),(0,a.jsx)(s.A,{size:{xs:12},children:(0,a.jsxs)(U.A,{sx:{width:"100%"},children:[(0,a.jsxs)(V.A,{value:ef,onChange:(e,t)=>{eA(t)},"aria-label":"basic tabs example",children:[(0,a.jsx)(W.A,{label:"Detalles Lineas",...J(0)}),(0,a.jsx)(W.A,{label:"Articulos Pendientes",...J(1)})]}),(0,a.jsx)(H,{value:ef,index:0,children:(0,a.jsx)(w.default,{sx:{height:"auto",width:"100%","& .MuiDataGrid-cell--editable":{bgcolor:e=>"dark"===e.palette.mode?"#376331":"#f5f5f5","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"#275126":"#e1e1e1"}}},children:(0,a.jsx)(w.default,{sx:{height:"auto",width:"100%"},children:(0,a.jsx)(N.z,{density:"compact",rows:E,columns:eL,getRowId:e=>e.ARTICULO,editMode:"row",onRowModesModelChange:ey,onRowEditStop:eR,processRowUpdate:ew,slotProps:{toolbar:{setProductosP:q,setRowModesModel:et}},initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10]})})})}),(0,a.jsx)(H,{value:ef,index:1,children:(0,a.jsx)(w.default,{sx:{height:"auto",width:"100%","& .MuiDataGrid-cell--editable":{bgcolor:e=>"dark"===e.palette.mode?"#376331":"#f5f5f5","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"#275126":"#e1e1e1"}}},children:(0,a.jsx)(w.default,{sx:{height:"auto",width:"100%"},children:(0,a.jsx)(N.z,{density:"compact",rows:en,columns:eL,getRowId:e=>e.ARTICULO,onRowSelectionModelChange:ey,onRowEditStop:eR,processRowUpdate:ew,slotProps:{toolbar:{setProductosP:q,setRowModesModel:et}},initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10]})})})})]})}),(0,a.jsx)(U.A,{elevation:3,sx:{padding:3,margin:3,marginTop:3},children:(0,a.jsx)(w.default,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,a.jsxs)(G.A,{variant:"text","aria-label":"text button group",sx:{height:60},children:[(0,a.jsxs)(F.default,{sx:{flexDirection:"column"},children:[(0,a.jsxs)(B.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",em," "]}),(0,a.jsxs)("strong",{children:[" ","SUB-TOTAL"," "]})]}),(0,a.jsxs)(F.default,{sx:{flexDirection:"column"},children:[(0,a.jsxs)(B.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",eC," "]}),(0,a.jsxs)("strong",{children:[" ","TOTAL"," "]})]})]})})}),(0,a.jsxs)(w.default,{sx:{flexDirection:"row",display:"flex",justifyContent:"flex-end"},children:[(0,a.jsxs)("strong",{children:[" ","Editado por:"," "]}),(0,a.jsxs)(B.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ",(null==X?void 0:X.createdBy)||""," "]})]}),(0,a.jsx)(Y.A,{open:ed,onClose:eO,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsx)(w.default,{sx:Z,children:(0,a.jsxs)(w.default,{sx:{padding:2,display:"flex",flexDirection:"column",gap:2},children:[(0,a.jsxs)(w.default,{sx:{display:"flex",flexDirection:es?"column":"row",justifyContent:"space-between",alignItems:"center",gap:2},children:[(0,a.jsx)("h2",{children:(0,a.jsx)("strong",{children:"PRODUCTOS"})}),(0,a.jsxs)(w.default,{display:"flex",gap:1,children:[(0,a.jsx)(F.default,{variant:"contained",color:"success",onClick:()=>{let e=$.map(e=>{let t=O.find(t=>t.ARTICULO===e);return t&&ei[e]?{...t,CANTIDAD:ei[e]}:null}).filter(Boolean);q(t=>{let l=[...t];return e.forEach(e=>{let t=l.find(t=>t.ARTICULO===e.ARTICULO);t?t.CANTIDAD+=e.CANTIDAD:l.push(e)}),l}),K([]),eo({}),eO()},children:"Agregar"}),(0,a.jsx)(F.default,{variant:"contained",color:"error",onClick:eO,children:"Cerrar"})]})]}),(0,a.jsx)(w.default,{sx:{display:"flex",flexDirection:es?"column":"row",gap:2,alignItems:"center"},children:(0,a.jsx)(L.A,{id:"outlined-basic",placeholder:"Buscar Producto",value:C,onChange:e=>{e.preventDefault(),j(e.target.value),eb(e.target.value)},inputRef:e,sx:{width:"100%"}})}),(0,a.jsx)(w.default,{sx:{width:"100%",height:480},children:(0,a.jsx)(N.z,{density:"compact",rows:O,columns:eU,getRowId:e=>e.ARTICULO,pageSize:10,rowSelectionModel:$,processRowUpdate:ew,onRowSelectionModelChange:e=>{K(e)},sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})})]})})})]})},X=q},8889:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});let a={url:"http://172.20.20.3:8001"}},70689:(e,t,l)=>{"use strict";l.d(t,{A:()=>d,AuthProvider:()=>s});var a=l(95155),i=l(12115),o=l(76046),n=l(89208);let r=(0,i.createContext)({login:e=>{},logout:()=>{}}),s=e=>{let{children:t}=e,l=(0,o.useRouter)(),[s]=(0,i.useState)(!0),[d,c]=(0,i.useState)(null),[u,x]=(0,i.useState)({}),[_,h]=(0,i.useState)({}),[f,A]=(0,i.useState)({}),p=(0,i.useCallback)(function(e){n.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),c(e)},[]),m=(0,i.useCallback)(function(){l.push("/"),n.A.remove("authTokens"),localStorage.removeItem("auth"),c(null)},[]);(0,i.useEffect)(()=>{let e=localStorage.getItem("auth")||n.A.get("authTokens"),t=localStorage.getItem("pedido"),l=localStorage.getItem("caja"),a=localStorage.getItem("cliente");a&&x(JSON.parse(a)),t&&h(JSON.parse(t)),l&&A(JSON.parse(l)),e&&c(JSON.parse(e))},[]);let C=(0,i.useMemo)(()=>({auth:d,cliente:u,setCliente:x,pedido:_,setPedido:h,caja:f,setCaja:A,loading:s,login:p,logout:m}),[d,u,_,f,p,m]);return(0,a.jsx)(r.Provider,{value:C,children:t})},d=()=>(0,i.useContext)(r)}},e=>{var t=t=>e(e.s=t);e.O(0,[339,8320,3930,9754,1083,1260,6403,152,8173,2670,7493,4205,6899,914,1229,8256,136,8441,1517,7358],()=>t(21678)),_N_E=e.O()}]);
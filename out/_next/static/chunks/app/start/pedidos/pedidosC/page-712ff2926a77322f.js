(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2842],{21678:(e,t,l)=>{Promise.resolve().then(l.bind(l,87300))},65068:(e,t,l)=>{"use strict";l.d(t,{A:()=>U});var a=l(95155),i=l(20457),s=l(75436),o=l(11451),r=l(46805),n=l(894),d=l(2295),c=l(9561),u=l(81894),_=l(91888),x=l(74676),h=l(92080),f=l(96212),A=l(6069),p=l(9581),m=l(43677),C=l(85244),j=l(85067),O=l(2138);l(76046);var g=l(70689),S=l(12115),E=l(4918),I=l(41983),D=l(36017),b=l(2091),R=l(60391),v=l(48173),N=l.n(v);let T=e=>{let{page:t}=e;return(0,a.jsx)(s.default,{children:(0,a.jsx)(E.A,{children:t.map(e=>(0,a.jsx)(I.Ay,{disablePadding:!0,children:(0,a.jsxs)(D.A,{LinkComponent:N(),href:e.url,onClick:e.onClick,children:[(0,a.jsx)(b.A,{children:e.icon}),(0,a.jsx)(R.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var P=l(78897),w=l.n(P),y=l(79046),L=l.n(y);let U=()=>{let{auth:e,logout:t}=(0,g.A)(),[l,E]=(0,S.useState)(null),[I,D]=(0,S.useState)(!1),b=()=>{D(!1),E(null)},R=[{title:"USUARIOS ",url:"/start/usuarios",icon:(0,a.jsx)(x.A,{})},{title:"PEDIDOS",url:"/start/pedidos",icon:(0,a.jsx)(h.A,{})},{title:"CLIENTES",url:"/start/clients",icon:(0,a.jsx)(f.A,{})},{title:"PRODUCTOS",icon:(0,a.jsx)(A.A,{}),onClick:e=>{D(!0),E(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas",icon:(0,a.jsx)(p.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja",icon:(0,a.jsx)(m.A,{})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)(s.default,{sx:{flexGrow:1},children:[(0,a.jsx)(o.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,a.jsxs)(r.A,{children:[(0,a.jsx)(n.A,{color:"inherit",onClick:e=>{E(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(C.A,{})}),(0,a.jsx)(s.default,{sx:{display:{xs:"none",md:"flex"}},children:R.map(e=>(0,a.jsx)(d.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:N(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,a.jsx)(c.default,{variant:"h6",sx:{flexGrow:1}}),(0,a.jsx)(d.default,{component:N(),href:"/start",color:"inherit",children:(0,a.jsx)(O.A,{})}),(0,a.jsxs)(d.default,{className:L().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,a.jsx)(f.A,{}),e&&e.PER_Nom]}),(0,a.jsx)(d.default,{color:"inherit",onClick:()=>{w().fire({title:"\xbfQuieres Terminar La Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#28ee32",cancelButtonColor:"#f12260",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,a.jsx)(j.A,{})})]})}),(0,a.jsxs)(u.A,{id:"basic-menu",anchorEl:l,open:I,onClose:b,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,a.jsx)(_.A,{onClick:b,component:N(),href:"/start/buscarProd",children:"Buscar Por Referencias"}),(0,a.jsx)(_.A,{onClick:b,component:N(),href:"/start/productosMG",children:"Lista de Todos Los Productos"})]}),(0,a.jsx)(u.A,{id:"basic-menu",anchorEl:l,MenuListProps:{"aria-labelledby":"basic-button"},open:!!l,onClose:()=>{E(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(T,{page:R})})]})]})}},11434:(e,t,l)=>{"use strict";l.d(t,{m:()=>i});var a=l(12115);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,l]=(0,a.useState)(e);return{form:t,changed:e=>{let{name:a,value:i}=e.target;l({...t,[a]:i})},setForm:l}}},87300:(e,t,l)=>{"use strict";l.r(t),l.d(t,{PedidosC:()=>$,default:()=>q});var a=l(95155),i=l(75436),s=l(86898),o=l(70152),r=l(78562),n=l(2295),d=l(22678),c=l(90507),u=l(97975),_=l(9561),x=l(73378),h=l(79987),f=l(62347),A=l(23613),p=l(75293),m=l(48803),C=l(21831),j=l(74205),O=l(12115),g=l(70689),S=l(11434),E=l(39241),I=l(8889);let D=(e,t,l)=>{let[a,i]=(0,O.useState)(0),[s,o]=(0,O.useState)(0);return(0,O.useEffect)(()=>{let a=0===l?e:t;if(Array.isArray(a)){let e=a.reduce((e,t)=>e+t.CPed*t.PRECIO,0),t=a.reduce((e,t)=>{let l=t.PRECIO*(1-t.PORC_DCTO/100)*(1+t.PORC_IMPUESTO/100);return e+t.CPed*l},0),l=Number(e).toFixed(0),s=Number(t).toFixed(0);i("".concat(parseFloat(l).toLocaleString())),o("".concat(parseFloat(s).toLocaleString()))}},[e,t,l]),{sumaSaldoTotal:a,sumaSaldoTotalDESC:s}};var b=l(6171),R=l.n(b),v=l(10142);l(92340);var N=l(89100);let T=e=>{{let t=document.createElement("canvas");return R()(t,e,{format:"CODE128"}),t.toDataURL("image/png")}},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[a]=(0,O.useState)((0,N.GP)(new Date,"dd/MM/yyyy HH:mm:ss")),i=T(null==e?void 0:e.PEDIDO);return{generarPDF:()=>{let s=new v.default("portrait","pt","letter"),o=[{field:"ARTICULO",headerName:"CODIGO",width:200},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500},{field:"PRECIO",headerName:"PRECIO",width:200},{field:"CPed",headerName:"CANT",width:200,type:"number"},{field:"DESP",headerName:"DESP",width:250,type:"number"},{field:"EMPA",headerName:"EMPA",width:200,type:"number"}],r=t.map(e=>{let t=[];return o.forEach(l=>{let a=e[l.field];"PRECIO"===l.field&&(a=parseFloat(Number(a).toFixed(0)).toLocaleString()),t.push(a)}),t});s.setFontSize(20),s.addImage("".concat(i),220,10,130,60),s.setFont("helvetica","italic"),s.setFontSize(13),s.text("PREFACTURA",12,30),"S"===e.IMPRESO&&s.text("DUPLICADO",12,55),s.setFontSize(13),s.text("FACTURA N\xb0________",450,30),s.setFontSize(9),s.text(" ".concat(e.FECHA_PEDIDO),500,65),s.setFontSize(13),s.text("FECHA",450,65),s.text("________________________________________________________________________________",12,70),s.setFontSize(9),s.text("CLIENTE:    ".concat(e.NOMBRE_RAZON),12,85),s.text("NIT/CEDULA:    ".concat(e.CLIENTE),12,98),s.text("DOC2:    ".concat(e.PEDIDO),340,98),s.text("PEORI:    ".concat(e.PEDIDO),450,98),s.text("CIUDAD PPAL:    ".concat(e.CIUDAD,"-").concat(e.DEPTO),12,112),s.text("TEL:    ".concat(e.PEDIDO),340,112),s.text("D'UNA:    ".concat(e.PEDIDO),450,112),s.text("DIRECCION Y CIDUAD DE DESPACHO:    ".concat(e.PEDIDO),12,125),s.text("SOLICITA:   ".concat(e.PEDIDO),340,125),s.autoTable({head:[o.map(e=>e.headerName)],body:r,styles:{theme:"plain",tableWidth:"auto",lineColor:[200,200,200],lineWight:.1,font:"times",fontStyle:"normal",textColor:[0,0,0],display:"flex",cellWidth:"auto",fontSize:8},startY:150,theme:"plain",columnStyles:{cellWidth:"auto"}}),s.setFontSize(10),s.text("TOTAL ITEMS: ".concat(t.length),350,s.autoTable.previous.finalY+20),s.text("Total: ".concat(l),470,s.autoTable.previous.finalY+20),s.text("SEPARADO POR_____________________________________",12,s.autoTable.previous.finalY+20),s.text("REVISADO POR______________________________________",12,s.autoTable.previous.finalY+40),s.text("DESPACHADO POR______________________",350,s.autoTable.previous.finalY+40),s.setFontSize(8),s.text("VENDEDOR: ".concat(e.VENDEDOR),12,s.autoTable.previous.finalY+65),s.text("MODIFICADO POR: ".concat(e.U_EDITADOPOR),350,s.autoTable.previous.finalY+65),s.text("AUTORIZADO EN CARTERA POR: ".concat(e.VENDEDOR),12,s.autoTable.previous.finalY+80),s.text("FECHA AUTORIZADO: ".concat(e.U_EDITADOPOR),350,s.autoTable.previous.finalY+80),s.text("___________________________________________________________________________________________________________________",12,s.autoTable.previous.finalY+90),s.text("".concat(a),12,s.autoTable.previous.finalY+103),s.output("dataurlnewwindow")}}};var w=l(65068),y=l(81996),L=l.n(y),U=l(95156),F=l(7495),z=l(42035),k=l(29056),M=l(52035),V=l(450),B=l(73440),W=l(79545),G=l(6748),Y=l(77097);let J={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",maxWidth:"80vw",overflowY:"auto",overflowX:"hidden",padding:"16px",backgroundColor:"#fff",border:"2px solid #000",boxShadow:24};function Z(e){let{children:t,value:l,index:s,...o}=e;return(0,a.jsx)("div",{role:"tabpanel",hidden:l!==s,id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s),...o,children:l===s&&(0,a.jsx)(i.default,{sx:{p:3},children:t})})}function H(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}Z.propTypes={children:L().node,index:L().number.isRequired,value:L().number.isRequired};let $=()=>{let e=(0,O.useRef)(),{form:t,changed:l}=(0,S.m)({}),{pedido:b,setPedido:R}=(0,g.A)(),[v,N]=(0,O.useState)([]),[T,y]=(0,O.useState)([]),[L,$]=(0,O.useState)([]),[q,X]=(0,O.useState)(b[0]),[Q,K]=(0,O.useState)([]),[ee,et]=(0,O.useState)({}),[el,ea]=(0,O.useState)([]),[ei,es]=(0,O.useState)({}),[eo,er]=(0,O.useState)([]),en=(0,s.A)("(max-width: 600px)"),[ed,ec]=(0,O.useState)(!1),[eu,e_]=(0,O.useState)(!1),[ex,eh]=(0,O.useState)(!1),[ef,eA]=(0,O.useState)(0),ep=0===ef?L:eo,{sumaSaldoTotal:em,sumaSaldoTotalDESC:eC}=D(L,eo,ef),{generarPDF:ej}=P(q,ep,eC),eO=()=>ec(!1);(0,O.useEffect)(()=>{eg(),eS(),eE()},[]);let eg=async()=>{try{let e=await fetch(I.c.url+"/productos/listar_solo_para_mg",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&(y(t),ea(t))}catch(e){console.log("error")}},eS=async()=>{try{let e=await fetch(I.c.url+"/pedidos/detalle_lineas/".concat(q.PEDIDO),{method:"GET",headers:{"Content-Type":"application"}}),t=await e.json();t&&$(t)}catch(e){console.log("error")}},eE=async()=>{try{let e=await fetch(I.c.url+"/pedidos/articulos_pendientes/".concat(q.PEDIDO),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&er(t)}catch(e){console.log("error")}},eI=async e=>{e.preventDefault();let l={...q,ARTICULOS:L,OBSERVACIONES:t.OBSERVACIONES};try{let e=await fetch(I.c.url+"/pedido/crear/",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}});e.ok?e_(!0):(console.error("Error al enviar la solicitud:",e.statusText),eh(!0))}catch(e){console.error("Error de red:",e),eh(!0)}},eD=async()=>{let e={...q,ARTICULOS:eo};try{let t=await fetch(I.c.url+"/pedido/crear/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});t.ok||console.error("Error al enviar la solicitud:",t.statusText)}catch(e){console.log("error"),console.error("Error de red:",e)}},eb=e=>{y(el.filter(t=>{let l=t.ARTICULO&&t.ARTICULO.toString().toLowerCase(),a=t.DESCRIPCION&&t.DESCRIPCION.toString().toLowerCase();return(null==l?void 0:l.includes(e.toLowerCase()))||(null==a?void 0:a.includes(e.toLowerCase()))?t:null}).filter(e=>null!==e))},eR=(e,t)=>{e.reason===p.q.rowFocusOut&&(t.defaultMuiPrevented=!0)},ev=e=>()=>{et({...ee,[e]:{mode:m.V_.Edit}})},eN=e=>()=>{et({...ee,[e]:{mode:m.V_.View}})},eT=e=>()=>{$(L.filter(t=>t.ARTICULO!==e))},eP=e=>()=>{et({...ee,[e]:{mode:m.V_.View,ignoreModifications:!0}}),L.find(t=>t.ARTICULO===e).isNew&&$(L.filter(t=>t.ARTICULO!==e))},ew=e=>{let t=L.findIndex(t=>t.ARTICULO===e.ARTICULO);if(-1===t)return console.error("ARTICULO NO ENCONTRADO"),e;let l={...e,isNew:!1},a=[...L];return a[t]=l,$(a),l},ey=e=>{et(e)},eL=[{field:"ARTICULO",headerName:"CODIGO",width:100},{field:"DESCRIPCION",headerName:"Referencia",width:500},{field:"PRECIO",headerName:"Precio",width:130,valueFormatter:e=>{let t=parseFloat(e).toFixed(0);return"$".concat(parseFloat(t).toLocaleString("es-CO"))},editable:!0,type:"number"},{field:"CPed",headerName:"Cant",width:80,type:"number",editable:!0},{field:"PORC_DCTO",headerName:"D1",width:70,valueFormatter:e=>{let t=parseFloat(e).toFixed(0);return"$".concat(parseFloat(t).toLocaleString("es-CO"))},editable:!0,type:"number"},{field:"DISP",headerName:"Disp",width:70,cellClassName:e=>0===e.value?"red-text":""},{field:"PORC_IMPUESTO",headerName:"IVA",width:40},{field:"Em",headerName:"Emp",width:80},{field:"EXIST_REAL",headerName:"Existreal",width:90},{field:"actions",type:"actions",headerName:"Actions",width:100,cellClassName:"actions",getActions:e=>{var t;let{id:l}=e;return(null===(t=ee[l])||void 0===t?void 0:t.mode)===m.V_.Edit?[(0,a.jsx)(C.Z,{icon:(0,a.jsx)(G.A,{}),label:"Save",sx:{color:"primary.main"},onClick:eN(l)}),(0,a.jsx)(C.Z,{icon:(0,a.jsx)(M.A,{}),label:"Cancel",className:"textPrimary",onClick:eP(l),color:"inherit"})]:[(0,a.jsx)(C.Z,{icon:(0,a.jsx)(W.A,{}),label:"Edit",className:"textPrimary",onClick:ev(l),color:"inherit"}),(0,a.jsx)(C.Z,{icon:(0,a.jsx)(V.A,{}),label:"Delete",onClick:eT(l),color:"inherit"})]}}],eU=(e,t)=>{es({...ei,[e]:t})},eF=[{field:"ARTICULO",headerName:"CODIGO",width:100},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500,editable:!0},{field:"SUBLINEA",headerName:"SUBLINEA",width:300},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=parseFloat(e).toFixed(0);return"$".concat(parseFloat(t).toLocaleString("es-CO"))},editable:!0},{field:"CANTIDAD",headerName:"CANT",width:80,type:"number",editable:!0,renderCell:e=>(0,a.jsx)(o.A,{sx:{width:"70px"},variant:"outlined",size:"small",value:ei[e.id]||"",onChange:t=>eU(e.id,t.target.value)})},{field:"PORC_IMPUESTO",headerName:"IVA",width:40},{field:"PRECIOMASIVA",headerName:"MASIVA",width:130,valueFormatter:e=>{let t=parseFloat(e).toFixed(0);return"$".concat(parseFloat(t).toLocaleString("es-CO"))},editable:!0},{field:"PORC_DCTO",headerName:"D1",width:40},{field:"TOTAL_DISP",headerName:"DISP",width:70},{field:"UNIDAD_EMPAQUE",headerName:"EMP",width:80},{field:"EXIST_REAL",headerName:"EXISTREAL",width:90}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.default,{children:[" "," "," ",(0,a.jsx)(w.A,{})," "," "]}),(0,a.jsxs)(i.default,{sx:{padding:"20px"},children:[(0,a.jsx)(r.A,{elevation:3,sx:{padding:1,marginBottom:1},children:(0,a.jsxs)(E.A,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(E.A,{size:{xs:12,sm:8,md:6},children:(0,a.jsx)("h2",{style:{margin:0},children:(0,a.jsx)("strong",{children:"PEDIDOS"})})}),(0,a.jsxs)(E.A,{size:{xs:12,sm:8,md:6},children:[(null==q?void 0:q.AUTORIZADONOM)==="APROBADO"?(0,a.jsxs)(n.default,{variant:"filled",sx:{bgcolor:"#fa4f4f"},onClick:ej,children:[" ",(0,a.jsx)(B.A,{})," "]}):(0,a.jsxs)(n.default,{variant:"filled",sx:{margin:1,bgcolor:"#fff64"},disabled:!0,children:[" ",(0,a.jsx)(B.A,{})," "]}),(0,a.jsxs)(n.default,{variant:"filled",sx:{margin:1,bgcolor:"#fff694"},onClick:()=>{let e="SI"===b.U_COMPESPECIAL?null:"SI",t={...q,U_COMPESPECIAL:e};R(t),X(t)},children:[" ",(0,a.jsx)(Y.A,{})," "]}),(0,a.jsx)(n.default,{variant:"filled",sx:{margin:1,bgcolor:"#b6ff91"},onClick:()=>ec(!0),children:"MG"}),(0,a.jsxs)(n.default,{variant:"filled",sx:{margin:1,bgcolor:"#f145af"},children:[" ",(0,a.jsx)(F.A,{})," "]}),(0,a.jsxs)(n.default,{variant:"filled",sx:{margin:1,bgcolor:"#eabafe"},onClick:eI,children:[" ",(0,a.jsx)(k.A,{})," "]}),(0,a.jsx)(n.default,{variant:"filled",sx:{margin:1,bgcolor:"#84D8F4"},onClick:eD,children:(0,a.jsx)(z.A,{})}),(0,a.jsxs)(n.default,{variant:"filled",sx:{bgcolor:"#ffa28a"},onClick:()=>{window.history.back(),localStorage.removeItem("pedidoTemp")},children:[" ",(0,a.jsx)(U.A,{})," "]})]})]})}),(0,a.jsx)(i.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",p:2,zoom:.8},children:(0,a.jsx)(r.A,{sx:{width:{xs:"90%",sm:"70%",md:"50%",lg:"40%"}},children:(0,a.jsxs)(E.A,{container:!0,spacing:2,children:[(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsx)(c.A,{children:"Estado"}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.ESTADO)||"",label:"Estado"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsxs)(c.A,{children:[" ","Authorizacion"," "]}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.AUTORIZADONOM)||"",label:"Authorizacion"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsxs)(c.A,{children:[" ","Impreso"," "]}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.IMPRESO)||"",label:"Impreso"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsx)(c.A,{children:"Nro"}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.PEDIDO)||"",label:"Nro"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsxs)(c.A,{children:[" ","Cliente"," "]}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.CLIENTE)||"",label:"Cliente"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:9},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.NOMBRE_RAZON)||""})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsx)(c.A,{children:"Fecha"}),(0,a.jsx)(u.A,{label:"Fecha"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsxs)(c.A,{children:[" ","Direccion de Envio"," "]}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.DEPTO)||"",label:"Direccion Envio"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.CIUDAD)||""})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:3},children:(0,a.jsxs)(d.A,{fullWidth:!0,children:[(0,a.jsx)(c.A,{children:"Vend"}),(0,a.jsx)(u.A,{value:(null==q?void 0:q.VENDEDOR)||"",label:"Vend"})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:1},children:(0,a.jsxs)(r.A,{children:[(0,a.jsxs)(_.default,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:[" ","Especial"," "]}),(0,a.jsxs)(_.default,{sx:{fontSize:20,padding:.5,color:"red"},variant:"body2",color:"text.primary",children:[" ",(null==q?void 0:q.U_COMPESPECIAL)||""," "]})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:6},children:(0,a.jsxs)(d.A,{sx:{margin:.5,display:"flex"},children:[(0,a.jsxs)(c.A,{htmlFor:"component-disabled",children:[" ","Nota Factura (Doc2)"," "]}),(0,a.jsx)(u.A,{label:"Nota Factura (Doc2)",id:"OBSERVACIONES",name:"OBSERVACIONES",autoComplete:"OBSERVACIONES",autoFocus:!0,value:t.OBSERVACIONES||"",onChange:l})]})}),(0,a.jsx)(E.A,{size:{xs:12,sm:5},children:(0,a.jsxs)(d.A,{sx:{margin:.5,display:"flex"},children:[(0,a.jsx)(c.A,{htmlFor:"component-disabled"}),(0,a.jsx)(o.A,{id:"outlined-multiline-static",label:"Multiline",multiline:!0,rows:1,defaultValue:(null==q?void 0:q.OBSERVACIONES)||""})]})})]})})}),(0,a.jsx)(E.A,{size:{xs:12},children:(0,a.jsxs)(r.A,{sx:{width:"100%"},children:[(0,a.jsxs)(x.A,{value:ef,onChange:(e,t)=>{eA(t)},"aria-label":"basic tabs example",children:[(0,a.jsx)(h.A,{label:"Detalles Lineas",...H(0)}),(0,a.jsx)(h.A,{label:"Articulos Pendientes",...H(1)})]}),(0,a.jsx)(Z,{value:ef,index:0,children:(0,a.jsx)(i.default,{sx:{height:"auto",width:"100%","& .MuiDataGrid-cell--editable":{bgcolor:e=>"dark"===e.palette.mode?"#376331":"#f5f5f5","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"#275126":"#e1e1e1"}}},children:(0,a.jsx)(i.default,{sx:{height:"auto",width:"100%"},children:(0,a.jsx)(j.z,{density:"compact",rows:L,columns:eL,getRowId:e=>e.ARTICULO,editMode:"row",onRowModesModelChange:ey,onRowEditStop:eR,processRowUpdate:ew,slotProps:{toolbar:{setProductosP:$,setRowModesModel:et}},initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10]})})})}),(0,a.jsx)(Z,{value:ef,index:1,children:(0,a.jsx)(i.default,{sx:{height:"auto",width:"100%","& .MuiDataGrid-cell--editable":{bgcolor:e=>"dark"===e.palette.mode?"#376331":"#f5f5f5","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"#275126":"#e1e1e1"}}},children:(0,a.jsx)(i.default,{sx:{height:"auto",width:"100%"},children:(0,a.jsx)(j.z,{density:"compact",rows:eo,columns:eL,getRowId:e=>e.ARTICULO,onRowSelectionModelChange:ey,onRowEditStop:eR,processRowUpdate:ew,slotProps:{toolbar:{setProductosP:$,setRowModesModel:et}},initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10]})})})})]})})]}),(0,a.jsx)(r.A,{elevation:3,sx:{padding:3,margin:3,marginTop:3},children:(0,a.jsx)(i.default,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,a.jsxs)(f.A,{variant:"text","aria-label":"text button group",sx:{height:60},children:[(0,a.jsxs)(n.default,{sx:{flexDirection:"column"},children:[(0,a.jsxs)(_.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",em," "]}),(0,a.jsxs)("strong",{children:[" ","SUB-TOTAL"," "]})]}),(0,a.jsxs)(n.default,{sx:{flexDirection:"column"},children:[(0,a.jsxs)(_.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",eC," "]}),(0,a.jsxs)("strong",{children:[" ","TOTAL"," "]})]})]})})}),(0,a.jsxs)(i.default,{sx:{flexDirection:"row",display:"flex",justifyContent:"flex-end"},children:[(0,a.jsxs)("strong",{children:[" ","Editado por:"," "]}),(0,a.jsxs)(_.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ",(null==q?void 0:q.createdBy)||""," "]})]}),(0,a.jsx)(A.A,{open:ed,onClose:eO,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsx)(i.default,{sx:J,children:(0,a.jsxs)(i.default,{sx:{padding:2,display:"flex",flexDirection:"column",gap:2},children:[(0,a.jsxs)(i.default,{sx:{display:"flex",flexDirection:en?"column":"row",justifyContent:"space-between",alignItems:"center",gap:2},children:[(0,a.jsx)("h2",{children:(0,a.jsx)("strong",{children:"PRODUCTOS"})}),(0,a.jsxs)(i.default,{display:"flex",gap:1,children:[(0,a.jsx)(n.default,{variant:"contained",color:"success",onClick:()=>{let e=Q.map(e=>{let t=T.find(t=>t.ARTICULO===e);return t&&ei[e]?{...t,CANTIDAD:ei[e]}:null}).filter(Boolean);$(t=>{let l=[...t];return e.forEach(e=>{let t=l.find(t=>t.ARTICULO===e.ARTICULO);t?t.CANTIDAD+=e.CANTIDAD:l.push(e)}),l}),K([]),es({}),eO()},children:"Agregar"}),(0,a.jsx)(n.default,{variant:"contained",color:"error",onClick:eO,children:"Cerrar"})]})]}),(0,a.jsx)(i.default,{sx:{display:"flex",flexDirection:en?"column":"row",gap:2,alignItems:"center"},children:(0,a.jsx)(o.A,{id:"outlined-basic",placeholder:"Buscar Producto",value:v,onChange:e=>{e.preventDefault(),N(e.target.value),eb(e.target.value)},inputRef:e,sx:{width:"100%"}})}),(0,a.jsx)(i.default,{sx:{width:"100%",height:480},children:(0,a.jsx)(j.z,{density:"compact",rows:T,columns:eF,getRowId:e=>e.ARTICULO,pageSize:10,rowSelectionModel:Q,processRowUpdate:ew,onRowSelectionModelChange:e=>{K(e)},sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})})]})})})]})},q=$},8889:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});let a={url:"http://172.20.20.3:8001"}},70689:(e,t,l)=>{"use strict";l.d(t,{A:()=>d,AuthProvider:()=>n});var a=l(95155),i=l(12115),s=l(76046),o=l(89208);let r=(0,i.createContext)({login:e=>{},logout:()=>{}}),n=e=>{let{children:t}=e,l=(0,s.useRouter)(),[n]=(0,i.useState)(!0),[d,c]=(0,i.useState)({}),[u,_]=(0,i.useState)(null),[x,h]=(0,i.useState)({}),[f,A]=(0,i.useState)({}),[p,m]=(0,i.useState)({}),[C,j]=(0,i.useState)({}),[O,g]=(0,i.useState)({}),S=(0,i.useCallback)(function(e){o.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),_(e)},[]),E=(0,i.useCallback)(function(){o.A.remove("authTokens"),localStorage.removeItem("auth"),_(null),l.push("/")},[]);(0,i.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("caja"),l=localStorage.getItem("pedido"),a=localStorage.getItem("pedidoV"),i=localStorage.getItem("cartera"),s=localStorage.getItem("cliente"),o=localStorage.getItem("clienteV");o&&m(JSON.parse(o)),a&&j(JSON.parse(a)),i&&g(JSON.parse(i)),e&&_(JSON.parse(e)),s&&A(JSON.parse(s)),l&&h(JSON.parse(l)),t&&c(JSON.parse(t))},[]);let I=(0,i.useMemo)(()=>({auth:u,cliente:f,setCliente:A,pedido:x,setPedido:h,caja:d,setCaja:c,clienteV:p,setClienteV:m,pedidosV:C,setPedidosV:j,carteraV:O,setCarteraV:g,loading:n,login:S,logout:E}),[u,f,x,d,p,C,O,S,E]);return(0,a.jsx)(r.Provider,{value:I,children:t})},d=()=>(0,i.useContext)(r)}},e=>{var t=t=>e(e.s=t);e.O(0,[339,8320,3930,6058,5854,994,5975,1260,6403,152,8173,2670,7493,6675,4205,6899,914,1229,8256,136,8441,1517,7358],()=>t(21678)),_N_E=e.O()}]);
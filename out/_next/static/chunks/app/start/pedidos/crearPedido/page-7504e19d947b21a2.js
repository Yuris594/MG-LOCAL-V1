(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5353],{83686:()=>{},32383:()=>{},31196:(e,t,a)=>{Promise.resolve().then(a.bind(a,30379))},450:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(12983),l=a(95155);let o=(0,r.A)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86898:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(1297),l=a(26366);let o=(0,r.unstable_createUseMediaQuery)({themeId:l.A})},1297:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c,unstable_createUseMediaQuery:()=>d});var r,l=a(12115),o=a(94969),i=a(92326),n=a(11077);let s={...r||(r=a.t(l,2))}.useSyncExternalStore;function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{themeId:t}=e;return function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,n.default)();r&&t&&(r=r[t]||r);let d="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:c=!1,matchMedia:u=d?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:x=!1}=(0,i.A)({name:"MuiUseMediaQuery",props:a,theme:r}),m="function"==typeof e?e(r):e;return(void 0!==s?function(e,t,a,r,o){let i=l.useCallback(()=>t,[t]),n=l.useMemo(()=>{if(o&&a)return()=>a(e).matches;if(null!==r){let{matches:t}=r(e);return()=>t}return i},[i,e,r,o,a]),[d,c]=l.useMemo(()=>{if(null===a)return[i,()=>()=>{}];let t=a(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]},[i,a,e]);return s(c,d,n)}:function(e,t,a,r,i){let[n,s]=l.useState(()=>i&&a?a(e).matches:r?r(e).matches:t);return(0,o.default)(()=>{if(!a)return;let t=a(e),r=()=>{s(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[e,a]),n})(m=m.replace(/^@media( ?)/m,""),c,u,h,x)}}let c=d()},30379:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>G});var r=a(95155),l=a(48173),o=a.n(l),i=a(78897),n=a.n(i),s=a(39241),d=a(76046),c=a(12983);let u=(0,c.A)((0,r.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}),"Map");var h=a(8889),x=a(70689),m=a(79545),f=a(6748);let p=(0,c.A)((0,r.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),C=(0,c.A)((0,r.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone");var E=a(65068),g=a(450);let A=(0,c.A)((0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),v=(0,c.A)((0,r.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business");var j=a(12115),I=a(2295),O=a(7660);let S=e=>{let{onImportData:t}=e,[a,l]=(0,j.useState)("Subir Archivo"),[o,i]=(0,j.useState)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"upload-file",children:(0,r.jsx)(I.default,{variant:"outlined",color:"success",component:"span",children:a})}),(0,r.jsx)("input",{type:"file",id:"upload-file",accept:".xlsx, .xls",style:{display:"none"},onChange:e=>{let a=e.target.files[0];if(a){l(a.name);let e=new FileReader;e.onload=e=>{try{let a=e.target.result,r=O.LF(a,{type:"binary"}),l=r.SheetNames[0],o=r.Sheets[l],s=O.Wp.sheet_to_json(o);s.length?(i(s),t(s)):(console.error("El archivo Excel est\xe1 vac\xedo."),n().fire({icon:"info",title:"El archivo est\xe1 vac\xedo.",text:"Por favor, sube un archivo v\xe1lido."}))}catch(e){console.error("Error al procesar el archivo:",e),n().fire({icon:"error",title:"Error al procesar el archivo.",text:"Por favor, verifica que el formato sea correcto."})}},e.readAsBinaryString(a)}}}),o&&(0,r.jsx)(I.default,{variant:"text",color:"error",onClick:()=>{l("Subir Archivo"),i(null),t([])},style:{marginLeft:"1rem"},children:"Remover Archivo"})]})},b=(0,c.A)((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),y=(0,c.A)([(0,r.jsx)("circle",{cx:"12",cy:"4",r:"2"},"0"),(0,r.jsx)("path",{d:"M15.89 8.11C15.5 7.72 14.83 7 13.53 7h-2.54C8.24 6.99 6 4.75 6 2H4c0 3.16 2.11 5.84 5 6.71V22h2v-6h2v6h2V10.05L18.95 14l1.41-1.41z"},"1")],"EmojiPeople");var R=a(58896),w=a(48803),N=a(21831),T=a(71014),P=a(86898),L=a(70152),D=a(75436),F=a(78562),M=a(9561),U=a(62347),_=a(23613),z=a(4918),V=a(41983),k=a(79283),B=a(60391);let H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",maxWidth:"80vw",overflowY:"auto",overflowX:"hidden",padding:"16px",bgcolor:"#fff",border:"2px solid #000",boxShadow:24},G=()=>{let e=(0,j.useRef)(),t=(0,d.useRouter)(),{cliente:a}=(0,x.A)(),[l,i]=(0,j.useState)(""),[c,O]=(0,j.useState)("0"),[G,X]=(0,j.useState)(!1),[Q,J]=(0,j.useState)(!1),[K,W]=(0,j.useState)(!1),[Z,$]=(0,j.useState)(""),[q,Y]=(0,j.useState)("0"),[ee,et]=(0,j.useState)([]),[ea,er]=(0,j.useState)([]),[el,eo]=(0,j.useState)(""),[ei,en]=(0,j.useState)([]),[es,ed]=(0,j.useState)([]),[ec,eu]=(0,j.useState)({}),[eh,ex]=(0,j.useState)(null),[em,ef]=(0,j.useState)("CREADO POR"),[ep,eC]=(0,j.useState)((null==a?void 0:a[0])||{}),[eE,eg]=(0,j.useState)([]),eA=(0,P.A)("(max-width: 600px)"),ev=()=>J(!1),ej=()=>W(!1);(0,j.useEffect)(()=>{(null==a?void 0:a[0])&&eC(a[0])},[a]);let eI=async e=>{if(0===e.length){eg([]),eP([]);return}let t=e.map(e=>{let t=parseFloat(e.PRECIO)||0,a=parseFloat(e.CANT)||0,r=parseFloat(e.IVA)||0,l=parseFloat(e.DESC)||0;return{ARTICULO:e.CODIGO,PRECIO:t,cantped:a,PORC_IMPUESTO:r,PORC_DCTO:l,DESCRIPCION:e.REFERENCIA||"",SUBLINEA:e.SUBLINEA||"",UNIDAD_EMPAQUE:e.EMP||"",PRECIOMASIVA:e.MASIVA||0,TOTAL_DISP:e.DISP||0,EXIST_REAL:e.EXIST_REAL||0,Total:t*a+t*a*r/100-t*a*l/100}});eg(e=>[...e,...t]),eP(t)},eO={"PEDIDO LOCAL":"61","TELEMERCADEO 1":"301","TELEMERCADEO 2":"300","PUNTO NARANJA I.":"AA","PUNTO NARANJA E.":"EE"};(0,j.useEffect)(()=>{(async()=>{try{let e=await fetch(h.m.url+"/consecutivo/list",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();er(t)}catch(e){console.error("Error al obtener los datos de CodVen:",e)}})()},[]);let eS=e=>{let t=eO[e];if(t){let a=ea.find(e=>e.Codven===t);a?(ef(e),ex({CodVen:a.Codven,Prefijo:a.Prefijo,Consecutivo:a.Consecutivo})):console.warn("No se encontraron datos para CodVen: ".concat(t))}ej()},eb=[{field:"ARTICULO",headerName:"CODIGO",width:100},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500},{field:"SUBLINEA",headerName:"SUBLINEA",width:250},{field:"UNIDAD_EMPAQUE",headerName:"EMP",width:80},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},editable:!0,type:"number"},{field:"cantped",headerName:"CANT",width:100,editable:!0,editable:!0,type:"number"},{field:"PORC_IMPUESTO",headerName:"IVA",width:70,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},editable:!0,type:"number"},{field:"PORC_DCTO",headerName:"DESC",width:70,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},editable:!0,type:"number"},{field:"PRECIOMASIVA",headerName:"MASIVA",width:100,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"TOTAL_DISP",headerName:"DISP",width:70,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"EXIST_REAL",headerName:"EXIST_REAL",width:110,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"actions",type:"actions",headerName:"",width:100,cellClassName:"actions",getActions:e=>{var t;let{id:a}=e;return(null===(t=ec[a])||void 0===t?void 0:t.mode)===w.V_.Edit?[(0,r.jsx)(N.Z,{icon:(0,r.jsx)(f.A,{}),label:"Save",sx:{color:"primary.main"},onClick:eR(a)}),(0,r.jsx)(N.Z,{icon:(0,r.jsx)(A,{}),label:"Cancel",className:"textPrimary",onClick:eN(a),color:"inherit"})]:[(0,r.jsx)(N.Z,{icon:(0,r.jsx)(m.A,{}),label:"Edit",className:"textPrimary",onClick:ey(a),color:"inherit"}),(0,r.jsx)(N.Z,{icon:(0,r.jsx)(g.A,{}),label:"Delete",className:"textPrimary",onClick:ew(a),color:"inherit"})]}}],ey=e=>()=>{eu({...ec,[e]:{mode:w.V_.Edit}})},eR=e=>()=>{eu({...ec,[e]:{mode:w.V_.View}})},ew=e=>()=>{eg(t=>{let a=t.filter(t=>t.ARTICULO!==e);return eP(a),a})},eN=e=>()=>{eu({...ec,[e]:{mode:w.V_.View,ignoreModifications:!0}}),ee.find(t=>t.ARTICULO===e).isNew&&et(ee.filter(t=>t.ARTICULO!==e))},eT=e=>{let t=[...eE,...e.map(e=>{let t=e.PRECIO*(1+e.PORC_IMPUESTO/100),a=parseFloat(e.cantped),r=parseFloat(e.PORC_DCTO)/100;return{...e,Total:(t*a*(1-r)).toFixed(0)}})];eg(t),eP(t)},eP=e=>{let t=0,a=0;e.forEach(e=>{let r=parseFloat(e.PRECIO),l=parseFloat(e.cantped),o=parseFloat(e.PORC_DCTO)/100,i=parseFloat(e.PORC_IMPUESTO)/100,n=r*l;t+=n,a+=n*(1-o)*(1+i)});let r=Number(t.toFixed(0)).toLocaleString();O(Number(a.toFixed(0)).toLocaleString()),Y(r)};(0,j.useEffect)(()=>{(async()=>{try{let e=await fetch(h.c.url+"/productos/listar_solo_para_mg",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&(et(t),ed(t))}catch(e){console.log(e)}})()},[]);let eL=e=>{let t=e.toLowerCase();et(Array.isArray(es)?es.filter(e=>Object.values(e).map(e=>e?e.toString().toLowerCase():"").some(e=>e.includes(t))):[])},eD=(0,j.useCallback)(e=>{en(e),e.length>0&&ed(es.filter(t=>{let a=t.ARTICULO;return!!a&&a.toString().includes(e[0])})[0])},[ee]),eF=(e,t)=>{eo({...el,[e]:t})},eM=[{field:"ARTICULO",headerName:"CODIGO",width:130},{field:"DESCRIPCION",headerName:"REFERENCIA",width:500},{field:"UNIDAD_EMPAQUE",headerName:"EMP",width:80},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())}},{field:"CANTIDAD",headerName:"CANT",width:80,renderCell:e=>(0,r.jsx)(L.A,{value:el[e.id]||"",onChange:t=>{let a=t.target.value;/^\d*$/.test(a)&&eF(e.id,a)},sx:{width:"70px"},variant:"outlined",size:"small",type:"text",inputProps:{inputMode:"numeric"}})},{field:"PORC_IMPUESTO",headerName:"IVA",width:40},{field:"PORC_DCTO",headerName:"D1",width:40},{field:"PRECIOMASIVA",headerName:"MASIVA",width:100,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())}},{field:"TOTAL_DISP",headerName:"DISP",width:70,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())}},{field:"EXIST_REAL",headerName:"EXIST-REAL",width:90,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())}}],eU=async()=>{try{let e=await fetch(h.m.url+"/pedidos/".concat(eh.CodVen),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error al obtener el consecutivo: ".concat(e.status," ").concat(e.statusText));return(await e.json())[0]}catch(e){throw console.error("Error al obtener el consecutivo:",e),e}},e_=async()=>{if(!(await n().fire({title:"Almacenar!",text:"\xbfDesea almacenar el Pedido?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"})).isConfirmed){n().fire({text:"El Pedido no se almacen\xf3.",icon:"info",timer:3e3});return}try{let e=await eU(),a=e.consecutivo+1,r="".concat(e.Prefijo).concat(a),o=await fetch(h.m.url+"/pedidos/PEDIDOS/".concat(eh.CodVen),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Consecutivo:a})});if(o.ok)console.log("Consecutivo actualizado correctamente");else throw console.log("Error al actualizar el consecutivo:",o.statusText),Error("Error al actualizar el consecutivo");let i={FKID_sellers:ep.VENDEDOR,Notas:l,FKId_clientes:ep.CLIENTE,NUMPED:r},s=await fetch(h.m.url+"/pedidos/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok){let e=await s.json();throw console.error("Error al crear el pedido",e),Error("Error al crear el encabezado del pedido")}console.log("Pedido creado correctamente");let d=(parseInt(localStorage.getItem("ultimoPedido"),10)||0)+1,c=eE.map(e=>({FKid_pedidos2:d,FKcodigo_articles:e.ARTICULO,Cantidad:e.cantped,Precio:e.PRECIO,Descuento:e.PORC_DCTO,Iva:e.PORC_IMPUESTO,Total:e.Total,FKNUMPED:r,BODEGA:"1"}));for(let e of c){let t=await fetch(h.m.url+"/pedidos/".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log(c),!t.ok){let e=await t.json();throw console.error("Error al crear el detalle del pedido:",e),Error("Error al crear el detalle del pedido: ".concat(t.status," - ").concat(t.statusText))}}console.log("Detalle del pedido creado correctamente"),localStorage.setItem("ultimoPedido",d),n().fire({title:"\xa1\xc9xito!",text:"Pedido Fue Almacenado Correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),t.push("../")}catch(e){console.error("Error:",e.message),console.error("Detalles del error:",e),n().fire({title:"Oops...!",text:"Hubo un problema al enviar el pedido.",icon:"error"})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.A,{}),(0,r.jsxs)(D.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)(D.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:3},children:(0,r.jsx)("h3",{children:"CREACI\xd3N DE PEDIDOS"})}),(0,r.jsxs)(D.default,{sx:{padding:2},children:[(0,r.jsx)(I.default,{onClick:()=>X(!0),variant:"filled",sx:{bgcolor:"#ec57cc","&:hover":{bgcolor:"#ec1edb "}},children:"Clientes"}),(0,r.jsx)(I.default,{onClick:()=>J(!0),variant:"filled",sx:{bgcolor:"#6cd3ec","&:hover":{bgcolor:"#36c7e7"},m:2},children:"Productos-MG"}),(0,r.jsx)(I.default,{onClick:()=>W(!0),variant:"contained",sx:{bgcolor:"#a449ee","&:hover":{bgcolor:"#992be2"},mr:2},children:em}),(0,r.jsx)(S,{onImportData:eI}),(0,r.jsx)(I.default,{onClick:e_,variant:"filled",sx:{bgcolor:"#5de46f","&:hover":{bgcolor:"#3ae92a"},m:2},children:"Enviar Pedido"}),(0,r.jsx)(I.default,{variant:"filled",sx:{bgcolor:"#f13c3c","&:hover":{bgcolor:"#ec1c27"}},LinkComponent:o(),href:"../../clients/",children:"Cerrar"})]})]}),(0,r.jsx)(D.default,{children:(0,r.jsxs)(F.A,{elevation:3,sx:{padding:3,margin:"0 auto",marginTop:3,maxWidth:1100,width:"100%"},children:[(0,r.jsxs)(s.A,{container:!0,spacing:2,children:[(0,r.jsx)(s.A,{size:{xs:12},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)("strong",{children:"NOMBRE:"}),(0,r.jsx)(M.default,{variant:"body1",sx:{marginLeft:1},children:null==ep?void 0:ep.NOMBREALIAS})]})}),(0,r.jsx)(s.A,{size:{xs:12,sm:4},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)("strong",{children:"NIT: "}),(0,r.jsx)(M.default,{variant:"body1",sx:{marginLeft:1},children:null==ep?void 0:ep.CLIENTE})]})}),(0,r.jsx)(s.A,{size:{xs:12,sm:4},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)(C,{color:"primary",sx:{marginRight:1}}),(0,r.jsx)(M.default,{variant:"body1",children:null==ep?void 0:ep.TELEFONO1})]})}),(0,r.jsx)(s.A,{size:{xs:12,sm:4},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)(b,{color:"primary",sx:{marginRight:1}}),(0,r.jsx)(M.default,{variant:"body1",children:null==ep?void 0:ep.DIRECCION})]})}),(0,r.jsx)(s.A,{size:{xs:12,sm:4},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)(v,{color:"primary",sx:{marginRight:1}}),(0,r.jsx)(M.default,{variant:"body1",children:null==ep?void 0:ep.CIUDAD})]})}),(0,r.jsx)(s.A,{size:{xs:12,sm:4},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)(u,{color:"primary",sx:{marginRight:1}}),(0,r.jsx)(M.default,{variant:"body1",children:null==ep?void 0:ep.DEPARTAMENTO})]})}),(0,r.jsx)(s.A,{size:{xs:12,sm:4},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)(y,{color:"primary",sx:{marginRight:1}}),(0,r.jsx)(M.default,{variant:"body1",children:null==ep?void 0:ep.VENDEDOR})]})}),(0,r.jsx)(s.A,{size:{xs:12,sm:8},children:(0,r.jsxs)(D.default,{display:"flex",alignItems:"center",children:[(0,r.jsx)(p,{color:"primary",sx:{marginRight:1}}),(0,r.jsx)(M.default,{variant:"body1",children:null==ep?void 0:ep.E_MAIL})]})})]}),(0,r.jsx)(L.A,{id:"outlined-basic",multiline:!0,rows:3,value:l,onChange:e=>i(e.target.value),variant:"outlined",sx:{width:"100%",border:"2px solid #13e95a",marginTop:2}})]})}),(0,r.jsx)(D.default,{sx:{width:"97%",height:"auto",margin:2},children:(0,r.jsx)(T.z,{rows:eE,columns:eb,getRowId:e=>e.ARTICULO,initialState:{pagination:{paginationModel:{pageSize:10}}},rowModesModel:ec,pageSizeOptions:[5,10,15],onRowEditStop:(e,t)=>{e.reason===GridRowEditStopReasons.rowFocusOut&&(t.defaultMuiPrevented=!0)},processRowUpdate:e=>{let t=eE.findIndex(t=>t.ARTICULO===e.ARTICULO);if(-1===t)return console.error("ARTICULO NO ENCONTRADO"),e;let a={...e,isNew:!1},r=[...eE];return r[t]=a,eg(r),eP(r),a},onRowModesModelChange:e=>{eu(e)},slotProps:{toolbar:{setArticulosSeleccionados:eg,setRowModesModel:eu}}})}),(0,r.jsx)(F.A,{elevation:3,sx:{padding:3,margin:3,marginTop:3},children:(0,r.jsx)(D.default,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,r.jsxs)(U.A,{variant:"text","aria-label":"text button group",sx:{height:60},children:[(0,r.jsxs)(I.default,{sx:{flexDirection:"column"},children:[(0,r.jsxs)(M.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",q," "]}),(0,r.jsxs)("strong",{children:[" ","SUB-TOTAL"," "]})]}),(0,r.jsxs)(I.default,{sx:{flexDirection:"column"},children:[(0,r.jsxs)(M.default,{sx:{display:"flex",fontSize:14,paddingRight:5},gutterBottom:!0,children:[" ","$",c," "]}),(0,r.jsxs)("strong",{children:[" ","TOTAL"," "]})]})]})})}),(0,r.jsx)(_.A,{open:K,onClose:ej,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsx)(D.default,{sx:H,children:(0,r.jsxs)(D.default,{sx:{margin:2},children:[(0,r.jsx)("h3",{children:"SELECCIONAR VENDEDOR"}),(0,r.jsx)(z.A,{children:Object.keys(eO).map(e=>(0,r.jsxs)(V.Ay,{button:"true",onClick:()=>eS(e),children:[(0,r.jsx)(k.A,{checked:em===e,sx:{color:"green","&.Mui-checked":{color:"pink"}}}),(0,r.jsx)(B.A,{primary:e})]},e))})]})})}),(0,r.jsx)(_.A,{open:Q,onClose:ev,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsx)(D.default,{sx:H,children:(0,r.jsxs)(D.default,{sx:{padding:2,display:"flex",flexDirection:"column",gap:2},children:[(0,r.jsxs)(D.default,{sx:{display:"flex",flexDirection:eA?"column":"row",justifyContent:"space-between",alignItems:"center",gap:2},children:[(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"PRODUCTOS"})}),(0,r.jsxs)(D.default,{display:"flex",gap:1,children:[(0,r.jsx)(I.default,{variant:"contained",color:"success",onClick:()=>{eT(ee.filter(e=>el[e.ARTICULO]).map(e=>({...e,cantped:el[e.ARTICULO]}))),ev()},children:"Agregar"}),(0,r.jsx)(I.default,{variant:"contained",color:"error",onClick:ev,children:"Cerrar"})]})]}),(0,r.jsx)(D.default,{sx:{display:"flex",flexDirection:eA?"column":"row",gap:2,alignItems:"center"},children:(0,r.jsx)(L.A,{id:"outlined-basic",placeholder:"Buscar Producto",value:Z,onChange:e=>{e.preventDefault(),$(e.target.value),eL(e.target.value)},inputRef:e,sx:{width:"100%"}})}),(0,r.jsx)(D.default,{sx:{width:"100%",height:480},children:(0,r.jsx)(T.z,{density:"compact",rows:ee,columns:eM,getRowId:e=>e.ARTICULO,pageSize:10,rowSelectionModel:ei,processRowUpdate:e=>{let t=ee.map(t=>t.ARTICULO===e.ARTICULO?{...t,...e}:t);return et(t),ed(t),e},onRowSelectionModelChange:eD,sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})})]})})}),(0,r.jsx)(_.A,{open:G,onClose:()=>X(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsx)(D.default,{sx:H,children:(0,r.jsx)(R.default,{setOpen:X,seleccionarCliente:e=>{eC(e),a[0]=e}})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[339,8320,3524,9754,1083,1260,6403,152,3685,2670,7493,1669,1014,3975,2520,8441,1517,7358],()=>t(31196)),_N_E=e.O()}]);
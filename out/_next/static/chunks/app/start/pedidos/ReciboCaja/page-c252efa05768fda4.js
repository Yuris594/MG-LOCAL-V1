(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3274],{81502:(e,t,l)=>{Promise.resolve().then(l.bind(l,82925))},82925:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>w});var o=l(95155),i=l(75436),a=l(78562),n=l(9561),s=l(2241),r=l(2295),_=l(894),c=l(6403),d=l(64665),x=l(42479),u=l(72251),m=l(78205),p=l(71118),f=l(70689),h=l(48173),g=l.n(h),j=l(41517),b=l.n(j),S=l(89100),C=l(12115),y=l(10142);l(92340);let v=function(e,t,l){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},[i,a]=(0,C.useState)(null),n=(0,S.GP)(new Date,"dd/MM/yyyy HH:mm:ss");return{generarPDF:()=>{let i=new y.default,a=[{field:"DESCRIPCION",headerName:"DESCRIPCI\xd3N",width:500},{field:"PRECIO",headerName:"PRECIO",width:200}],s=e.filter(e=>e.DESCRIPCION&&e.PRECIO).map(e=>a.map(t=>{let l=e[t.field];return"PRECIO"===t.field&&(l=parseFloat(Number(l).toFixed(0)).toLocaleString()),l}));i.setFontSize(10),i.setFont("times","italic"),i.text("Miguel Gomez & Cia",10,10),i.text("Tel: 777777",10,15),i.text("Email: miguelgomez&cia@hotmail.com",10,20),i.text("Website: https://www.miguelgomez.com.co",10,25),i.text("-----------------------------------------------------------------------------------------------------------------------------------------------------------------",10,30),i.setFontSize(8),i.setFont("times","italic"),i.text("Servicio: ".concat(l.PER_Nom||"Desconocido"),160,20),i.autoTable({head:[a.map(e=>e.headerName)],body:s,styles:{theme:"plain",tableWidth:"auto",lineColor:[200,200,200],lineWight:.1,font:"times",fontStyle:"normal",textColor:[0,0,0],display:"flex",cellWidth:"auto",fontSize:8},startY:40,theme:"plain",columnStyles:{cellWidth:"auto"}}),function(){if(i.setFontSize(10),i.text("TOTAL: $".concat(o.total),12,i.autoTable.previous.finalY+20),t.length>0){let e=Object.entries(t[0]).map(e=>{let[t,l]=e;return"".concat(t,": ").concat(l)}).join(", ");i.text("M\xc9TODO DE PAGO: ".concat(e),12,i.autoTable.previous.finalY+30)}else i.text("M\xc9TODO DE PAGO: No especificado",12,i.autoTable.previous.finalY+45);i.text("CAMBIO: $".concat(o.cambio),12,i.autoTable.previous.finalY+40),i.setFontSize(8),i.text("_________________________________________________________________________________________________________________________________________________________________",12,i.autoTable.previous.finalY+55),i.text("".concat(n),12,i.autoTable.previous.finalY+65)}(),i.output("dataurlnewwindow")},pdfDataUrl:i}},I=(0,o.jsx)(i.default,{component:"span",sx:{display:"inline-block",mx:"2px",transform:"scale(0.8)"},children:"â€¢"}),w=()=>{let{caja:e,auth:t}=(0,f.A)(),l=e?Object.values(e):[],h=e&&e.tipoPago?Object.values(e.tipoPago):[],{generarPDF:j}=v(l,h,t,e);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"10px",boxShadow:"0px 4px 12px rgba(0,0,0,0.1)"},children:(0,o.jsxs)(a.A,{className:"container",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",overflow:"auto"},children:[(0,o.jsxs)(n.default,{variant:"body1",textAlign:"center",margin:"20px 0",sx:{fontSize:50,marginBottom:"15px"},color:"#00796b",gutterBottom:!0,children:["Valor a Cancelar: $ ",e.total]}),(0,o.jsx)(s.A,{sx:{fonSize:30},orientation:"horizontal"}),(0,o.jsxs)(i.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsxs)(i.default,{sx:{with:"50%",margin:5},children:[(0,o.jsx)("h3",{style:{fontSize:40,margin:0,marginBottom:6,padding:0},children:"\xbfComo le gustaria recibir su recibo?"}),(0,o.jsx)(r.default,{variant:"outlined",color:"primary",sx:{width:550,marginBottom:5,backgroundColor:"#00796b",color:"#fff"},onClick:j,children:"Imprimir Recibo"}),(0,o.jsxs)(a.A,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:550,height:100},children:[(0,o.jsx)(_.A,{sx:{p:"10px"},"aria-label":"menu",children:(0,o.jsx)(p.A,{})}),(0,o.jsx)(c.Ay,{sx:{ml:1,flex:1},inputProps:{"aria-label":"search google maps"}}),(0,o.jsx)(_.A,{type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,o.jsx)(m.A,{})}),(0,o.jsx)(s.A,{sx:{height:28,m:.5},orientation:"vertical"}),(0,o.jsx)(_.A,{color:"primary",sx:{p:"10px"},"aria-label":"directions",children:(0,o.jsx)(u.A,{})})]})]}),(0,o.jsx)(i.default,{sx:{width:"50%",bord:20},children:(0,o.jsxs)(d.A,{sx:{width:"100%",height:"100%"},children:[(0,o.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",paddingBotton:0},children:(0,o.jsxs)(n.default,{className:b().className,sx:{fontSize:17,flexDirection:"column"},color:"text.secondary",gutterBottom:!0,children:["...........Miguel G\xf3mez & Cia.................",(0,o.jsx)("br",{}),"...................Tel:777777.................",(0,o.jsx)("br",{}),"........Miguelgomoz&cia@hotmail.com...........",(0,o.jsx)("br",{}),"........https://www.miguelgomez.com.co/.......",(0,o.jsx)("br",{}),"----------------------------------------------",(0,o.jsx)("br",{}),"........ Servicio -  ",null==t?void 0:t.PER_Nom,"......."]})}),(0,o.jsx)(x.A,{children:l.map((e,t)=>(0,o.jsxs)(n.default,{component:"div",sx:{display:"flex",justifyContent:"space-between",paddingTop:0},children:[(0,o.jsx)("span",{children:e.DESCRIPCION}),(0,o.jsx)("span",{children:e.PRECIO})]},t))}),(0,o.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between",paddingTop:0},children:(0,o.jsxs)("h3",{children:["-------------------------",(0,o.jsx)("br",{}),"Total ",I," ",e.total]})}),(0,o.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",paddingTop:0},children:h.map((e,t)=>(0,o.jsx)(n.default,{component:"div",sx:{display:"flex",flexDirection:"column"},children:Object.entries(e).map((e,t)=>{let[l,i]=e;return 0!==i?(0,o.jsxs)("span",{children:[" ",l,": ",i.toString()]},t):null})},t))}),(0,o.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between",paddingTop:0},children:(0,o.jsxs)("h3",{children:["-------------------------",(0,o.jsx)("br",{}),"Cambio ",I," ",e.cambio]})})]})})]}),(0,o.jsx)(i.default,{sx:{width:"100%",padding:0,margin:0,paddingTop:12},children:(0,o.jsx)(r.default,{component:g(),href:"../../pedidos/pedidosCaja",variant:"outlined",sx:{width:"100%",height:300,padding:0,margin:0,backgroundColor:"#00796b",color:"white"},onClick:()=>{localStorage.removeItem("pago"),localStorage.removeItem("pedidoTempG"),localStorage.removeItem("clientTemp"),localStorage.removeItem("pedidoTemp")},children:"Nuevo Pedido"})})]})})})}},70689:(e,t,l)=>{"use strict";l.d(t,{A:()=>_,AuthProvider:()=>r});var o=l(95155),i=l(12115),a=l(76046),n=l(89208);let s=(0,i.createContext)({login:e=>{},logout:()=>{}}),r=e=>{let{children:t}=e,l=(0,a.useRouter)(),[r]=(0,i.useState)(!0),[_,c]=(0,i.useState)(null),[d,x]=(0,i.useState)({}),[u,m]=(0,i.useState)({}),[p,f]=(0,i.useState)({}),h=(0,i.useCallback)(function(e){n.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),c(e)},[]),g=(0,i.useCallback)(function(){l.push("/"),n.A.remove("authTokens"),localStorage.removeItem("auth"),c(null)},[]);(0,i.useEffect)(()=>{let e=localStorage.getItem("auth")||n.A.get("authTokens"),t=localStorage.getItem("pedido"),l=localStorage.getItem("caja"),o=localStorage.getItem("cliente");o&&x(JSON.parse(o)),t&&m(JSON.parse(t)),l&&f(JSON.parse(l)),e&&c(JSON.parse(e))},[]);let j=(0,i.useMemo)(()=>({auth:_,cliente:d,setCliente:x,pedido:u,setPedido:m,caja:p,setCaja:f,loading:r,login:h,logout:g}),[_,d,u,p,h,g]);return(0,o.jsx)(s.Provider,{value:j,children:t})},_=()=>(0,i.useContext)(s)}},e=>{var t=t=>e(e.s=t);e.O(0,[4712,3930,6058,5854,994,6403,8173,1229,442,8441,1517,7358],()=>t(81502)),_N_E=e.O()}]);
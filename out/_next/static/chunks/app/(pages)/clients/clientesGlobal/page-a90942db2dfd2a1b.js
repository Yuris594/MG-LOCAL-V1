(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8025],{87023:function(e,t,n){Promise.resolve().then(n.bind(n,5152))},77699:function(e,t,n){"use strict";var r=n(23963);t.Z=void 0;var a=r(n(19118)),o=n(57437);t.Z=(0,a.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},19118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(49013)},15656:function(e,t,n){"use strict";var r=n(2265),a=n(33822),o=n(92384),i=n(22960),u=n(95931),s=n(60909),l=n(57437);let c={entering:{transform:"none"},entered:{transform:"none"}},d=r.forwardRef(function(e,t){let n=(0,i.default)(),d={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:f,appear:p=!0,children:h,easing:m,in:g,onEnter:E,onEntered:x,onEntering:C,onExit:N,onExited:S,onExiting:v,style:w,timeout:O=d,TransitionComponent:b=a.ZP,...Z}=e,I=r.useRef(null),y=(0,s.Z)(I,(0,o.Z)(h),t),j=e=>t=>{if(e){let n=I.current;void 0===t?e(n):e(n,t)}},L=j(C),T=j((e,t)=>{(0,u.n)(e);let r=(0,u.C)({style:w,timeout:O,easing:m},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",r),e.style.transition=n.transitions.create("transform",r),E&&E(e,t)}),R=j(x),_=j(v),M=j(e=>{let t=(0,u.C)({style:w,timeout:O,easing:m},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),N&&N(e)}),D=j(S);return(0,l.jsx)(b,{appear:p,in:g,nodeRef:I,onEnter:T,onEntered:R,onEntering:L,onExit:M,onExited:D,onExiting:_,addEndListener:e=>{f&&f(I.current,e)},timeout:O,...Z,children:(e,t)=>r.cloneElement(h,{style:{transform:"scale(0)",visibility:"exited"!==e||g?void 0:"hidden",...c[e],...w,...h.props.style},ref:y,...t})})});t.Z=d},49013:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return a.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return i.Z},debounce:function(){return u.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return p},setRef:function(){return h},unstable_ClassNameGenerator:function(){return S},unstable_memoTheme:function(){return c.Z},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return E},useControlled:function(){return x.Z},useEventCallback:function(){return C.Z},useForkRef:function(){return N.Z}});var r=n(89424),a=n(12272),o=n(11897).Z,i=n(59018),u=n(70576),s=function(e,t){return()=>null},l=n(19783),c=n(339),d=n(8754),f=n(88095),p=function(e,t){return()=>null},h=n(49969).Z,m=n(48632),g=n(88256),E=function(e,t,n,r,a){return null},x=n(75115),C=n(26182),N=n(60909);let S={configure:e=>{r.Z.configure(e)}}},88256:function(e,t,n){"use strict";var r=n(80292);t.Z=r.default},5152:function(e,t,n){"use strict";n.r(t);var r=n(57437),a=n(2265),o=n(77699),i=n(60335),u=n(83719),s=n(74275),l=n(85800),c=n(52610),d=n(60091),f=n(28027),p=n(15656),h=n(31193);let m=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],g=async()=>(await fetch("/api/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}})).json();t.default=e=>{let{setOpen:t}=e,{setCliente:n}=(0,l.a)(),[E,x]=(0,a.useState)(),[C,N]=(0,a.useState)(""),[S,v]=(0,a.useState)(!1),[w,O]=(0,a.useState)([]),[b,Z]=(0,a.useState)([]);(0,a.useEffect)(()=>{I()},[]);let I=async()=>{let e=await g();try{e&&(x(e),O(e)),setTimeout(()=>{v(!0)},100)}catch(e){console.log("Error al obtener los datos",e)}},y=(0,a.useMemo)(()=>I,[]);(0,a.useEffect)(()=>{y()},[y]);let j=e=>{x(w.filter(t=>{let n=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),r=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),a=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==n?void 0:n.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))||(null==a?void 0:a.includes(e.toLowerCase()))?t:null}))},L=(0,a.useCallback)(e=>{if(Z(e),e.length>0){let r=w.filter(t=>{let n=t.CLIENTE;return!!n&&n.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(r)),n(r[0]),t(!1)}},[E]);return setTimeout(()=>{v(!0)},100),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{height:"auto",width:"100%",backgroundColor:"#ffffff"},children:[(0,r.jsx)(u.default,{variant:"h",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"auto",margin:0,color:"#000000"},children:"CLIENTES"}),(0,r.jsxs)(h.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,r.jsx)(d.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"}),(0,r.jsxs)(f.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:650,margin:"0%"},children:[(0,r.jsx)(s.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar",inputProps:{"aria-label":"search google maps"},autoComplete:"usuario",autoFocus:!0,value:C,onChange:e=>{e.preventDefault(),N(e.target.value),j(e.target.value)}}),(0,r.jsx)(i.Z,{title:"buscar",type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,r.jsx)(o.Z,{})})]})]}),(0,r.jsx)(p.Z,{in:S,children:(0,r.jsx)(h.default,{sx:{height:640,width:"100%","& .super-app-theme--header":{backgroundColor:"#181717",color:"#fff"}},children:(0,r.jsx)(c._,{rows:E,columns:m,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[5,10],onRowSelectionModelChange:L,rowSelectionModel:b,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"}})})})]})})}},85800:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return i},a:function(){return u}});var r=n(57437),a=n(2265);let o=(0,a.createContext)(),i=e=>{let{children:t}=e,[n,i]=(0,a.useState)(null),[u,s]=(0,a.useState)({}),[l,c]=(0,a.useState)({}),[d,f]=(0,a.useState)({}),[p,h]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=localStorage.getItem("datos"),t=localStorage.getItem("clientTemp"),n=localStorage.getItem("pedidoTemp"),r=localStorage.getItem("caja");e&&i(JSON.parse(e)),t&&s(JSON.parse(t)),n&&c(JSON.parse(n)),r&&f(JSON.parse(r))},[]),(0,r.jsx)(o.Provider,{value:{auth:n,cliente:u,setCliente:s,pedido:l,setPedido:c,caja:d,setCaja:f,loading:p,login:e=>{i(e)},logout:()=>{i(null)}},children:t})},u=()=>(0,a.useContext)(o)},23963:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[4797,4129,6291,4275,3983,6981,2610,2971,7023,1744],function(){return e(e.s=87023)}),_N_E=e.O()}]);
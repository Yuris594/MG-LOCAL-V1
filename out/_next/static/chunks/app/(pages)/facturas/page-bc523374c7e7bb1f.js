(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4733],{28997:function(e,t,o){Promise.resolve().then(o.bind(o,51020))},9504:function(e,t,o){"use strict";var a=o(23963);t.Z=void 0;var r=a(o(19118)),n=o(57437);t.Z=(0,r.default)((0,n.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},20124:function(e,t,o){"use strict";var a=o(2265),r=o(89211),n=o(95885),l=o(57437);let i="function"==typeof(0,r.zY)({}),s=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),c=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),u=function(e){var t,o;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};a&&e.colorSchemes&&"function"==typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(t=>{var o,a;let[n,l]=t,i=e.getColorSchemeSelector(n);i.startsWith("@")?r[i]={":root":{colorScheme:null===(o=l.palette)||void 0===o?void 0:o.mode}}:r[i.replace(/\s*&/,"")]={colorScheme:null===(a=l.palette)||void 0===a?void 0:a.mode}});let n={html:s(e,a),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...c(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...r},l=null===(o=e.components)||void 0===o?void 0:null===(t=o.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return l&&(n=[n,l]),n},d="mui-ecs",_=e=>{let t=u(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[":root:has(".concat(d,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{var a,r;let[n,l]=t,i=e.getColorSchemeSelector(n);i.startsWith("@")?o[i]={[":root:not(:has(.".concat(d,"))")]:{colorScheme:null===(a=l.palette)||void 0===a?void 0:a.mode}}:o[i.replace(/\s*&/,"")]={["&:not(:has(.".concat(d,"))")]:{colorScheme:null===(r=l.palette)||void 0===r?void 0:r.mode}}}),t},p=(0,r.zY)(i?e=>{let{theme:t,enableColorScheme:o}=e;return u(t,o)}:e=>{let{theme:t}=e;return _(t)});t.default=function(e){let{children:t,enableColorScheme:o=!1}=(0,n.i)({props:e,name:"MuiCssBaseline"});return(0,l.jsxs)(a.Fragment,{children:[i&&(0,l.jsx)(p,{enableColorScheme:o}),!i&&!o&&(0,l.jsx)("span",{className:d,style:{display:"none"}}),t]})}},60335:function(e,t,o){"use strict";o.d(t,{Z:function(){return b}});var a=o(2265),r=o(44839),n=o(76990),l=o(6031),i=o(48024),s=o(339),c=o(95885),u=o(60781),d=o(12272),_=o(72296),p=o(70587);function h(e){return(0,p.ZP)("MuiIconButton",e)}let f=(0,_.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var m=o(57437);let x=e=>{let{classes:t,disabled:o,color:a,edge:r,size:l}=e,i={root:["root",o&&"disabled","default"!==a&&"color".concat((0,d.Z)(a)),r&&"edge".concat((0,d.Z)(r)),"size".concat((0,d.Z)(l))]};return(0,n.Z)(i,h,t)},g=(0,i.default)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,"default"!==o.color&&t["color".concat((0,d.Z)(o.color))],o.edge&&t["edge".concat((0,d.Z)(o.edge))],t["size".concat((0,d.Z)(o.size))]]}})((0,s.Z)(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),(0,s.Z)(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{let[o]=e;return{props:{color:o},style:{color:(t.vars||t).palette[o].main}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{let[o]=e;return{props:{color:o,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?"rgba(".concat((t.vars||t).palette[o].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)((t.vars||t).palette[o].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(f.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}}}));var b=a.forwardRef(function(e,t){let o=(0,c.i)({props:e,name:"MuiIconButton"}),{edge:a=!1,children:n,className:l,color:i="default",disabled:s=!1,disableFocusRipple:u=!1,disableRipple:d=!1,size:_="medium",...p}=o,h={...o,edge:a,color:i,disabled:s,disableFocusRipple:u,disableRipple:d,size:_},f=x(h);return(0,m.jsx)(g,{className:(0,r.Z)(f.root,l),centerRipple:!0,focusRipple:!u,disabled:s,disableRipple:d,ref:t,...p,ownerState:h,children:n})})},51020:function(e,t,o){"use strict";o.r(t);var a=o(57437),r=o(31193),n=o(28027),l=o(83719),i=o(23983),s=o(60091),c=o(13726),u=o(2265),d=o(97501);o(27824);var _=o(76235),p=o(64379),h=o.n(p),f=o(42716);let m=()=>{h().fire({title:"Factura no existe!",icon:"error",button:"Aceptar"})},x=async e=>(await fetch("http://172.20.20.3:8001/clientes/factura_lineas/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}})).json();t.default=()=>{let{form:e,changed:t}=(0,f.c)({}),[o,p]=(0,u.useState)(null),[h,g]=(0,u.useState)([]),[b]=(0,u.useState)((0,_.WU)(new Date,"dd/MM/yyyy HH:mm:ss")),[C,v]=(0,u.useState)({}),S=async t=>{t.preventDefault();let o=e.factura,a=await x(o);try{if(a){p(a[0]);let e=["ARTICULO","CANTIDAD","DESCRIPCION","PORCIVA","PORDESC","PRECIO_UNITARIO","PRECIO_TOTAL","TOTAL_IMPUESTO1","DESC_TOT_LINEA","TOTAL_MERCADERIA"],t=a.map(t=>{let o=Object.fromEntries(Object.entries(t).filter(t=>{let[o]=t;return e.includes(o)}));return"PRECIO_TOTAL"in o&&(o.PRECIO_TOTAL=Math.floor(o.PRECIO_TOTAL)),o});g(t)}else m()}catch(e){console.error("Error al realizar la peticion;",e),m()}};(0,u.useEffect)(()=>{o&&h&&(y(),p(),g([]))},[o,h]);let y=()=>{let e=h.reduce((e,t)=>e+t.PRECIO_TOTAL,0),t=h.reduce((e,t)=>e+t.DESC_TOT_LINEA,0),a=.19*e,r={sumatotal:parseInt(e),descuento:parseInt(t),impuesto:parseInt(a),totalConImpuesto:parseInt(e+a)};v(r),console.log(r);let n=new d.default("portrait","pt","letter"),l=[{field:"ARTICULO",headerName:"Ref.",width:200},{field:"CANTIDAD",headerName:"CANT",width:200,align:"right"},{field:"CPed",headerName:"UND",width:200,type:"number",align:"right"},{field:"DESCRIPCION",headerName:"DESCRIPCI\xd3N",width:1e3},{field:"PORCIVA",headerName:"IVA",width:200,align:"right"},{field:"PORDESC",headerName:"DTO",width:200,align:"right"},{field:"PRECIO_UNITARIO",headerName:"VALOR UNI",width:200,valueFormatter:e=>{let t=Number(e.value).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"},{field:"PRECIO_TOTAL",headerName:"TOTAL",width:250,type:"number",valueFormatter:e=>{let t=Number(e.value).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],i=h.map(e=>{let t=[];return l.forEach(o=>{t.push(e[o.field])}),t});n.setFontSize(11),n.text("Nuestra direcci\xf3n y lineas de atenci\xf3n han cambiado:(4) 604 3380 - 3203509705",100,17),n.setFontSize(13),n.text("_________________________________________________________________________________",12,20),n.setFontSize(13),n.setFontSize(15),n.text("REMISI\xd3N N\xb0:   ".concat(o.FACTURA),350,45),n.setFontSize(9),n.text(" ".concat(o.FECHA_DESPACHO),500,65),n.setFontSize(11),n.text("FECHA",460,65),n.text("NIT.830.900.137-1",50,65),n.setFontSize(13),n.text("_________________________________________________________________________________",12,70),n.setFontSize(9),n.text("CLIENTE:    ".concat(o.CLIENTE),12,85),n.text("NIT/CEDULA:    ".concat(o.CreatedBy),12,98),n.text("TEL:    ".concat(o.CreatedBy),200,98),n.text("VENDEDOR:    ".concat(o.CreatedBy),350,98),n.text("MUNICIPIO:    ".concat(o.CreatedBy,"-").concat(o.CreatedBy),12,112),n.text("PEDIDO:    ".concat(o.PEDIDO),340,112),n.text("CREADO:    ".concat(o.CreatedBy),450,112),n.text("DIRECCION:    ".concat(o.CreatedBy),12,125),n.text("NOTA:   ".concat(o.OBSERVACIONES),12,139),n.autoTable({head:[l.map(e=>e.headerName)],body:i,startY:150,theme:"plain",columnStyles:{cellWidth:"auto"},styles:{theme:"plain",tableWidth:"auto",lineColor:[200,200,200],lineWidth:.1,font:"helvetica",fontStyle:"normal",textColor:[0,0,0],dispaly:"flex",fontSize:8}}),n.setFontSize(10),n.text("TOTAL ITEMS:        ".concat(h.length),350,n.autoTable.previous.finalY+20),n.text("SubTotal:     ".concat(o.TOTAL_MERCADERIA),470,n.autoTable.previous.finalY+20),n.text("Desc:           ".concat((null==C?void 0:C.descuento)||0),470,n.autoTable.previous.finalY+40),n.text("IVA:              ".concat((null==C?void 0:C.impuesto)||0),470,n.autoTable.previous.finalY+60),n.text("TOTAL:        ".concat((null==C?void 0:C.totalConImpuesto)||0),470,n.autoTable.previous.finalY+80),n.setFontSize(11),n.text("ACEPTO este documento y declaro haber recibido real y \n materialmente los articulos arriba descritos ",12,n.autoTable.previous.finalY+20),n.text("FECHA RECIBIDO_____________",280,n.autoTable.previous.finalY+72),n.text("FIRMA Y SELLO",12,n.autoTable.previous.finalY+90),n.text("HORA:____:____",280,n.autoTable.previous.finalY+86),n.text("".concat(b),12,n.autoTable.previous.finalY+106),n.rect(10,n.autoTable.previous.finalY+9,450,88),n.rect(463,n.autoTable.previous.finalY+9,120,88),n.output("dataurlnewwindow")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.default,{marginBottom:"50px",children:[" ",(0,a.jsx)(c.Z,{})," "]}),(0,a.jsx)(r.default,{className:"container",children:(0,a.jsx)(r.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"44vw"},children:(0,a.jsxs)(n.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"#eeee",padding:2},children:[(0,a.jsx)(l.default,{component:"h1",variant:"h5",children:"Digite n\xfamero de factura"}),(0,a.jsxs)(r.default,{component:"form",noValidate:!0,sx:{mt:1},children:[(0,a.jsx)(i.Z,{required:!0,fullWidth:!0,id:"factura",name:"factura",autoComplete:"factura",autoFocus:!0,value:e.factura||"",onChange:t}),(0,a.jsx)(s.default,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:S,children:"Buscar"})]})]})})})]})}},13726:function(e,t,o){"use strict";o.d(t,{Z:function(){return D}});var a=o(57437),r=o(20124),n=o(31193),l=o(71733),i=o(79806),s=o(60335),c=o(60091),u=o(83719),d=o(62501),_=o(6291),p=o(11656),h=o(66325),f=o(90922),m=o(26032),x=o(55693),g=o(42188),b=o(66299),C=o(78457),v=o(21704),S=o(66246),y=o(9504),T=o(16463),I=o(85800),O=o(2265),j=o(32184),E=o(7547),A=o(57300),R=o(86917),N=o(47905),Z=o(87138),P=e=>{let{page:t}=e;return(0,a.jsx)(n.default,{children:(0,a.jsx)(j.Z,{children:t.map(e=>(0,a.jsx)(E.ZP,{disablePadding:!0,children:(0,a.jsxs)(A.Z,{LinkComponent:Z.default,href:e.url,onClick:e.onClick,children:[(0,a.jsx)(R.Z,{children:e.icon}),(0,a.jsx)(N.Z,{children:e.title})]})},e.title))})})};let z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",alignItems:"center",justifyContext:"center",boxShadow:24,pt:2,px:4,pb:3};var D=()=>{let e=(0,T.useRouter)(),{auth:t}=(0,I.a)(),[o,j]=(0,O.useState)(!1),[E,A]=(0,O.useState)(null),[R,N]=(0,O.useState)(!1),[D,L]=(0,O.useState)(null),k=()=>{N(!1),A(null)},F=[{title:"USUARIOS ",url:"../../usuarios",icon:(0,a.jsx)(h.Z,{})},{title:"PEDIDOS",url:"../../pedidos",icon:(0,a.jsx)(f.Z,{})},{title:"CLIENTES",url:"../../clients",icon:(0,a.jsx)(m.Z,{})},{title:"PRODUCTOS",icon:(0,a.jsx)(x.Z,{}),onClick:e=>{N(!0),A(e.currentTarget)}},{title:"FACTURAS",url:"../../facturas",icon:(0,a.jsx)(g.Z,{})},{title:"CAJA",url:"../../pedidos/pedidosCaja",icon:(0,a.jsx)(b.Z,{})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)(n.default,{sx:{flexGrow:1},children:[(0,a.jsx)(l.Z,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(s.Z,{color:"inherit",onClick:e=>{L(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)(n.default,{sx:{display:{xs:"none",md:"flex"}},children:F.map(e=>(0,a.jsx)(c.default,{sx:{fontWeight:"bold"},color:"inherit",size:"large",LinkComponent:Z.default,href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,a.jsx)(u.default,{variant:"h6",sx:{flexGrow:1}}),(0,a.jsx)(c.default,{component:Z.default,href:"/start",color:"inherit",children:(0,a.jsx)(S.Z,{})}),(0,a.jsxs)(c.default,{color:"inherit",children:[(0,a.jsx)(v.Z,{}),t&&t.PER_Nom]}),(0,a.jsx)(c.default,{color:"inherit",onClick:()=>j(!0),children:(0,a.jsx)(C.Z,{})})]})}),(0,a.jsx)(d.Z,{open:o,onClose:()=>j(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(n.default,{sx:z,children:[(0,a.jsx)(u.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\xbfEstas seguro que quiere salir?"}),(0,a.jsx)(n.default,{children:(0,a.jsx)(c.default,{sx:{bgcolor:"red"},variant:"contained",onClick:()=>{e.push("/")},children:"SALIR"})})]})}),(0,a.jsxs)(_.Z,{id:"basic-menu",anchorEl:E,open:R,onClose:k,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,a.jsx)(p.Z,{onClick:k,component:Z.default,href:"../../productos",children:"Productos Por Bodega"}),(0,a.jsx)(p.Z,{onClick:k,component:Z.default,href:"../../productosMG",children:"Productos-MG"})]}),(0,a.jsx)(_.Z,{id:"basic-menu",anchorEl:E,MenuListProps:{"aria-labelledby":"basic-button"},open:!!D,onClose:()=>{L(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(P,{page:F})})]})]})}},42716:function(e,t,o){"use strict";o.d(t,{c:function(){return r}});var a=o(2265);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,o]=(0,a.useState)(e);return{form:t,changed:e=>{let{name:a,value:r}=e.target;o({...t,[a]:r})},setForm:o}}},85800:function(e,t,o){"use strict";o.d(t,{AuthProvider:function(){return l},a:function(){return i}});var a=o(57437),r=o(2265);let n=(0,r.createContext)(),l=e=>{let{children:t}=e,[o,l]=(0,r.useState)(null),[i,s]=(0,r.useState)({}),[c,u]=(0,r.useState)({}),[d,_]=(0,r.useState)({}),[p,h]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=localStorage.getItem("datos"),t=localStorage.getItem("clientTemp"),o=localStorage.getItem("pedidoTemp"),a=localStorage.getItem("caja");e&&l(JSON.parse(e)),t&&s(JSON.parse(t)),o&&u(JSON.parse(o)),a&&_(JSON.parse(a))},[]),(0,a.jsx)(n.Provider,{value:{auth:o,cliente:i,setCliente:s,pedido:c,setPedido:u,caja:d,setCaja:_,loading:p,login:e=>{l(e)},logout:()=>{l(null)}},children:t})},i=()=>(0,r.useContext)(n)},8620:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.d(t,{Z:function(){return a}})}},function(e){e.O(0,[9461,2505,4797,4129,6291,2561,4275,3983,7755,3587,4936,2971,7023,1744],function(){return e(e.s=28997)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6602],{98648:function(e,t,r){Promise.resolve().then(r.bind(r,9960))},71733:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var o=r(2265),a=r(44839),n=r(76990),i=r(48024),s=r(339),l=r(95885),u=r(12272),c=r(28027),p=r(72296),d=r(70587);function f(e){return(0,d.ZP)("MuiAppBar",e)}(0,p.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var x=r(57437);let g=e=>{let{color:t,position:r,classes:o}=e,a={root:["root","color".concat((0,u.Z)(t)),"position".concat((0,u.Z)(r))]};return(0,n.Z)(a,f,o)},v=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,m=(0,i.default)(c.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["position".concat((0,u.Z)(r.position))],t["color".concat((0,u.Z)(r.color))]]}})((0,s.Z)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(e=>{let[,t]=e;return t&&t.main&&t.contrastText}).map(e=>{var r,o;let[a]=e;return{props:{color:a},style:{"--AppBar-background":(null!==(r=t.vars)&&void 0!==r?r:t).palette[a].main,"--AppBar-color":(null!==(o=t.vars)&&void 0!==o?o:t).palette[a].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?v(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?v(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}}));var h=o.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiAppBar"}),{className:o,color:n="primary",enableColorOnDark:i=!1,position:s="fixed",...u}=r,c={...r,color:n,position:s,enableColorOnDark:i},p=g(c);return(0,x.jsx)(m,{square:!0,component:"header",ownerState:c,elevation:4,className:(0,a.Z)(p.root,o,"fixed"===s&&"mui-fixed"),ref:t,...u})})},79806:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var o=r(2265),a=r(44839),n=r(76990),i=r(48024),s=r(339),l=r(95885),u=r(72296),c=r(70587);function p(e){return(0,c.ZP)("MuiToolbar",e)}(0,u.Z)("MuiToolbar",["root","gutters","regular","dense"]);var d=r(57437);let f=e=>{let{classes:t,disableGutters:r,variant:o}=e;return(0,n.Z)({root:["root",!r&&"gutters",o]},p,t)},x=(0,i.default)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((0,s.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}));var g=o.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiToolbar"}),{className:o,component:n="div",disableGutters:i=!1,variant:s="regular",...u}=r,c={...r,component:n,disableGutters:i,variant:s},p=f(c);return(0,d.jsx)(x,{as:n,className:(0,a.Z)(p.root,o),ref:t,ownerState:c,...u})})},87138:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var o=r(231),a=r.n(o)},16463:function(e,t,r){"use strict";var o=r(71169);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},9960:function(e,t,r){"use strict";r.r(t),r.d(t,{Copyright:function(){return Z},default:function(){return I}});var o=r(57437),a=r(24732),n=r(83719),i=r(31193),s=r(13100),l=r(71733),u=r(79806),c=r(60091),p=r(20124),d=r(14446),f=r(48801),x=r(23983),g=r(25774),v=r(24563),m=r(11810),h=r(19490),b=r(85800),y=r(16463),S=r(27270),j=r(2265),C=r(66648),k=r(87138);let B=(0,a.Z)({components:{MuiTextField:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px, 3px, 5px rgba(0,0,0,0.2)"}}},MuiButton:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px 3px 5px rgba(0,0,0,0.2)",transition:"0.3s","&:hover":{boxShadow:"0px 5px 10px rgba(0,0,0,0.4)",backgroundColor:"#388e3c"}}}}}}),w=j.forwardRef(function(e,t){return(0,o.jsx)(S.Z,{elevation:6,ref:t,variant:"filled",...e})});function Z(e){return(0,o.jsxs)(n.default,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Departamento de Sistemas \xa9 Version 0.1 - ",new Date().getFullYear(),"."]})}let A=async(e,t)=>{let r=await fetch("/api/usuarios/listar/".concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});return await r.json()};function I(){let e=(0,y.useRouter)(),{login:t,auth:r}=(0,b.a)(),[a,S]=(0,j.useState)(),[I,R]=(0,j.useState)(""),[O,T]=(0,j.useState)(!1),[D,E]=(0,j.useState)(!1),[N,z]=(0,j.useState)(!1),[M,U]=(0,j.useState)(""),[_,P]=(0,j.useState)(!1);!1===_&&setTimeout(()=>{P(!0)},500);let F=async r=>{r.preventDefault();let o=await A(M,I);o.error?(z(!0),E(!0),console.log("Error",o.error)):(localStorage.setItem("usuarios",JSON.stringify(o)),T(!0),S(!0),t(o),e.push("../start"))},J=e=>{"clicaway"!==e&&T(!1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(i.default,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,o.jsx)(s.Z,{direction:"down",in:_,mountOnEnter:!0,unmountOnExit:!0,children:(0,o.jsx)(l.Z,{position:"static",sx:{bgcolor:"#262626",height:"80px"},children:(0,o.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,o.jsx)(n.default,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,marginLeft:"10px"},children:" "}),(0,o.jsx)(c.default,{component:k.default,href:"/components/ingresos",sx:{color:"white"},title:"Control de entredas y salidas de los empleados",children:(0,o.jsx)(v.Z,{sx:{fontSize:40}})})]})})}),(0,o.jsx)(p.default,{}),(0,o.jsx)(d.default,{theme:B,children:(0,o.jsxs)(f.default,{component:"main",maxWidth:"xs",sx:{backgroundColor:"#ffffff",padding:4,borderRadius:2,boxShadow:"0px 5px 15px rgba(0,0,0,0.3)",marginTop:8},children:[(0,o.jsxs)(i.default,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(n.default,{variant:"h6",noWrap:!0,component:"div",sx:{margin:2},children:(0,o.jsx)(C.default,{className:"logo",src:"/logo_miguelgomez.png",width:"230",height:"200",alt:"Logo",priority:!0})}),"saved"==a?(0,o.jsx)(h.Z,{sx:{color:"green"}}):"","error"==a?(0,o.jsx)(m.Z,{sx:{color:"red"}}):"",(0,o.jsx)(i.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}}),(0,o.jsxs)(i.default,{component:"form",noValidate:!0,onSubmit:F,sx:{mt:1},children:[(0,o.jsx)(x.Z,{error:N,id:"usuario",label:"Usuario",margin:"normal",fullWidth:!0,name:"PER_Usuario",value:M,onChange:e=>U(e.target.value)}),(0,o.jsx)(n.default,{component:"h1",variant:"h6"}),(0,o.jsx)(x.Z,{error:N,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"PER_Clave",id:"contrase\xf1a",label:"Contrase\xf1a",value:I,onChange:e=>R(e.target.value)}),(0,o.jsx)(c.default,{type:"submit",variant:"contained",color:"success",sx:{marginTop:2,display:"flex",justifyContent:"center",alignItems:"center",minWidth:380},children:"Iniciar sesi\xf3n"})]})]}),O?(0,o.jsx)(g.Z,{open:O,autoHideDuration:6e3,onClose:J,children:(0,o.jsx)(w,{onClose:J,variant:"outlined",severity:"success",sx:{width:"100%"},children:"Usuario identificado."})}):"",D?(0,o.jsx)(g.Z,{open:D,autoHideDuration:6e3,onClose:J,children:(0,o.jsx)(w,{onClose:J,variant:"outlined",severity:"error",sx:{width:"100%"},children:"El usuario o la contrase\xf1a son incorrectos."})}):"",(0,o.jsx)(Z,{sx:{mt:5,mb:5}})]})})]})})}},85800:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return s},a:function(){return l}});var o=r(57437),a=r(2265),n=r(44785);let i=(0,a.createContext)({login:e=>{},logout:()=>{}}),s=e=>{let{children:t}=e,[r,s]=(0,a.useState)(null),[l,u]=(0,a.useState)({}),[c,p]=(0,a.useState)({}),[d,f]=(0,a.useState)({}),[x]=(0,a.useState)(!0),g=(0,a.useCallback)(function(e){n.Z.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),s(e)},[]),v=(0,a.useCallback)(function(){n.Z.remove("authTokens"),localStorage.removeItem("auth"),s(null)},[]);(0,a.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("cliente"),r=localStorage.getItem("pedido"),o=localStorage.getItem("caja");e&&s(JSON.parse(e)),t&&u(JSON.parse(t)),r&&p(JSON.parse(r)),o&&f(JSON.parse(o))},[]);let m=(0,a.useMemo)(()=>({auth:r,cliente:l,setCliente:u,pedido:c,setPedido:p,caja:d,setCaja:f,loading:x,login:g,logout:v}),[r,l,c,d,g,v]);return(0,o.jsx)(i.Provider,{value:m,children:t})},l=()=>(0,a.useContext)(i)},44785:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)e[o]=r[o]}return e}r.d(t,{Z:function(){return a}});var a=function e(t,r){function a(e,a,n){if("undefined"!=typeof document){"number"==typeof(n=o({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in n)n[s]&&(i+="; "+s,!0!==n[s]&&(i+="="+n[s].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+i}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],o={},a=0;a<r.length;a++){var n=r[a].split("="),i=n.slice(1).join("=");try{var s=decodeURIComponent(n[0]);if(o[s]=t.read(i,s),e===s)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){a(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[4797,4129,6291,4275,3983,2561,7734,6648,6461,2127,2971,7023,1744],function(){return e(e.s=98648)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6602],{98648:function(e,r,t){Promise.resolve().then(t.bind(t,9960))},71733:function(e,r,t){"use strict";t.d(r,{Z:function(){return h}});var o=t(2265),a=t(44839),n=t(76990),i=t(48024),s=t(339),l=t(95885),p=t(12272),c=t(28027),u=t(72296),d=t(70587);function f(e){return(0,d.ZP)("MuiAppBar",e)}(0,u.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var g=t(57437);let x=e=>{let{color:r,position:t,classes:o}=e,a={root:["root","color".concat((0,p.Z)(r)),"position".concat((0,p.Z)(t))]};return(0,n.Z)(a,f,o)},v=(e,r)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(r,")"):r,m=(0,i.default)(c.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r["position".concat((0,p.Z)(t.position))],r["color".concat((0,p.Z)(t.color))]]}})((0,s.Z)(e=>{let{theme:r}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":r.vars?r.vars.palette.AppBar.defaultBg:r.palette.grey[100],"--AppBar-color":r.vars?r.vars.palette.text.primary:r.palette.getContrastText(r.palette.grey[100]),...r.applyStyles("dark",{"--AppBar-background":r.vars?r.vars.palette.AppBar.defaultBg:r.palette.grey[900],"--AppBar-color":r.vars?r.vars.palette.text.primary:r.palette.getContrastText(r.palette.grey[900])})}},...Object.entries(r.palette).filter(e=>{let[,r]=e;return r&&r.main&&r.contrastText}).map(e=>{var t,o;let[a]=e;return{props:{color:a},style:{"--AppBar-background":(null!==(t=r.vars)&&void 0!==t?t:r).palette[a].main,"--AppBar-color":(null!==(o=r.vars)&&void 0!==o?o:r).palette[a].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...r.applyStyles("dark",{backgroundColor:r.vars?v(r.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:r.vars?v(r.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...r.applyStyles("dark",{backgroundImage:"none"})}}]}}));var h=o.forwardRef(function(e,r){let t=(0,l.i)({props:e,name:"MuiAppBar"}),{className:o,color:n="primary",enableColorOnDark:i=!1,position:s="fixed",...p}=t,c={...t,color:n,position:s,enableColorOnDark:i},u=x(c);return(0,g.jsx)(m,{square:!0,component:"header",ownerState:c,elevation:4,className:(0,a.Z)(u.root,o,"fixed"===s&&"mui-fixed"),ref:r,...p})})},79806:function(e,r,t){"use strict";t.d(r,{Z:function(){return x}});var o=t(2265),a=t(44839),n=t(76990),i=t(48024),s=t(339),l=t(95885),p=t(72296),c=t(70587);function u(e){return(0,c.ZP)("MuiToolbar",e)}(0,p.Z)("MuiToolbar",["root","gutters","regular","dense"]);var d=t(57437);let f=e=>{let{classes:r,disableGutters:t,variant:o}=e;return(0,n.Z)({root:["root",!t&&"gutters",o]},u,r)},g=(0,i.default)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,!t.disableGutters&&r.gutters,r[t.variant]]}})((0,s.Z)(e=>{let{theme:r}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:r}=e;return!r.disableGutters},style:{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:r.mixins.toolbar}]}}));var x=o.forwardRef(function(e,r){let t=(0,l.i)({props:e,name:"MuiToolbar"}),{className:o,component:n="div",disableGutters:i=!1,variant:s="regular",...p}=t,c={...t,component:n,disableGutters:i,variant:s},u=f(c);return(0,d.jsx)(g,{as:n,className:(0,a.Z)(u.root,o),ref:r,ownerState:c,...p})})},87138:function(e,r,t){"use strict";t.d(r,{default:function(){return a.a}});var o=t(231),a=t.n(o)},16463:function(e,r,t){"use strict";var o=t(71169);t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}})},9960:function(e,r,t){"use strict";t.r(r),t.d(r,{Copyright:function(){return Z},default:function(){return C}});var o=t(57437),a=t(83719),n=t(31193),i=t(13100),s=t(71733),l=t(79806),p=t(60091),c=t(15656),u=t(48801),d=t(20124),f=t(23983),g=t(25774),x=t(24563),v=t(11810),m=t(19490),h=t(16463),y=t(27270),b=t(2265),j=t(66648),S=t(87138),B=t(85800);let k=b.forwardRef(function(e,r){return(0,o.jsx)(y.Z,{elevation:6,ref:r,variant:"filled",...e})});function Z(e){return(0,o.jsxs)(a.default,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Departamento de Sistemas ",new Date().getFullYear(),"."]})}let A=async(e,r)=>{try{let t=await fetch("/api/usuarios/listar/".concat(e,"/").concat(r),{method:"GET",headers:{"Content-Type":"application/json"}}),o=await t.json();if(!t.ok||!o||(o.length,0))return{error:"Usuario o Clave incorrecta"};return o}catch(e){return console.error("Error en la petici\xf3n: ",e),{error:"Error en la conexi\xf3n"}}};function C(){let e=(0,h.useRouter)(),{login:r}=(0,B.a)(),[t,y]=(0,b.useState)(),[C,w]=(0,b.useState)(""),[I,R]=(0,b.useState)(!1),[T,E]=(0,b.useState)(!1),[N,O]=(0,b.useState)(!1),[D,z]=(0,b.useState)(""),_=async t=>{t.preventDefault();let o=await A(D,C);o.error?(O(!0),E(!0),console.log("Error",o.error)):(localStorage.setItem("usuarios",JSON.stringify(o)),r(o),R(!0),y(!0),console.log(o),e.push("../../start"))},M=e=>{"clicaway"!==e&&R(!1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(n.default,{sx:{height:180},children:[(0,o.jsx)(i.Z,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,o.jsx)(s.Z,{position:"static",sx:{bgcolor:"#262626",height:"80px"},children:(0,o.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,o.jsx)(a.default,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,marginLeft:"10px"},children:" "}),(0,o.jsx)(p.default,{component:S.default,href:"/components/ingresos",sx:{color:"white"},title:"Control de entredas y salidas de los empleados",children:(0,o.jsx)(x.Z,{sx:{fontSize:40}})})]})})}),(0,o.jsx)(n.default,{sx:{zoom:1.2},children:(0,o.jsx)(c.Z,{in:!0,children:(0,o.jsxs)(u.default,{className:"login",component:"main",maxWidth:"xs",children:[(0,o.jsx)(d.default,{}),(0,o.jsxs)(n.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",height:"auto"},children:[(0,o.jsx)(a.default,{variant:"h6",noWrap:!0,component:"div",sx:{margin:2},children:(0,o.jsx)(j.default,{className:"logo",src:"/logo_miguelgomez.png",width:"230",height:"230",alt:"Logo",priority:!0})}),"saved"==t?(0,o.jsx)(m.Z,{sx:{color:"green"}}):"","error"==t?(0,o.jsx)(v.Z,{sx:{color:"red"}}):"",(0,o.jsxs)(n.default,{component:"form",noValidate:!0,onSubmit:_,sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(f.Z,{error:N,id:"usuario",label:"Usuario",margin:"normal",fullWidth:!0,name:"PER_Usuario",value:D,onChange:e=>z(e.target.value)}),(0,o.jsx)(f.Z,{error:N,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"PER_Clave",id:"contrase\xf1a",label:"Contrase\xf1a",value:C,onChange:e=>w(e.target.value)}),(0,o.jsx)(p.default,{type:"submit",variant:"contained",color:"success",sx:{marginTop:2,display:"flex",justifyContent:"center",alignItems:"center",minWidth:398},children:"Iniciar sesi\xf3n"})]}),I?(0,o.jsx)(g.Z,{open:I,autoHideDuration:6e3,onClose:M,children:(0,o.jsx)(k,{onClose:M,variant:"outlined",severity:"success",sx:{width:"100%"},children:"Usuario identificado."})}):"",T?(0,o.jsx)(g.Z,{open:T,autoHideDuration:6e3,onClose:M,children:(0,o.jsx)(k,{onClose:M,variant:"outlined",severity:"error",sx:{width:"100%"},children:"El usuario o la contrase\xf1a son incorrectos."})}):""]}),(0,o.jsx)(Z,{sx:{mt:5,mb:5}})]})})})]})})}},85800:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return i},a:function(){return s}});var o=t(57437),a=t(2265);let n=(0,a.createContext)(),i=e=>{let{children:r}=e,[t,i]=(0,a.useState)(null),[s,l]=(0,a.useState)({}),[p,c]=(0,a.useState)({}),[u,d]=(0,a.useState)({}),[f,g]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=localStorage.getItem("datos"),r=localStorage.getItem("clientTemp"),t=localStorage.getItem("pedidoTemp"),o=localStorage.getItem("caja");e&&i(JSON.parse(e)),r&&l(JSON.parse(r)),t&&c(JSON.parse(t)),o&&d(JSON.parse(o))},[]),(0,o.jsx)(n.Provider,{value:{auth:t,cliente:s,setCliente:l,pedido:p,setPedido:c,caja:u,setCaja:d,loading:f,login:e=>{i(e)},logout:()=>{i(null)}},children:r})},s=()=>(0,a.useContext)(n)}},function(e){e.O(0,[4797,4129,6291,4275,3983,2561,7734,6648,6510,9694,2971,7023,1744],function(){return e(e.s=98648)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6602],{98648:function(e,t,r){Promise.resolve().then(r.bind(r,9960))},71733:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var o=r(2265),a=r(44839),n=r(76990),i=r(48024),s=r(339),l=r(95885),p=r(12272),c=r(28027),u=r(72296),d=r(70587);function f(e){return(0,d.ZP)("MuiAppBar",e)}(0,u.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var g=r(57437);let x=e=>{let{color:t,position:r,classes:o}=e,a={root:["root","color".concat((0,p.Z)(t)),"position".concat((0,p.Z)(r))]};return(0,n.Z)(a,f,o)},v=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,m=(0,i.default)(c.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["position".concat((0,p.Z)(r.position))],t["color".concat((0,p.Z)(r.color))]]}})((0,s.Z)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(e=>{let[,t]=e;return t&&t.main&&t.contrastText}).map(e=>{var r,o;let[a]=e;return{props:{color:a},style:{"--AppBar-background":(null!==(r=t.vars)&&void 0!==r?r:t).palette[a].main,"--AppBar-color":(null!==(o=t.vars)&&void 0!==o?o:t).palette[a].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?v(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?v(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}}));var h=o.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiAppBar"}),{className:o,color:n="primary",enableColorOnDark:i=!1,position:s="fixed",...p}=r,c={...r,color:n,position:s,enableColorOnDark:i},u=x(c);return(0,g.jsx)(m,{square:!0,component:"header",ownerState:c,elevation:4,className:(0,a.Z)(u.root,o,"fixed"===s&&"mui-fixed"),ref:t,...p})})},79806:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var o=r(2265),a=r(44839),n=r(76990),i=r(48024),s=r(339),l=r(95885),p=r(72296),c=r(70587);function u(e){return(0,c.ZP)("MuiToolbar",e)}(0,p.Z)("MuiToolbar",["root","gutters","regular","dense"]);var d=r(57437);let f=e=>{let{classes:t,disableGutters:r,variant:o}=e;return(0,n.Z)({root:["root",!r&&"gutters",o]},u,t)},g=(0,i.default)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((0,s.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}));var x=o.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiToolbar"}),{className:o,component:n="div",disableGutters:i=!1,variant:s="regular",...p}=r,c={...r,component:n,disableGutters:i,variant:s},u=f(c);return(0,d.jsx)(g,{as:n,className:(0,a.Z)(u.root,o),ref:t,ownerState:c,...p})})},87138:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var o=r(231),a=r.n(o)},16463:function(e,t,r){"use strict";var o=r(71169);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},9960:function(e,t,r){"use strict";r.r(t),r.d(t,{Copyright:function(){return Z},default:function(){return C}});var o=r(57437),a=r(83719),n=r(31193),i=r(13100),s=r(71733),l=r(79806),p=r(60091),c=r(15656),u=r(48801),d=r(20124),f=r(23983),g=r(25774),x=r(24563),v=r(11810),m=r(19490),h=r(16463),y=r(27270),b=r(2265),j=r(66648),S=r(87138),B=r(85800);let k=b.forwardRef(function(e,t){return(0,o.jsx)(y.Z,{elevation:6,ref:t,variant:"filled",...e})});function Z(e){return(0,o.jsxs)(a.default,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Departamento de Sistemas ",new Date().getFullYear(),"."]})}let A=async(e,t)=>{try{let r=await fetch("http://172.20.20.3:8001/usuarios/listar/".concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}),o=await r.json();return r.ok||console.log("Error en la solicitud"),o}catch(e){return console.error("Error en la petici\xf3n: ",e),{error:"Error en la conexi\xf3n"}}};function C(){let e=(0,h.useRouter)(),{login:t}=(0,B.a)(),[r,y]=(0,b.useState)(),[C,w]=(0,b.useState)(""),[I,R]=(0,b.useState)(!1),[E,T]=(0,b.useState)(!1),[N,O]=(0,b.useState)(!1),[D,z]=(0,b.useState)(""),_=async r=>{r.preventDefault();let o=await A(D,C);o.error?(O(!0),T(!0),console.log("Error",o.error)):(localStorage.setItem("usuarios",JSON.stringify(o)),t(o),R(!0),y(!0),console.log(o),e.push("../../start"))},M=e=>{"clicaway"!==e&&R(!1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(n.default,{sx:{height:180},children:[(0,o.jsx)(i.Z,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,o.jsx)(s.Z,{position:"static",sx:{bgcolor:"#262626",height:"80px"},children:(0,o.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,o.jsx)(a.default,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,marginLeft:"10px"},children:" "}),(0,o.jsx)(p.default,{component:S.default,href:"/components/ingresos",sx:{color:"white"},title:"Control de entredas y salidas de los empleados",children:(0,o.jsx)(x.Z,{sx:{fontSize:40}})})]})})}),(0,o.jsx)(n.default,{sx:{zoom:1.2},children:(0,o.jsx)(c.Z,{in:!0,children:(0,o.jsxs)(u.default,{className:"login",component:"main",maxWidth:"xs",children:[(0,o.jsx)(d.default,{}),(0,o.jsxs)(n.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",height:"auto"},children:[(0,o.jsx)(a.default,{variant:"h6",noWrap:!0,component:"div",sx:{margin:2},children:(0,o.jsx)(j.default,{className:"logo",src:"/logo_miguelgomez.png",width:"230",height:"230",alt:"Logo",priority:!0})}),"saved"==r?(0,o.jsx)(m.Z,{sx:{color:"green"}}):"","error"==r?(0,o.jsx)(v.Z,{sx:{color:"red"}}):"",(0,o.jsxs)(n.default,{component:"form",noValidate:!0,onSubmit:_,sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(f.Z,{error:N,id:"usuario",label:"Usuario",margin:"normal",fullWidth:!0,name:"PER_Usuario",value:D,onChange:e=>z(e.target.value)}),(0,o.jsx)(f.Z,{error:N,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"PER_Clave",id:"contrase\xf1a",label:"Contrase\xf1a",value:C,onChange:e=>w(e.target.value)}),(0,o.jsx)(p.default,{type:"submit",variant:"contained",color:"success",sx:{marginTop:2,display:"flex",justifyContent:"center",alignItems:"center",minWidth:398},children:"Iniciar sesi\xf3n"})]}),I?(0,o.jsx)(g.Z,{open:I,autoHideDuration:6e3,onClose:M,children:(0,o.jsx)(k,{onClose:M,variant:"outlined",severity:"success",sx:{width:"100%"},children:"Usuario identificado."})}):"",E?(0,o.jsx)(g.Z,{open:E,autoHideDuration:6e3,onClose:M,children:(0,o.jsx)(k,{onClose:M,variant:"outlined",severity:"error",sx:{width:"100%"},children:"El usuario o la contrase\xf1a son incorrectos."})}):""]}),(0,o.jsx)(Z,{sx:{mt:5,mb:5}})]})})})]})})}},85800:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return s}});var o=r(57437),a=r(2265);let n=(0,a.createContext)(),i=e=>{let{children:t}=e,[r,i]=(0,a.useState)(null),[s,l]=(0,a.useState)({}),[p,c]=(0,a.useState)({}),[u,d]=(0,a.useState)({}),[f,g]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=localStorage.getItem("datos"),t=localStorage.getItem("clientTemp"),r=localStorage.getItem("pedidoTemp"),o=localStorage.getItem("caja");e&&i(JSON.parse(e)),t&&l(JSON.parse(t)),r&&c(JSON.parse(r)),o&&d(JSON.parse(o))},[]),(0,o.jsx)(n.Provider,{value:{auth:r,cliente:s,setCliente:l,pedido:p,setPedido:c,caja:u,setCaja:d,loading:f,login:e=>{i(e)},logout:()=>{i(null)}},children:t})},s=()=>(0,a.useContext)(n)}},function(e){e.O(0,[4797,4129,6291,2561,4275,3983,7734,6648,6510,9694,2971,7023,1744],function(){return e(e.s=98648)}),_N_E=e.O()}]);
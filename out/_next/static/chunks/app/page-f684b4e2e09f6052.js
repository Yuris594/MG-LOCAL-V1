(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{95072:function(e,n,t){Promise.resolve().then(t.bind(t,23136)),Promise.resolve().then(t.bind(t,9960))},9960:function(e,n,t){"use strict";t.r(n),t.d(n,{Copyright:function(){return Z},default:function(){return _}});var r=t(57437),o=t(83719),s=t(31193),a=t(13100),i=t(71733),l=t(79806),c=t(60091),u=t(15656),d=t(48801),x=t(20124),h=t(23983),f=t(25774),m=t(24563),p=t(11810),g=t(19490),j=t(16463),v=t(27270),y=t(2265),w=t(66648),C=t(87138),E=t(85800);let b=y.forwardRef(function(e,n){return(0,r.jsx)(v.Z,{elevation:6,ref:n,variant:"filled",...e})});function Z(e){return(0,r.jsxs)(o.default,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Departamento de Sistemas ",new Date().getFullYear(),"."]})}let S=async(e,n)=>{try{let t=await fetch("http://172.20.20.3:8001/usuarios/listar/".concat(e,"/").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}),r=await t.json();return t.ok||console.log("Error en la solicitud"),r}catch(e){return console.error("Error en la petici\xf3n: ",e),{error:"Error en la conexi\xf3n"}}};function _(){let e=(0,j.useRouter)(),{login:n}=(0,E.a)(),[t,v]=(0,y.useState)(),[_,D]=(0,y.useState)(""),[I,N]=(0,y.useState)(!1),[W,k]=(0,y.useState)(!1),[O,P]=(0,y.useState)(!1),[R,T]=(0,y.useState)(""),z=async t=>{t.preventDefault();let r=await S(R,_);r.error?(P(!0),k(!0),console.log("Error",r.error)):(localStorage.setItem("usuarios",JSON.stringify(r)),n(r),N(!0),v(!0),console.log(r),e.push("../../start"))},U=e=>{"clicaway"!==e&&N(!1)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.default,{sx:{height:180},children:[(0,r.jsx)(a.Z,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,r.jsx)(i.Z,{position:"static",sx:{bgcolor:"#262626",height:"80px"},children:(0,r.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,r.jsx)(o.default,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,marginLeft:"10px"},children:" "}),(0,r.jsx)(c.default,{component:C.default,href:"/components/ingresos",sx:{color:"white"},title:"Control de entredas y salidas de los empleados",children:(0,r.jsx)(m.Z,{sx:{fontSize:40}})})]})})}),(0,r.jsx)(s.default,{sx:{zoom:1.2},children:(0,r.jsx)(u.Z,{in:!0,children:(0,r.jsxs)(d.default,{className:"login",component:"main",maxWidth:"xs",children:[(0,r.jsx)(x.default,{}),(0,r.jsxs)(s.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",height:"auto"},children:[(0,r.jsx)(o.default,{variant:"h6",noWrap:!0,component:"div",sx:{margin:2},children:(0,r.jsx)(w.default,{className:"logo",src:"/logo_miguelgomez.png",width:"230",height:"230",alt:"Logo",priority:!0})}),"saved"==t?(0,r.jsx)(g.Z,{sx:{color:"green"}}):"","error"==t?(0,r.jsx)(p.Z,{sx:{color:"red"}}):"",(0,r.jsxs)(s.default,{component:"form",noValidate:!0,onSubmit:z,sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(h.Z,{error:O,id:"usuario",label:"Usuario",margin:"normal",fullWidth:!0,name:"PER_Usuario",value:R,onChange:e=>T(e.target.value)}),(0,r.jsx)(h.Z,{error:O,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"PER_Clave",id:"contrase\xf1a",label:"Contrase\xf1a",value:_,onChange:e=>D(e.target.value)}),(0,r.jsx)(c.default,{type:"submit",variant:"contained",color:"success",sx:{marginTop:2,display:"flex",justifyContent:"center",alignItems:"center",minWidth:398},children:"Iniciar sesi\xf3n"})]}),I?(0,r.jsx)(f.Z,{open:I,autoHideDuration:6e3,onClose:U,children:(0,r.jsx)(b,{onClose:U,variant:"outlined",severity:"success",sx:{width:"100%"},children:"Usuario identificado."})}):"",W?(0,r.jsx)(f.Z,{open:W,autoHideDuration:6e3,onClose:U,children:(0,r.jsx)(b,{onClose:U,variant:"outlined",severity:"error",sx:{width:"100%"},children:"El usuario o la contrase\xf1a son incorrectos."})}):""]}),(0,r.jsx)(Z,{sx:{mt:5,mb:5}})]})})})]})})}}},function(e){e.O(0,[4797,4129,6291,2561,4275,3983,7755,3587,7734,6648,6510,9694,3136,2971,7023,1744],function(){return e(e.s=95072)}),_N_E=e.O()}]);
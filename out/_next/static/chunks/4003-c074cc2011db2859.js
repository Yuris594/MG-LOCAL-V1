(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4003],{20067:function(){},72061:function(){},20124:function(e,t,o){"use strict";var l=o(2265),r=o(89211),a=o(95885),n=o(57437);let i="function"==typeof(0,r.zY)({}),s=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),d=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),c=function(e){var t,o;let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};l&&e.colorSchemes&&"function"==typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(t=>{var o,l;let[a,n]=t,i=e.getColorSchemeSelector(a);i.startsWith("@")?r[i]={":root":{colorScheme:null===(o=n.palette)||void 0===o?void 0:o.mode}}:r[i.replace(/\s*&/,"")]={colorScheme:null===(l=n.palette)||void 0===l?void 0:l.mode}});let a={html:s(e,l),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...d(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...r},n=null===(o=e.components)||void 0===o?void 0:null===(t=o.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return n&&(a=[a,n]),a},u="mui-ecs",h=e=>{let t=c(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[":root:has(".concat(u,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{var l,r;let[a,n]=t,i=e.getColorSchemeSelector(a);i.startsWith("@")?o[i]={[":root:not(:has(.".concat(u,"))")]:{colorScheme:null===(l=n.palette)||void 0===l?void 0:l.mode}}:o[i.replace(/\s*&/,"")]={["&:not(:has(.".concat(u,"))")]:{colorScheme:null===(r=n.palette)||void 0===r?void 0:r.mode}}}),t},x=(0,r.zY)(i?e=>{let{theme:t,enableColorScheme:o}=e;return c(t,o)}:e=>{let{theme:t}=e;return h(t)});t.default=function(e){let{children:t,enableColorScheme:o=!1}=(0,a.i)({props:e,name:"MuiCssBaseline"});return(0,n.jsxs)(l.Fragment,{children:[i&&(0,n.jsx)(x,{enableColorScheme:o}),!i&&!o&&(0,n.jsx)("span",{className:u,style:{display:"none"}}),t]})}},13726:function(e,t,o){"use strict";o.d(t,{Z:function(){return _}});var l=o(57437),r=o(33579),a=o.n(r),n=o(20124),i=o(31193),s=o(71733),d=o(79806),c=o(60335),u=o(60091),h=o(83719),x=o(62501),f=o(6291),m=o(11656),p=o(66325),g=o(90922),j=o(26032),S=o(55693),C=o(42188),b=o(66299),v=o(40301),y=o(78457),O=o(21704),w=o(66246),E=o(16463),N=o(85800),Z=o(2265),k=o(32184),A=o(7547),D=o(57300),P=o(86917),I=o(47905),R=o(87138),T=e=>{let{page:t}=e;return(0,l.jsx)(i.default,{children:(0,l.jsx)(k.Z,{children:t.map(e=>(0,l.jsx)(A.ZP,{disablePadding:!0,children:(0,l.jsxs)(D.Z,{LinkComponent:R.default,href:e.url,onClick:e.onClick,children:[(0,l.jsx)(P.Z,{children:e.icon}),(0,l.jsx)(I.Z,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};let M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",alignItems:"center",justifyContext:"center",boxShadow:24,textAlign:"center",pt:2,px:4,pb:3};var _=()=>{let e=(0,E.useRouter)(),{auth:t,logout:o}=(0,N.a)(),[r,k]=(0,Z.useState)(!1),[A,D]=(0,Z.useState)(null),[P,I]=(0,Z.useState)(!1),_=()=>{I(!1),D(null)},F=[{title:"USUARIOS ",url:"/components/usuarios",icon:(0,l.jsx)(p.Z,{})},{title:"PEDIDOS",url:"/components/pedidos",icon:(0,l.jsx)(g.Z,{})},{title:"CLIENTES",url:"/components/clientes",icon:(0,l.jsx)(j.Z,{})},{title:"PRODUCTOS",icon:(0,l.jsx)(S.Z,{}),onClick:e=>{I(!0),D(e.currentTarget)}},{title:"FACTURAS",url:"../start/facturas",icon:(0,l.jsx)(C.Z,{})},{title:"CAJA",url:"../components/pedidosCaja",icon:(0,l.jsx)(b.Z,{})}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.default,{}),(0,l.jsxs)(i.default,{sx:{flexGrow:1},children:[(0,l.jsx)(s.Z,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(c.Z,{color:"inherit",onClick:e=>{D(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(v.Z,{})}),(0,l.jsx)(i.default,{sx:{display:{xs:"none",md:"flex"}},children:F.map(e=>(0,l.jsx)(u.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:R.default,href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,l.jsx)(h.default,{variant:"h6",sx:{flexGrow:1}}),(0,l.jsx)(u.default,{component:R.default,href:"/start",color:"inherit",children:(0,l.jsx)(w.Z,{})}),(0,l.jsxs)(u.default,{className:a().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,l.jsx)(O.Z,{}),t&&t.PER_Nom]}),(0,l.jsx)(u.default,{color:"inherit",onClick:()=>k(!0),children:(0,l.jsx)(y.Z,{})})]})}),(0,l.jsx)(x.Z,{open:r,onClose:()=>k(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(i.default,{sx:M,children:[(0,l.jsx)(h.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\xbfEstas seguro que quiere salir?"}),(0,l.jsx)(i.default,{children:(0,l.jsx)(u.default,{sx:{bgcolor:"red"},variant:"contained",onClick:()=>{o(),e.push("/")},children:"SALIR"})})]})}),(0,l.jsxs)(f.Z,{id:"basic-menu",anchorEl:A,open:P,onClose:_,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,l.jsx)(m.Z,{onClick:_,component:R.default,href:"/start/productos",children:"Productos Por Bodega"}),(0,l.jsx)(m.Z,{onClick:_,component:R.default,href:"/start/productosMG",children:"Productos-MG"})]}),(0,l.jsx)(f.Z,{id:"basic-menu",anchorEl:A,MenuListProps:{"aria-labelledby":"basic-button"},open:!!A,onClose:()=>{D(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(T,{page:F})})]})]})}},10416:function(e,t,o){"use strict";var l=o(57437),r=o(27800),a=o(2265),n=o(60091);t.Z=e=>{let{datos:t}=e,[o,i]=(0,a.useState)(!1);return(0,l.jsx)(n.default,{variant:"outlined",color:"success",onClick:()=>{if(!Array.isArray(t)||0===t.length){console.error("Datos no est\xe1n en el formato correcto o est\xe1n vac\xedos.");return}i(!0);try{let e=r.P6.book_new(),o=r.P6.json_to_sheet(t);r.P6.book_append_sheet(e,o,"Datos"),r.NC(e,"datos.xlsx")}catch(e){console.error("Error al generar el archivo Excel",e)}finally{i(!1)}},disabled:o,children:o?"Loading...":"Excel"})}},16497:function(e,t,o){"use strict";o.r(t);var l=o(57437),r=o(83719),a=o(31193),n=o(99128),i=o(60091),s=o(28027),d=o(74275),c=o(60335),u=o(2265);o(85800);var h=o(68265),x=o(22294),f=o(16463),m=o(10416),p=o(77699),g=o(13726);let j=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),S=[{field:"FECHA_PEDIDO",headerName:"Fecha",width:170,renderCell:e=>j(e.value)},{field:"PEDIDO",headerName:"Pedido",width:160},{field:"ESTADO",headerName:"Estado",width:70},{field:"IMPRESO",headerName:"IMP",width:70},{field:"AUTORIZADONOM",headerName:"Autorizado",width:200,renderCell:e=>{let t=e.row.AUTORIZADONOM;return(0,l.jsx)(r.default,{style:{color:"APROBADO"===t?"#00FC00":"RETENIDO"===t?"#FF1507":"#000000",backgroundColor:"transparent"},children:t})}},{field:"U_COMPESPECIAL",headerName:"Esp",width:190},{field:"VENDEDOR",headerName:"Vend",width:100},{field:"COMENTARIO_CXC",headerName:"AUT.sistema",width:200},{field:"TOTAL_A_FACTURAR",headerName:"A FACT",width:120},{field:"NOMBRE_RAZON",headerName:"Cliente",width:400},{field:"U_EDITADOPOR",headerName:"Usuario MG",width:100},{field:"DEPTO",headerName:"Departamento",width:130},{field:"CIUDAD",headerName:"Ciudad",width:200}];t.default=e=>{let{pedidos:t}=e,o=(0,f.useRouter)(),[j,C]=(0,u.useState)([]),[b,v]=(0,u.useState)(t),[y,O]=(0,u.useState)([]),[w,E]=(0,u.useState)(!0);(0,u.useEffect)(()=>{v(t),E(!1)},[t]);let N=e=>{v(t.filter(t=>Object.values(t).map(e=>e?e.toString().toLowerCase():"").some(t=>t.includes(e))))},Z=(0,u.useCallback)(e=>{if(O(e),e.length>0){let l=t.filter(t=>{let o=t.PEDIDO;return!!o&&o.toString().includes(e[0])});localStorage.setItem("pedidoTemp",JSON.stringify(l)),o.push("/start/pedidos/pedidosC")}},[b]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.default,{children:[" "," "," ",(0,l.jsx)(g.Z,{})," "," "," "]}),(0,l.jsx)("div",{className:"container",children:!0===w?(0,l.jsx)(a.default,{sx:{width:"100%"},children:(0,l.jsx)(n.Z,{})}):(0,l.jsx)(a.default,{children:(0,l.jsxs)("div",{style:{height:"auto",width:"100%"},children:[(0,l.jsx)(r.default,{variant:"h5",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"column",alignItems:"center",width:"auto",margin:0,color:"#000"},children:"PEDIDOS"}),(0,l.jsx)(a.default,{children:(0,l.jsxs)(a.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"auto",margin:1},children:[(0,l.jsxs)(a.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,l.jsxs)(i.default,{variant:"outlined",sx:{margin:"10px"},children:[" "," "," Nuevo "," "," "]}),(0,l.jsx)(m.Z,{datos:t})]}),(0,l.jsxs)(s.Z,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:1100,margin:"10px"},children:[(0,l.jsx)(d.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar...",inputProps:{"aria-label":"search google maps"},autoFocus:!0,name:"PER_Usuario",value:j,onChange:e=>{C(e.target.value),N(e.target.value)}}),(0,l.jsx)(c.Z,{title:"buscar",sx:{p:"10px"},"aria-label":"search",children:(0,l.jsx)(p.Z,{})})]})]})}),(0,l.jsx)(a.default,{sx:{height:780,width:"100%"},children:(0,l.jsx)(h._,{rows:b,columns:S,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12],onRowSelectionModelChange:Z,slots:{toolbar:x.n},rowSelectionModel:y,getRowId:e=>e.PEDIDO,sx:{backgroundColor:"#ffffff"}})})]})})})]})}},85800:function(e,t,o){"use strict";o.d(t,{AuthProvider:function(){return i},a:function(){return s}});var l=o(57437),r=o(2265),a=o(44785);let n=(0,r.createContext)({login:e=>{},logout:()=>{}}),i=e=>{let{children:t}=e,[o,i]=(0,r.useState)(null),[s,d]=(0,r.useState)({}),[c,u]=(0,r.useState)({}),[h,x]=(0,r.useState)({}),[f]=(0,r.useState)(!0),m=(0,r.useCallback)(function(e){a.Z.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),i(e)},[]),p=(0,r.useCallback)(function(){a.Z.remove("authTokens"),localStorage.removeItem("auth"),i(null)},[]);(0,r.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("cliente"),o=localStorage.getItem("pedido"),l=localStorage.getItem("caja");e&&i(JSON.parse(e)),t&&d(JSON.parse(t)),o&&u(JSON.parse(o)),l&&x(JSON.parse(l))},[]);let g=(0,r.useMemo)(()=>({auth:o,cliente:s,setCliente:d,pedido:c,setPedido:u,caja:h,setCaja:x,loading:f,login:m,logout:p}),[o,s,c,h,m,p]);return(0,l.jsx)(n.Provider,{value:g,children:t})},s=()=>(0,r.useContext)(n)}}]);
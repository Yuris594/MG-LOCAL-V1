"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{11810:function(e,t,a){var i=a(23963);t.Z=void 0;var n=i(a(19118)),l=a(57437);t.Z=(0,n.default)((0,l.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"HighlightOff")},9504:function(e,t,a){var i=a(23963);t.Z=void 0;var n=i(a(19118)),l=a(57437);t.Z=(0,n.default)((0,l.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},77699:function(e,t,a){var i=a(23963);t.Z=void 0;var n=i(a(19118)),l=a(57437);t.Z=(0,n.default)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},15656:function(e,t,a){var i=a(2265),n=a(33822),l=a(92384),o=a(22960),r=a(95931),s=a(60909),d=a(57437);let u={entering:{transform:"none"},entered:{transform:"none"}},c=i.forwardRef(function(e,t){let a=(0,o.default)(),c={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:x,appear:h=!0,children:m,easing:f,in:p,onEnter:j,onEntered:C,onEntering:g,onExit:E,onExited:b,onExiting:P,style:v,timeout:Z=c,TransitionComponent:S=n.ZP,...O}=e,y=i.useRef(null),D=(0,s.Z)(y,(0,l.Z)(m),t),w=e=>t=>{if(e){let a=y.current;void 0===t?e(a):e(a,t)}},R=w(g),N=w((e,t)=>{(0,r.n)(e);let i=(0,r.C)({style:v,timeout:Z,easing:f},{mode:"enter"});e.style.webkitTransition=a.transitions.create("transform",i),e.style.transition=a.transitions.create("transform",i),j&&j(e,t)}),I=w(C),U=w(P),T=w(e=>{let t=(0,r.C)({style:v,timeout:Z,easing:f},{mode:"exit"});e.style.webkitTransition=a.transitions.create("transform",t),e.style.transition=a.transitions.create("transform",t),E&&E(e)}),k=w(b);return(0,d.jsx)(S,{appear:h,in:p,nodeRef:y,onEnter:N,onEntered:I,onEntering:R,onExit:T,onExited:k,onExiting:U,addEndListener:e=>{x&&x(y.current,e)},timeout:Z,...O,children:(e,t)=>i.cloneElement(m,{style:{transform:"scale(0)",visibility:"exited"!==e||p?void 0:"hidden",...u[e],...v,...m.props.style},ref:D,...t})})});t.Z=c},60559:function(e,t,a){a.r(t),a.d(t,{conexion:function(){return P}});var i=a(57437),n=a(31193),l=a(15656),o=a(62501),r=a(83719),s=a(60091),d=a(28027),u=a(74275),c=a(60335),x=a(11810),h=a(2265),m=a(77699),f=a(13726),p=a(52610),j=a(73716),C=a(21357),g=a(64379),E=a.n(g);let b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",height:"auto",bgcolor:"background.paper",boxShadow:24};function P(){E().fire({title:"No existe conexion",text:"Verifique la conexion con la empresa o no tiene internet",icon:"warning",button:"Axepatar"})}let v=[{field:"PER_Nom",headerName:"Nombre",width:200,editable:!0},{field:"PER_Usuario",headerName:"Usuario",width:150,editable:!0},{field:"PER_Clave",headerName:"Contrase\xf1a",width:150,editable:!0},{field:"IdDiv",headerName:"ID Divisi\xf3n",type:"number",width:120,editable:!0},{field:"PERAUTOPED",headerName:"Auto Pedidos",type:"number",width:130,editable:!0},{field:"CODVEND",headerName:"C\xf3digo Vendedor",width:150,editable:!0},{field:"PREFIJO",headerName:"Prefijo",width:120,editable:!0},{field:"CONSECUTIVOPED",headerName:"Consecutivo Pedidos",type:"number",width:180,editable:!0}],Z=async()=>{let e=await fetch("http://172.20.20.3:8001/usuarios/listar",{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()};t.default=function(){let[e,t]=(0,h.useState)(!1),[a,g]=(0,h.useState)([]),[E,S]=(0,h.useState)(!1),[O,y]=(0,h.useState)([]),[D,w]=(0,h.useState)([]),[R,N]=(0,h.useState)(!1),[I,U]=(0,h.useState)(!0),[T,k]=(0,h.useState)([]),[_,V]=(0,h.useState)([]),A=async e=>{try{let e=await Z();if(e){let t=e.map(e=>({IdPer:e.IdPer,PER_Nom:e.PER_Nom,PER_Usuario:e.PER_Usuario,PER_Clave:e.PER_Clave,IdDiv:e.IdDiv,PERAUTOPED:e.PERAUTOPED,CODVEND:e.CODVEND,PREFIJO:e.PREFIJO,CONSECUTIVOPED:e.CONSECUTIVOPED}));U(!1),y(t),g(t),V(t)}else console.log("Error",e)}catch(e){console.error("Error: No hay datos",e),P()}};(0,h.useEffect)(()=>{A(),N(!0)},[]);let F=e=>{y(_.filter(t=>Object.values(t).map(e=>e?e.toString().toLowerCase():"").some(t=>t.includes(e))))},J=(0,h.useCallback)(e=>{k(e),e.length>0&&(g(_.filter(t=>{let a=t.ID;return!!a&&a.toString().includes(e[0])})),S(!0))},[O]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.default,{marginBottom:"40px",children:[" "," ",(0,i.jsx)(f.Z,{})," "," "]}),(0,i.jsx)(l.Z,{in:R,children:(0,i.jsxs)(n.default,{style:{height:"auto",width:"100%"},children:[(0,i.jsx)(o.Z,{open:e,onClose:()=>t(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsx)(n.default,{sx:b,children:(0,i.jsx)(j.default,{})})}),(0,i.jsx)(o.Z,{open:E,onClose:()=>{g([]),S(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsx)(n.default,{sx:b,children:(0,i.jsx)(C.default,{usuario:a})})}),(0,i.jsx)(r.default,{variant:"h5",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"column",alignItems:"center",width:"auto",color:"#000000"},children:"USUARIOS"}),(0,i.jsxs)(n.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"auto",margin:1},children:[(0,i.jsx)(s.default,{variant:"outlined",onClick:()=>t(!0),sx:{margin:"10px"},color:"primary",children:"Nuevo Usuario"}),(0,i.jsxs)(d.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:1100,margin:"10px"},children:[(0,i.jsx)(u.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar...",inputProps:{"aria-label":"search google maps"},autoFocus:!0,value:D,onChange:e=>{e.preventDefault(),w(e.target.value),F(e.target.value)}}),0==D.length?(0,i.jsx)(c.Z,{title:"buscar",sx:{p:"10px"},"aria-label":"search",children:(0,i.jsx)(m.Z,{})}):(0,i.jsx)(c.Z,{title:"buscar",sx:{p:"10px"},"aria-label":"buscar",onClick:()=>{w(),A()},children:(0,i.jsx)(x.Z,{})})]})]}),(0,i.jsx)(n.default,{sx:{height:950,width:"100%"},children:(0,i.jsx)(p._,{rows:O,columns:v,initialState:{pagination:{paginationModel:{page:0,pageSize:16}}},pageSizeOptions:[5,16],onRowSelectionModelChange:J,rowSelectionModel:T,getRowId:e=>e.IdPer,sx:{"& .MuiDataGrid-columnHeaders":{backgroundColor:"#70aca2"},color:"#000"}})})]})})]})}},73716:function(e,t,a){a.r(t);var i=a(57437),n=a(48801),l=a(20124),o=a(25774),r=a(27270),s=a(31193),d=a(83719),u=a(58433),c=a(23983),x=a(60091),h=a(2265);let m=async e=>(await fetch("http://172.20.20.3:8001/usuarios/nuevo",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json();t.default=()=>{let[e,t]=(0,h.useState)({}),[a,f]=(0,h.useState)(!1),[p,j]=(0,h.useState)(!1),C=a=>{t({...e,[a.target.name]:a.target.value})},g=async t=>{if(t.preventDefault(),!e.PER_Nom||!e.IdDiv){j(!0);return}let a=await m(e);a.ok?(f(!0),console.log("Salida exitosa"),window.location.reload()):(j(!0),console.error("Error al enviar la solicitud: ",a.statusText))},E=e=>{"clickaway"!==e&&(f(!1),j(!1))};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(n.default,{component:"main",maxWidth:"xs",children:[(0,i.jsx)(l.default,{}),a?(0,i.jsx)(o.Z,{open:a,autoHideDuration:2e3,onClose:E,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,i.jsx)(r.Z,{onClose:E,severity:"success",sx:{width:"100%"},children:"Registro Exitoso"})}):"",p?(0,i.jsx)(o.Z,{open:p,autoHideDuration:2e3,onClose:E,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,i.jsx)(r.Z,{onClose:E,severity:"error",sx:{width:"100%"},children:"Registro denegado"})}):"",(0,i.jsxs)(s.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:2},children:[(0,i.jsx)(d.default,{component:"h1",variant:"h5",children:"Registro de usuario"}),(0,i.jsxs)(s.default,{component:"form",noValidate:!0,onSubmit:g,sx:{mt:3},children:[(0,i.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(c.Z,{autoComplete:"given-name",name:"PER_Nom",required:!0,fullWidth:!0,id:"PER_Nom",label:"Nombre",autoFocus:!0,value:e.PER_Nom||"",onChange:C})}),(0,i.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(c.Z,{required:!0,fullWidth:!0,id:"Usuario",label:"Usuario",name:"PER_Usuario",autoComplete:"family-name",value:e.PER_Usuario||"",onChange:C})}),(0,i.jsx)(u.ZP,{item:!0,xs:12,children:(0,i.jsx)(c.Z,{required:!0,fullWidth:!0,id:"Clave",label:"Clave",type:"password",name:"PER_Clave",autoComplete:"email",value:e.PER_Clave||"",onChange:C})}),(0,i.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(c.Z,{required:!0,fullWidth:!0,name:"IdDiv",label:"IdDiv",type:"number",id:"IdDiv",autoComplete:"new-password",value:e.IdDiv||"",onChange:C})}),(0,i.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(c.Z,{fullWidth:!0,id:"PERAUTOPED",label:"PERAUTOPED",type:"number",name:"PERAUTOPED",autoComplete:"email",value:e.PERAUTOPED||"",onChange:C})}),(0,i.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:(0,i.jsx)(c.Z,{fullWidth:!0,id:"CODVEND",label:"CODVEND",name:"CODVEND",autoComplete:"email",value:e.CODVEND||"",onChange:C})}),(0,i.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:(0,i.jsx)(c.Z,{fullWidth:!0,id:"PREFIJO",label:"PREFIJO",name:"PREFIJO",autoComplete:"email",value:e.PREFIJO||"",onChange:C})}),(0,i.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:(0,i.jsx)(c.Z,{fullWidth:!0,id:"CONSECUTIVOPED",label:"CONSECUTIVOPED",type:"number",name:"CONSECUTIVOPED",autoComplete:"email",value:e.CONSECUTIVOPED||"",onChange:C})})]}),(0,i.jsx)(x.default,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"registrar"})]})]})]})})}},13726:function(e,t,a){a.d(t,{Z:function(){return k}});var i=a(57437),n=a(20124),l=a(31193),o=a(71733),r=a(79806),s=a(60335),d=a(60091),u=a(83719),c=a(62501),x=a(6291),h=a(11656),m=a(66325),f=a(90922),p=a(26032),j=a(55693),C=a(42188),g=a(66299),E=a(78457),b=a(21704),P=a(66246),v=a(9504),Z=a(16463),S=a(85800),O=a(2265),y=a(32184),D=a(7547),w=a(57300),R=a(86917),N=a(47905),I=a(87138),U=e=>{let{page:t}=e;return(0,i.jsx)(l.default,{children:(0,i.jsx)(y.Z,{children:t.map(e=>(0,i.jsx)(D.ZP,{disablePadding:!0,children:(0,i.jsxs)(w.Z,{LinkComponent:I.default,href:e.url,onClick:e.onClick,children:[(0,i.jsx)(R.Z,{children:e.icon}),(0,i.jsx)(N.Z,{children:e.title})]})},e.title))})})};let T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",alignItems:"center",justifyContext:"center",boxShadow:24,pt:2,px:4,pb:3};var k=()=>{let e=(0,Z.useRouter)(),{auth:t}=(0,S.a)(),[a,y]=(0,O.useState)(!1),[D,w]=(0,O.useState)(null),[R,N]=(0,O.useState)(!1),[k,_]=(0,O.useState)(null),V=()=>{N(!1),w(null)},A=[{title:"USUARIOS ",url:"../../usuarios",icon:(0,i.jsx)(m.Z,{})},{title:"PEDIDOS",url:"../../pedidos",icon:(0,i.jsx)(f.Z,{})},{title:"CLIENTES",url:"../../clients",icon:(0,i.jsx)(p.Z,{})},{title:"PRODUCTOS",icon:(0,i.jsx)(j.Z,{}),onClick:e=>{N(!0),w(e.currentTarget)}},{title:"FACTURAS",url:"../../facturas",icon:(0,i.jsx)(C.Z,{})},{title:"CAJA",url:"../../pedidos/pedidosCaja",icon:(0,i.jsx)(g.Z,{})}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.default,{}),(0,i.jsxs)(l.default,{sx:{flexGrow:1},children:[(0,i.jsx)(o.Z,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(s.Z,{color:"inherit",onClick:e=>{_(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,i.jsx)(v.Z,{})}),(0,i.jsx)(l.default,{sx:{display:{xs:"none",md:"flex"}},children:A.map(e=>(0,i.jsx)(d.default,{sx:{fontWeight:"bold"},color:"inherit",size:"large",LinkComponent:I.default,href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,i.jsx)(u.default,{variant:"h6",sx:{flexGrow:1}}),(0,i.jsx)(d.default,{component:I.default,href:"/start",color:"inherit",children:(0,i.jsx)(P.Z,{})}),(0,i.jsxs)(d.default,{color:"inherit",children:[(0,i.jsx)(b.Z,{}),t&&t.PER_Nom]}),(0,i.jsx)(d.default,{color:"inherit",onClick:()=>y(!0),children:(0,i.jsx)(E.Z,{})})]})}),(0,i.jsx)(c.Z,{open:a,onClose:()=>y(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsxs)(l.default,{sx:T,children:[(0,i.jsx)(u.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\xbfEstas seguro que quiere salir?"}),(0,i.jsx)(l.default,{children:(0,i.jsx)(d.default,{sx:{bgcolor:"red"},variant:"contained",onClick:()=>{e.push("/")},children:"SALIR"})})]})}),(0,i.jsxs)(x.Z,{id:"basic-menu",anchorEl:D,open:R,onClose:V,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,i.jsx)(h.Z,{onClick:V,component:I.default,href:"../../productos",children:"Productos Por Bodega"}),(0,i.jsx)(h.Z,{onClick:V,component:I.default,href:"../../productosMG",children:"Productos-MG"})]}),(0,i.jsx)(x.Z,{id:"basic-menu",anchorEl:D,MenuListProps:{"aria-labelledby":"basic-button"},open:!!k,onClose:()=>{_(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,i.jsx)(U,{page:A})})]})]})}},85800:function(e,t,a){a.d(t,{AuthProvider:function(){return o},a:function(){return r}});var i=a(57437),n=a(2265);let l=(0,n.createContext)(),o=e=>{let{children:t}=e,[a,o]=(0,n.useState)(null),[r,s]=(0,n.useState)({}),[d,u]=(0,n.useState)({}),[c,x]=(0,n.useState)({}),[h,m]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=localStorage.getItem("datos"),t=localStorage.getItem("clientTemp"),a=localStorage.getItem("pedidoTemp"),i=localStorage.getItem("caja");e&&o(JSON.parse(e)),t&&s(JSON.parse(t)),a&&u(JSON.parse(a)),i&&x(JSON.parse(i))},[]),(0,i.jsx)(l.Provider,{value:{auth:a,cliente:r,setCliente:s,pedido:d,setPedido:u,caja:c,setCaja:x,loading:h,login:e=>{o(e)},logout:()=>{o(null)}},children:t})},r=()=>(0,n.useContext)(l)}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9290],{20067:function(){},72061:function(){},20124:function(e,t,o){"use strict";var l=o(2265),r=o(89211),n=o(95885),a=o(57437);let s="function"==typeof(0,r.zY)({}),i=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),c=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),d=function(e){var t,o;let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};l&&e.colorSchemes&&"function"==typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(t=>{var o,l;let[n,a]=t,s=e.getColorSchemeSelector(n);s.startsWith("@")?r[s]={":root":{colorScheme:null===(o=a.palette)||void 0===o?void 0:o.mode}}:r[s.replace(/\s*&/,"")]={colorScheme:null===(l=a.palette)||void 0===l?void 0:l.mode}});let n={html:i(e,l),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...c(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...r},a=null===(o=e.components)||void 0===o?void 0:null===(t=o.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return a&&(n=[n,a]),n},u="mui-ecs",h=e=>{let t=d(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[":root:has(".concat(u,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{var l,r;let[n,a]=t,s=e.getColorSchemeSelector(n);s.startsWith("@")?o[s]={[":root:not(:has(.".concat(u,"))")]:{colorScheme:null===(l=a.palette)||void 0===l?void 0:l.mode}}:o[s.replace(/\s*&/,"")]={["&:not(:has(.".concat(u,"))")]:{colorScheme:null===(r=a.palette)||void 0===r?void 0:r.mode}}}),t},x=(0,r.zY)(s?e=>{let{theme:t,enableColorScheme:o}=e;return d(t,o)}:e=>{let{theme:t}=e;return h(t)});t.default=function(e){let{children:t,enableColorScheme:o=!1}=(0,n.i)({props:e,name:"MuiCssBaseline"});return(0,a.jsxs)(l.Fragment,{children:[s&&(0,a.jsx)(x,{enableColorScheme:o}),!s&&!o&&(0,a.jsx)("span",{className:u,style:{display:"none"}}),t]})}},13726:function(e,t,o){"use strict";o.d(t,{Z:function(){return P}});var l=o(57437),r=o(33579),n=o.n(r),a=o(20124),s=o(31193),i=o(71733),c=o(79806),d=o(60335),u=o(60091),h=o(83719),x=o(62501),f=o(6291),p=o(11656),m=o(66325),g=o(90922),S=o(26032),j=o(55693),C=o(42188),b=o(66299),v=o(40301),E=o(78457),N=o(21704),y=o(66246),k=o(16463),O=o(85800),Z=o(2265),w=o(32184),I=o(7547),L=o(57300),A=o(86917),R=o(47905),T=o(87138),D=e=>{let{page:t}=e;return(0,l.jsx)(s.default,{children:(0,l.jsx)(w.Z,{children:t.map(e=>(0,l.jsx)(I.ZP,{disablePadding:!0,children:(0,l.jsxs)(L.Z,{LinkComponent:T.default,href:e.url,onClick:e.onClick,children:[(0,l.jsx)(A.Z,{children:e.icon}),(0,l.jsx)(R.Z,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};let M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",alignItems:"center",justifyContext:"center",boxShadow:24,textAlign:"center",pt:2,px:4,pb:3};var P=()=>{let e=(0,k.useRouter)(),{auth:t,logout:o}=(0,O.a)(),[r,w]=(0,Z.useState)(!1),[I,L]=(0,Z.useState)(null),[A,R]=(0,Z.useState)(!1),P=()=>{R(!1),L(null)},z=[{title:"USUARIOS ",url:"/components/usuarios",icon:(0,l.jsx)(m.Z,{})},{title:"PEDIDOS",url:"/components/pedidos",icon:(0,l.jsx)(g.Z,{})},{title:"CLIENTES",url:"/components/clientes",icon:(0,l.jsx)(S.Z,{})},{title:"PRODUCTOS",icon:(0,l.jsx)(j.Z,{}),onClick:e=>{R(!0),L(e.currentTarget)}},{title:"FACTURAS",url:"../start/facturas",icon:(0,l.jsx)(C.Z,{})},{title:"CAJA",url:"../components/pedidosCaja",icon:(0,l.jsx)(b.Z,{})}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)(s.default,{sx:{flexGrow:1},children:[(0,l.jsx)(i.Z,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(d.Z,{color:"inherit",onClick:e=>{L(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(v.Z,{})}),(0,l.jsx)(s.default,{sx:{display:{xs:"none",md:"flex"}},children:z.map(e=>(0,l.jsx)(u.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:T.default,href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,l.jsx)(h.default,{variant:"h6",sx:{flexGrow:1}}),(0,l.jsx)(u.default,{component:T.default,href:"/start",color:"inherit",children:(0,l.jsx)(y.Z,{})}),(0,l.jsxs)(u.default,{className:n().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,l.jsx)(N.Z,{}),t&&t.PER_Nom]}),(0,l.jsx)(u.default,{color:"inherit",onClick:()=>w(!0),children:(0,l.jsx)(E.Z,{})})]})}),(0,l.jsx)(x.Z,{open:r,onClose:()=>w(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(s.default,{sx:M,children:[(0,l.jsx)(h.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\xbfEstas seguro que quiere salir?"}),(0,l.jsx)(s.default,{children:(0,l.jsx)(u.default,{sx:{bgcolor:"red"},variant:"contained",onClick:()=>{o(),e.push("/")},children:"SALIR"})})]})}),(0,l.jsxs)(f.Z,{id:"basic-menu",anchorEl:I,open:A,onClose:P,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,l.jsx)(p.Z,{onClick:P,component:T.default,href:"/start/productos",children:"Productos Por Bodega"}),(0,l.jsx)(p.Z,{onClick:P,component:T.default,href:"/start/productosMG",children:"Productos-MG"})]}),(0,l.jsx)(f.Z,{id:"basic-menu",anchorEl:I,MenuListProps:{"aria-labelledby":"basic-button"},open:!!I,onClose:()=>{L(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,l.jsx)(D,{page:z})})]})]})}},10416:function(e,t,o){"use strict";var l=o(57437),r=o(27800),n=o(2265),a=o(60091);t.Z=e=>{let{datos:t}=e,[o,s]=(0,n.useState)(!1);return(0,l.jsx)(a.default,{variant:"outlined",color:"success",onClick:()=>{if(!Array.isArray(t)||0===t.length){console.error("Datos no est\xe1n en el formato correcto o est\xe1n vac\xedos.");return}s(!0);try{let e=r.P6.book_new(),o=r.P6.json_to_sheet(t);r.P6.book_append_sheet(e,o,"Datos"),r.NC(e,"datos.xlsx")}catch(e){console.error("Error al generar el archivo Excel",e)}finally{s(!1)}},disabled:o,children:o?"Loading...":"Excel"})}},42476:function(e,t,o){"use strict";o.r(t);var l=o(57437),r=o(2265),n=o(68265),a=o(22294),s=o(31193),i=o(60091),c=o(83719),d=o(28027),u=o(74275),h=o(77699),x=o(60335),f=o(85800),p=o(16463),m=o(87138),g=o(13726),S=o(10416);let j=[{field:"CLIENTE",headerName:"NIT",width:170},{field:"NOMBREALIAS",headerName:"NOMBRE",width:800},{field:"DIRECCION",headerName:"DIRECCI\xd3N",width:300},{field:"TELEFONO1",headerName:"TELEFONO",width:190},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:450},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}];t.default=e=>{let{clientes:t}=e,o=(0,p.useRouter)(),{setCliente:C}=(0,f.a)(),[b,v]=(0,r.useState)([]),[E,N]=(0,r.useState)(t),[y,k]=(0,r.useState)([]),O=e=>{N(t.filter(t=>{let o=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),l=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),r=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==o?void 0:o.includes(e.toLowerCase()))||(null==l?void 0:l.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))?t:null}))},Z=(0,r.useCallback)(e=>{if(k(e),e.length>0){let l=t.filter(t=>{let o=t.CLIENTE;return!!o&&o.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(l)),N(l),o.push("/start/clients/clientesTemp")}},[E]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.default,{children:[" ",(0,l.jsx)(g.Z,{})," "]}),(0,l.jsx)(s.default,{className:"container",children:(0,l.jsxs)(s.default,{children:[(0,l.jsx)(c.default,{variant:"h5",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"column",alignItems:"center",width:"auto",margin:0,color:"#000"},children:"CLIENTES"}),(0,l.jsxs)(s.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,l.jsxs)(s.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,l.jsx)(m.default,{href:"",children:(0,l.jsx)(i.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"})}),(0,l.jsx)(S.Z,{datos:t})]}),(0,l.jsxs)(d.Z,{elevation:3,sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:1100,margin:"10px"},children:[(0,l.jsx)(u.ZP,{sx:{ml:1,flex:1},placeholder:"Buscar...",inputProps:{"aria-label":"search google maps"},autoFocus:!0,value:b,onChange:e=>{e.preventDefault(),v(e.target.value),O(e.target.value)}}),(0,l.jsx)(x.Z,{title:"buscar",sx:{p:"10px"},"aria-label":"search",children:(0,l.jsx)(h.Z,{})})]})]}),(0,l.jsx)(s.default,{sx:{height:780,width:"100%"},children:(0,l.jsx)(n._,{rows:E,columns:j,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12],onRowSelectionModelChange:Z,rowSelectionModel:y,getRowId:e=>e.CLIENTE,slots:{toolbar:a.n},sx:{backgroundColor:"#ffffff"}})})]})})]})}},85800:function(e,t,o){"use strict";o.d(t,{AuthProvider:function(){return s},a:function(){return i}});var l=o(57437),r=o(2265),n=o(44785);let a=(0,r.createContext)({login:e=>{},logout:()=>{}}),s=e=>{let{children:t}=e,[o,s]=(0,r.useState)(null),[i,c]=(0,r.useState)({}),[d,u]=(0,r.useState)({}),[h,x]=(0,r.useState)({}),[f]=(0,r.useState)(!0),p=(0,r.useCallback)(function(e){n.Z.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),s(e)},[]),m=(0,r.useCallback)(function(){n.Z.remove("authTokens"),localStorage.removeItem("auth"),s(null)},[]);(0,r.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("cliente"),o=localStorage.getItem("pedido"),l=localStorage.getItem("caja");e&&s(JSON.parse(e)),t&&c(JSON.parse(t)),o&&u(JSON.parse(o)),l&&x(JSON.parse(l))},[]);let g=(0,r.useMemo)(()=>({auth:o,cliente:i,setCliente:c,pedido:d,setPedido:u,caja:h,setCaja:x,loading:f,login:p,logout:m}),[o,i,d,h,p,m]);return(0,l.jsx)(a.Provider,{value:g,children:t})},i=()=>(0,r.useContext)(a)}}]);
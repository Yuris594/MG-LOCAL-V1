(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8025],{87023:function(e,t,r){Promise.resolve().then(r.bind(r,5152))},77699:function(e,t,r){"use strict";var a=r(23963);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(19118)),i=r(57437);t.default=(0,n.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},79806:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var a=r(2265),n=r(44839),i=r(76990),o=r(48024),s=r(339),l=r(95885),u=r(72296),d=r(70587);function c(e){return(0,d.ZP)("MuiToolbar",e)}(0,u.Z)("MuiToolbar",["root","gutters","regular","dense"]);var f=r(57437);let p=e=>{let{classes:t,disableGutters:r,variant:a}=e;return(0,i.Z)({root:["root",!r&&"gutters",a]},c,t)},h=(0,o.default)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((0,s.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}));var g=a.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiToolbar"}),{className:a,component:i="div",disableGutters:o=!1,variant:s="regular",...u}=r,d={...r,component:i,disableGutters:o,variant:s},c=p(d);return(0,f.jsx)(h,{as:i,className:(0,n.Z)(c.root,a),ref:t,ownerState:d,...u})})},15656:function(e,t,r){"use strict";var a=r(2265),n=r(33822),i=r(92384),o=r(22960),s=r(95931),l=r(60909),u=r(57437);let d={entering:{transform:"none"},entered:{transform:"none"}},c=a.forwardRef(function(e,t){let r=(0,o.default)(),c={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:f,appear:p=!0,children:h,easing:g,in:m,onEnter:E,onEntered:N,onEntering:x,onExit:v,onExited:S,onExiting:C,style:w,timeout:O=c,TransitionComponent:b=n.ZP,...y}=e,T=a.useRef(null),I=(0,l.Z)(T,(0,i.Z)(h),t),L=e=>t=>{if(e){let r=T.current;void 0===t?e(r):e(r,t)}},R=L(x),j=L((e,t)=>{(0,s.n)(e);let a=(0,s.C)({style:w,timeout:O,easing:g},{mode:"enter"});e.style.webkitTransition=r.transitions.create("transform",a),e.style.transition=r.transitions.create("transform",a),E&&E(e,t)}),M=L(N),Z=L(C),D=L(e=>{let t=(0,s.C)({style:w,timeout:O,easing:g},{mode:"exit"});e.style.webkitTransition=r.transitions.create("transform",t),e.style.transition=r.transitions.create("transform",t),v&&v(e)}),k=L(S);return(0,u.jsx)(b,{appear:p,in:m,nodeRef:T,onEnter:j,onEntered:M,onEntering:R,onExit:D,onExited:k,onExiting:Z,addEndListener:e=>{f&&f(T.current,e)},timeout:O,...y,children:(e,t)=>a.cloneElement(h,{style:{transform:"scale(0)",visibility:"exited"!==e||m?void 0:"hidden",...d[e],...w,...h.props.style},ref:I,...t})})});t.Z=c},87138:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(231),n=r.n(a)},5152:function(e,t,r){"use strict";r.r(t);var a=r(57437),n=r(2265),i=r(77699),o=r(60335),s=r(83719),l=r(74275),u=r(52610),d=r(60091),c=r(28027),f=r(15656),p=r(31193);r(87138);var h=r(39987),g=r(15408);r(85935);let m=[{field:"CLIENTE",headerName:"NIT",width:130,headerClassName:"super-app-theme--header"},{field:"NOMBREALIAS",headerName:"NOMBRE",width:600,headerClassName:"super-app-theme--header"},{field:"DIRECCION",headerName:"DIRECCION",width:300,headerClassName:"super-app-theme--header"},{field:"TELEFONO1",headerName:"TELEFONO",width:190,headerClassName:"super-app-theme--header"},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:200,headerClassName:"super-app-theme--header"},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,headerClassName:"super-app-theme--header",valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}];t.default=e=>{let{setOpen:t}=e,{setCliente:r}=(0,h.Z)(),[E,N]=(0,n.useState)(),[x,v]=(0,n.useState)(""),[S,C]=(0,n.useState)(!1),[w,O]=(0,n.useState)([]),[b,y]=(0,n.useState)([]);(0,n.useEffect)(()=>{T()},[]);let T=async()=>{try{let{datos:e}=await (0,g.Z)("/api/clientes/listar","GET");e&&(N(e),O(e)),setTimeout(()=>{C(!0)},100)}catch(e){console.log("Error al obtener los datos",e)}},I=(0,n.useMemo)(()=>T,[]);(0,n.useEffect)(()=>{I()},[I]);let L=e=>{N(w.filter(t=>{let r=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),a=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),n=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==r?void 0:r.includes(e.toLowerCase()))||(null==a?void 0:a.includes(e.toLowerCase()))||(null==n?void 0:n.includes(e.toLowerCase()))?t:null}))},R=(0,n.useCallback)(e=>{if(y(e),e.length>0){let a=w.filter(t=>{let r=t.CLIENTE;return!!r&&r.toString().includes(e[0])});localStorage.setItem("clientTemp",JSON.stringify(a)),r(a[0]),t(!1)}},[E]);return setTimeout(()=>{C(!0)},100),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{style:{height:"auto",width:"100%",backgroundColor:"#ffffff"},children:[(0,a.jsx)(s.default,{variant:"h",component:"h1",gutterBottom:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"auto",margin:0,color:"#000000"},children:"CLIENTES"}),(0,a.jsxs)(p.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:1},children:[(0,a.jsx)(d.default,{variant:"outlined",sx:{margin:"2px"},children:"Nuevo"}),(0,a.jsxs)(c.default,{sx:{p:"2px 4px",display:"flex",alignItems:"flex-rigth",width:650,margin:"0%"},children:[(0,a.jsx)(l.default,{sx:{ml:1,flex:1},placeholder:"Buscar",inputProps:{"aria-label":"search google maps"},autoComplete:"usuario",autoFocus:!0,value:x,onChange:e=>{e.preventDefault(),v(e.target.value),L(e.target.value)}}),(0,a.jsx)(o.default,{title:"buscar",type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,a.jsx)(i.default,{})})]})]}),(0,a.jsx)(f.Z,{in:S,children:(0,a.jsx)(p.default,{sx:{height:640,width:"100%","& .super-app-theme--header":{backgroundColor:"#0a0a0a",color:"#fff"}},children:(0,a.jsx)(u._,{rows:E,columns:m,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[5,10],onRowSelectionModelChange:R,rowSelectionModel:b,getRowId:e=>e.CLIENTE,sx:{backgroundColor:"#ffffff"}})})})]})})}},39987:function(e,t,r){"use strict";r.d(t,{a:function(){return i}});var a=r(85800),n=r(2265);let i=()=>(0,n.useContext)(a.default);t.Z=i},85935:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});let a={url:"http://172.20.20.3:8001"}},15408:function(e,t){"use strict";let r=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;try{let n=!0,i={method:"GET"};("GET"===t||"DELETE"===t)&&(i={method:t}),("POST"===t||"PUT"===t)&&(JSON.stringify(r),a?i={method:t,body:r}:i.body=JSON.stringify(r));let o=await fetch(e,i);if(!o.ok)return{error:"Error en la solicitud Fetch",status:o.status,cargando:!1};let s=await o.json();return n=!1,{datos:s,cargando:n}}catch(e){return{datos:null,cargando:!1}}};t.Z=r},85800:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o}});var a=r(57437),n=r(2265);let i=(0,n.createContext)(),o=e=>{let{children:t}=e,[r,o]=(0,n.useState)({}),[s,l]=(0,n.useState)({}),[u,d]=(0,n.useState)({}),[c,f]=(0,n.useState)({}),[p,h]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=localStorage.getItem("datos"),t=localStorage.getItem("clientTemp"),r=localStorage.getItem("pedidoTemp"),a=localStorage.getItem("caja");e&&o(JSON.parse(e)),t&&l(JSON.parse(t)),r&&d(JSON.parse(r)),a&&f(JSON.parse(a))},[]),(0,a.jsx)(i.Provider,{value:{auth:r,setAuth:o,cliente:s,setCliente:l,pedido:u,setPedido:d,caja:c,setCaja:f,loading:p},children:t})};t.default=i}},function(e){e.O(0,[4797,4129,6291,2561,4275,3983,1878,2610,2971,7023,1744],function(){return e(e.s=87023)}),_N_E=e.O()}]);